(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"83DU":function(t,e,i){"use strict";i.r(e),i.d(e,"GanttDemoModule",(function(){return Qa}));var n,r=i("ofXK");!function(t){let e,i,n,r;t.BASIC_DAY_PIXEL=6,t.BASIC_TASK_PIXEL=16,t.TASK_ROW_HEIGHT=29,function(t){t.day="day",t.week="week",t.month="month"}(e=t.GanttScaleUnit||(t.GanttScaleUnit={})),function(t){t.DateLineColor="#e9edfa",t.DateTextColor="#8a8e99",t.WeekendColor="#e9edfa",t.MonthLineColor="#adb0b8",t.TaskFillColor="#5e7ce0",t.TaskRowColor="#f2f5fc",t.AbstractTaskFillColor="#cacfd8",t.ScrollThumbDefault="#cbcdd1"}(i=t.COLOR_CONFIG||(t.COLOR_CONFIG={})),function(t){t[t.Normal=0]="Normal",t[t.Abstract=1]="Abstract",t[t.Milestone=2]="Milestone"}(n=t.TASK_TYPE||(t.TASK_TYPE={})),function(t){t[t.TaskRowBackground=0]="TaskRowBackground",t[t.NonWorkDayBackground=1]="NonWorkDayBackground",t[t.MonthScaleLine=2]="MonthScaleLine",t[t.TaskItem=3]="TaskItem",t[t.DateScale=4]="DateScale",t[t.ScrollThumb=5]="ScrollThumb"}(r=t.ELEMENT_Z_INDEX_TIER||(t.ELEMENT_Z_INDEX_TIER={}))}(n||(n={}));var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)};function s(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var a=function(t){this.value=t},h=function(){function t(){this._len=0}return t.prototype.insert=function(t){var e=new a(t);return this.insertEntry(e),e},t.prototype.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},t.prototype.remove=function(t){var e=t.prev,i=t.next;e?e.next=i:this.head=i,i?i.prev=e:this.tail=e,t.next=t.prev=null,this._len--},t.prototype.len=function(){return this._len},t.prototype.clear=function(){this.head=this.tail=null,this._len=0},t}(),l=function(){function t(t){this._list=new h,this._maxSize=10,this._map={},this._maxSize=t}return t.prototype.put=function(t,e){var i=this._list,n=this._map,r=null;if(null==n[t]){var o=i.len(),s=this._lastRemovedEntry;if(o>=this._maxSize&&o>0){var h=i.head;i.remove(h),delete n[h.key],r=h.value,this._lastRemovedEntry=h}s?s.value=e:s=new a(e),s.key=t,i.insertEntry(s),n[t]=s}return r},t.prototype.get=function(t){var e=this._map[t],i=this._list;if(null!=e)return e!==i.tail&&(i.remove(e),i.insertEntry(e)),e.value},t.prototype.clear=function(){this._list.clear(),this._map={}},t.prototype.len=function(){return this._list.len()},t}(),c=new l(50);function u(t){if("string"==typeof t){var e=c.get(t);return e&&e.image}return t}var d={"[object Function]":!0,"[object RegExp]":!0,"[object Date]":!0,"[object Error]":!0,"[object CanvasGradient]":!0,"[object CanvasPattern]":!0,"[object Image]":!0,"[object Canvas]":!0},p={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0},f=Object.prototype.toString,g=Array.prototype,_=g.forEach,v=g.slice,m=g.map,y=(function(){}).constructor,w=y?y.prototype:null,b={},x=2311;function T(){return x++}function S(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];"undefined"!=typeof console&&console.error.apply(console,t)}function D(t){if(null==t||"object"!=typeof t)return t;var e=t,i=f.call(t);if("[object Array]"===i){if(!N(t)){e=[];for(var n=0,r=t.length;n<r;n++)e[n]=D(t[n])}}else if(p[i]){if(!N(t)){var o=t.constructor;if(o.from)e=o.from(t);else for(e=new o(t.length),n=0,r=t.length;n<r;n++)e[n]=D(t[n])}}else if(!d[i]&&!N(t)&&!function(t){return"object"==typeof t&&"number"==typeof t.nodeType&&"object"==typeof t.ownerDocument}(t))for(var s in e={},t)t.hasOwnProperty(s)&&(e[s]=D(t[s]));return e}function C(t,e){if(Object.assign)Object.assign(t,e);else for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function k(t,e,i){for(var n=A(e),r=0;r<n.length;r++){var o=n[r];(i?null!=e[o]:null==t[o])&&(t[o]=e[o])}return t}function P(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i}return-1}function E(t,e,i){if(t="prototype"in t?t.prototype:t,e="prototype"in e?e.prototype:e,Object.getOwnPropertyNames)for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var o=n[r];"constructor"!==o&&(i?null!=e[o]:null==t[o])&&(t[o]=e[o])}else k(t,e,i)}function R(t){return!!t&&"string"!=typeof t&&"number"==typeof t.length}function M(t,e,i){if(t&&e)if(t.forEach&&t.forEach===_)t.forEach(e,i);else if(t.length===+t.length)for(var n=0,r=t.length;n<r;n++)e.call(i,t[n],n,t);else for(var o in t)t.hasOwnProperty(o)&&e.call(i,t[o],o,t)}function A(t){if(!t)return[];if(Object.keys)return Object.keys(t);var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(i);return e}function O(t){return"string"==typeof t}function I(t){var e=typeof t;return"function"===e||!!t&&"object"===e}function L(t,e){return null!=t?t:e}function z(t,e,i){return null!=t?t:null!=e?e:i}function N(t){return t.__ec_primitive__}function H(t,e){var i;if(Object.create)i=Object.create(t);else{var n=function(){};n.prototype=t,i=new n}return e&&C(i,e),i}function F(){}function B(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function W(t,e,i){var n=e[1]*i[0]+e[3]*i[1],r=e[0]*i[2]+e[2]*i[3],o=e[1]*i[2]+e[3]*i[3],s=e[0]*i[4]+e[2]*i[5]+e[4],a=e[1]*i[4]+e[3]*i[5]+e[5];return t[0]=e[0]*i[0]+e[2]*i[1],t[1]=n,t[2]=r,t[3]=o,t[4]=s,t[5]=a,t}function Y(t,e,i){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+i[0],t[5]=e[5]+i[1],t}b.createCanvas=function(){return document.createElement("canvas")},w&&"function"==typeof w.bind&&w.call.bind(w.bind),function(){function t(e){this.data={};var i=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===f.call(t)}(e);this.data={};var n=this;function r(t,e){i?n.set(t,e):n.set(e,t)}e instanceof t?e.each(r):e&&M(e,r)}t.prototype.get=function(t){return this.data.hasOwnProperty(t)?this.data[t]:null},t.prototype.set=function(t,e){return this.data[t]=e},t.prototype.each=function(t,e){for(var i in this.data)this.data.hasOwnProperty(i)&&t.call(e,this.data[i],i)},t.prototype.keys=function(){return A(this.data)},t.prototype.removeKey=function(t){delete this.data[t]}}();var G,U,j=function(){function t(t,e){this.x=t||0,this.y=e||0}return t.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.set=function(t,e){return this.x=t,this.y=e,this},t.prototype.equal=function(t){return t.x===this.x&&t.y===this.y},t.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},t.prototype.scale=function(t){this.x*=t,this.y*=t},t.prototype.scaleAndAdd=function(t,e){this.x+=t.x*e,this.y+=t.y*e},t.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},t.prototype.dot=function(t){return this.x*t.x+this.y*t.y},t.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},t.prototype.normalize=function(){var t=this.len();return this.x/=t,this.y/=t,this},t.prototype.distance=function(t){var e=this.x-t.x,i=this.y-t.y;return Math.sqrt(e*e+i*i)},t.prototype.distanceSquare=function(t){var e=this.x-t.x,i=this.y-t.y;return e*e+i*i},t.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},t.prototype.transform=function(t){if(t){var e=this.x,i=this.y;return this.x=t[0]*e+t[2]*i+t[4],this.y=t[1]*e+t[3]*i+t[5],this}},t.prototype.toArray=function(t){return t[0]=this.x,t[1]=this.y,t},t.prototype.fromArray=function(t){this.x=t[0],this.y=t[1]},t.set=function(t,e,i){t.x=e,t.y=i},t.copy=function(t,e){t.x=e.x,t.y=e.y},t.len=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},t.lenSquare=function(t){return t.x*t.x+t.y*t.y},t.dot=function(t,e){return t.x*e.x+t.y*e.y},t.add=function(t,e,i){t.x=e.x+i.x,t.y=e.y+i.y},t.sub=function(t,e,i){t.x=e.x-i.x,t.y=e.y-i.y},t.scale=function(t,e,i){t.x=e.x*i,t.y=e.y*i},t.scaleAndAdd=function(t,e,i,n){t.x=e.x+i.x*n,t.y=e.y+i.y*n},t.lerp=function(t,e,i,n){var r=1-n;t.x=r*e.x+n*i.x,t.y=r*e.y+n*i.y},t}(),q=Math.min,X=Math.max,V=new j,K=new j,Z=new j,Q=new j,$=new j,J=new j,tt=function(){function t(t,e,i,n){i<0&&isFinite(i)&&(t+=i,i=-i),n<0&&isFinite(n)&&(e+=n,n=-n),this.x=t,this.y=e,this.width=i,this.height=n}return t.prototype.union=function(t){var e=q(t.x,this.x),i=q(t.y,this.y);this.width=isFinite(this.x)&&isFinite(this.width)?X(t.x+t.width,this.x+this.width)-e:t.width,this.height=isFinite(this.y)&&isFinite(this.height)?X(t.y+t.height,this.y+this.height)-i:t.height,this.x=e,this.y=i},t.prototype.applyTransform=function(e){t.applyTransform(this,this,e)},t.prototype.calculateTransform=function(t){var e=this,i=t.width/e.width,n=t.height/e.height,r=[1,0,0,1,0,0];return Y(r,r,[-e.x,-e.y]),function(t,e,i){var n=i[0],r=i[1];t[0]=e[0]*n,t[1]=e[1]*r,t[2]=e[2]*n,t[3]=e[3]*r,t[4]=e[4]*n,t[5]=e[5]*r}(r,r,[i,n]),Y(r,r,[t.x,t.y]),r},t.prototype.intersect=function(e,i){if(!e)return!1;e instanceof t||(e=t.create(e));var n=this,r=n.x,o=n.x+n.width,s=n.y,a=n.y+n.height,h=e.x,l=e.x+e.width,c=e.y,u=e.y+e.height,d=!(o<h||l<r||a<c||u<s);if(i){var p=1/0,f=0,g=Math.abs(o-h),_=Math.abs(l-r),v=Math.abs(a-c),m=Math.abs(u-s),y=Math.min(g,_),w=Math.min(v,m);o<h||l<r?y>f&&(f=y,j.set(J,g<_?-g:_,0)):y<p&&(p=y,j.set($,g<_?g:-_,0)),a<c||u<s?w>f&&(f=w,j.set(J,0,v<m?-v:m)):y<p&&(p=y,j.set($,0,v<m?v:-m))}return i&&j.copy(i,d?$:J),d},t.prototype.contain=function(t,e){return t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height},t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copy=function(e){t.copy(this,e)},t.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},t.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},t.prototype.isZero=function(){return 0===this.width||0===this.height},t.create=function(e){return new t(e.x,e.y,e.width,e.height)},t.copy=function(t,e){t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height},t.applyTransform=function(e,i,n){if(n){if(n[1]<1e-5&&n[1]>-1e-5&&n[2]<1e-5&&n[2]>-1e-5){var r=n[0],o=n[3],s=n[5];return e.x=i.x*r+n[4],e.y=i.y*o+s,e.width=i.width*r,e.height=i.height*o,e.width<0&&(e.x+=e.width,e.width=-e.width),void(e.height<0&&(e.y+=e.height,e.height=-e.height))}V.x=Z.x=i.x,V.y=Q.y=i.y,K.x=Q.x=i.x+i.width,K.y=Z.y=i.y+i.height,V.transform(n),Q.transform(n),K.transform(n),Z.transform(n),e.x=q(V.x,K.x,Z.x,Q.x),e.y=q(V.y,K.y,Z.y,Q.y);var a=X(V.x,K.x,Z.x,Q.x),h=X(V.y,K.y,Z.y,Q.y);e.width=a-e.x,e.height=h-e.y}else e!==i&&t.copy(e,i)},t}(),et={};function it(t,e){var i=et[e=e||"12px sans-serif"];i||(i=et[e]=new l(500));var n=i.get(t);return null==n&&(n=function(t,e){return G||(G=b.createCanvas().getContext("2d")),U!==e&&(U=G.font=e||"12px sans-serif"),G.measureText(t)}(t,e).width,i.put(t,n)),n}function nt(t,e,i,n){var r=it(t,e),o=st(e),s=rt(0,r,i),a=ot(0,o,n);return new tt(s,a,r,o)}function rt(t,e,i){return"right"===i?t-=e:"center"===i&&(t-=e/2),t}function ot(t,e,i){return"middle"===i?t-=e/2:"bottom"===i&&(t-=e),t}function st(t){return it("\u56fd",t)}function at(t,e){return"string"==typeof t?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t}var ht=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function lt(t,e,i,n,r){if(!e)return"";var o=(t+"").split("\n");r=ct(e,i,n,r);for(var s=0,a=o.length;s<a;s++)o[s]=ut(o[s],r);return o.join("\n")}function ct(t,e,i,n){var r=C({},n=n||{});r.font=e,i=L(i,"..."),r.maxIterations=L(n.maxIterations,2);var o=r.minChar=L(n.minChar,0);r.cnCharWidth=it("\u56fd",e);var s=r.ascCharWidth=it("a",e);r.placeholder=L(n.placeholder,"");for(var a=t=Math.max(0,t-1),h=0;h<o&&a>=s;h++)a-=s;var l=it(i,e);return l>a&&(i="",l=0),a=t-l,r.ellipsis=i,r.ellipsisWidth=l,r.contentWidth=a,r.containerWidth=t,r}function ut(t,e){var i=e.containerWidth,n=e.font,r=e.contentWidth;if(!i)return"";var o=it(t,n);if(o<=i)return t;for(var s=0;;s++){if(o<=r||s>=e.maxIterations){t+=e.ellipsis;break}var a=0===s?dt(t,r,e.ascCharWidth,e.cnCharWidth):o>0?Math.floor(t.length*r/o):0;o=it(t=t.substr(0,a),n)}return""===t&&(t=e.placeholder),t}function dt(t,e,i,n){for(var r=0,o=0,s=t.length;o<s&&r<e;o++){var a=t.charCodeAt(o);r+=0<=a&&a<=127?i:n}return o}var pt=function(){},ft=function(t){this.tokens=[],t&&(this.tokens=t)},gt=function(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]};function _t(t,e,i,n,r){var o,s,a=""===e,h=r&&i.rich[r]||{},l=t.lines,c=h.font||i.font,u=!1;if(n){var d=h.padding,p=d?d[1]+d[3]:0;if(null!=h.width&&"auto"!==h.width){var f=at(h.width,n.width)+p;l.length>0&&f+n.accumWidth>n.width&&(o=e.split("\n"),u=!0),n.accumWidth=f}else{var g=yt(e,c,n.width,n.breakAll,n.accumWidth);n.accumWidth=g.accumWidth+p,s=g.linesWidths,o=g.lines}}else o=e.split("\n");for(var _=0;_<o.length;_++){var v=o[_],m=new pt;if(m.styleName=r,m.text=v,m.isLineHolder=!v&&!a,m.width="number"==typeof h.width?h.width:s?s[_]:it(v,c),_||u)l.push(new ft([m]));else{var y=(l[l.length-1]||(l[0]=new ft)).tokens,w=y.length;1===w&&y[0].isLineHolder?y[0]=m:(v||!w||a)&&y.push(m)}}}var vt=function(t,e,i,n){if(t&&e){for(var r=0,o=t.length;r<o;r++)i=e.call(void 0,i,t[r],r,t);return i}}(",&?/;] ".split(""),(function(t,e){return t[e]=!0,t}),{});function mt(t){return!function(t){var e=t.charCodeAt(0);return e>=33&&e<=255}(t)||!!vt[t]}function yt(t,e,i,n,r){for(var o=[],s=[],a="",h="",l=0,c=0,u=0;u<t.length;u++){var d=t.charAt(u);if("\n"!==d){var p=it(d,e),f=!n&&!mt(d);(o.length?c+p>i:r+c+p>i)?c?(a||h)&&(f?(a||(a=h,h="",c=l=0),o.push(a),s.push(c-l),h+=d,a="",c=l+=p):(h&&(a+=h,c+=l,h="",l=0),o.push(a),s.push(c),a=d,c=p)):f?(o.push(h),s.push(l),h=d,l=p):(o.push(d),s.push(p)):(c+=p,f?(h+=d,l+=p):(h&&(a+=h,h="",l=0),a+=d))}else h&&(a+=h,c+=l),o.push(a),s.push(c),a="",h="",l=0,c=0}return o.length||a||(a=t,h="",l=0),h&&(a+=h),a&&(o.push(a),s.push(c)),1===o.length&&(c+=r),{accumWidth:c,lines:o,linesWidths:s}}function wt(t,e){return null==t&&(t=0),null==e&&(e=0),[t,e]}function bt(t){return[t[0],t[1]]}function xt(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t}function Tt(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t}function St(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t}function Dt(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}var Ct=Dt,kt=function(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])};function Pt(t,e,i){var n=e[0],r=e[1];return t[0]=i[0]*n+i[2]*r+i[4],t[1]=i[1]*n+i[3]*r+i[5],t}function Et(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t}function Rt(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t}var Mt=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t};function At(t){return t>5e-5||t<-5e-5}var Ot=[],It=[],Lt=[1,0,0,1,0,0],zt=Math.abs,Nt=function(){function t(){}var e;return t.prototype.setPosition=function(t){this.x=t[0],this.y=t[1]},t.prototype.setScale=function(t){this.scaleX=t[0],this.scaleY=t[1]},t.prototype.setOrigin=function(t){this.originX=t[0],this.originY=t[1]},t.prototype.needLocalTransform=function(){return At(this.rotation)||At(this.x)||At(this.y)||At(this.scaleX-1)||At(this.scaleY-1)},t.prototype.updateTransform=function(){var t=this.parent,e=t&&t.transform,i=this.needLocalTransform(),n=this.transform;i||e?(n=n||[1,0,0,1,0,0],i?this.getLocalTransform(n):Mt(n),e&&(i?W(n,t.transform,n):B(n,t.transform)),this.transform=n,this._resolveGlobalScaleRatio(n)):n&&Mt(n)},t.prototype._resolveGlobalScaleRatio=function(t){var e,i,n,r,o,s,a,h,l,c=this.globalScaleRatio;if(null!=c&&1!==c){this.getGlobalScale(Ot);var u=Ot[0]<0?-1:1,d=Ot[1]<0?-1:1,p=((Ot[0]-u)*c+u)/Ot[0]||0,f=((Ot[1]-d)*c+d)/Ot[1]||0;t[0]*=p,t[1]*=p,t[2]*=f,t[3]*=f}this.invTransform=this.invTransform||[1,0,0,1,0,0],e=this.invTransform,o=(i=t)[4],h=i[5],(l=(n=i[0])*(a=i[3])-(s=i[1])*(r=i[2]))&&(e[0]=a*(l=1/l),e[1]=-s*l,e[2]=-r*l,e[3]=n*l,e[4]=(r*h-a*o)*l,e[5]=(s*o-n*h)*l)},t.prototype.getLocalTransform=function(e){return t.getLocalTransform(this,e)},t.prototype.getComputedTransform=function(){for(var t=this,e=[];t;)e.push(t),t=t.parent;for(;t=e.pop();)t.updateTransform();return this.transform},t.prototype.setLocalTransform=function(t){if(t){var e=t[0]*t[0]+t[1]*t[1],i=t[2]*t[2]+t[3]*t[3];At(e-1)&&(e=Math.sqrt(e)),At(i-1)&&(i=Math.sqrt(i)),t[0]<0&&(e=-e),t[3]<0&&(i=-i),this.rotation=Math.atan2(-t[1]/i,t[0]/e),e<0&&i<0&&(this.rotation+=Math.PI,e=-e,i=-i),this.x=t[4],this.y=t[5],this.scaleX=e,this.scaleY=i}},t.prototype.decomposeTransform=function(){if(this.transform){var t=this.parent,e=this.transform;t&&t.transform&&(W(It,t.invTransform,e),e=It);var i=this.originX,n=this.originY;(i||n)&&(Lt[4]=i,Lt[5]=n,W(It,e,Lt),It[4]-=i,It[5]-=n,e=It),this.setLocalTransform(e)}},t.prototype.getGlobalScale=function(t){var e=this.transform;return t=t||[],e?(t[0]=Math.sqrt(e[0]*e[0]+e[1]*e[1]),t[1]=Math.sqrt(e[2]*e[2]+e[3]*e[3]),e[0]<0&&(t[0]=-t[0]),e[3]<0&&(t[1]=-t[1]),t):(t[0]=1,t[1]=1,t)},t.prototype.transformCoordToLocal=function(t,e){var i=[t,e],n=this.invTransform;return n&&Pt(i,i,n),i},t.prototype.transformCoordToGlobal=function(t,e){var i=[t,e],n=this.transform;return n&&Pt(i,i,n),i},t.prototype.getLineScale=function(){var t=this.transform;return t&&zt(t[0]-1)>1e-10&&zt(t[3]-1)>1e-10?Math.sqrt(zt(t[0]*t[3]-t[2]*t[1])):1},t.getLocalTransform=function(t,e){Mt(e=e||[]);var i,n,r,o,s,a,h,l,c,u,d,p=t.originX||0,f=t.originY||0,g=t.scaleX,_=t.scaleY,v=t.rotation||0,m=t.x,y=t.y;return e[4]-=p,e[5]-=f,e[0]*=g,e[1]*=_,e[2]*=g,e[3]*=_,e[4]*=g,e[5]*=_,v&&(i=e,r=v,o=(n=e)[0],s=n[2],a=n[4],h=n[1],l=n[3],c=n[5],u=Math.sin(r),d=Math.cos(r),i[0]=o*d+h*u,i[1]=-o*u+h*d,i[2]=s*d+l*u,i[3]=-s*u+d*l,i[4]=d*a+u*c,i[5]=d*c-u*a),e[4]+=p,e[5]+=f,e[4]+=m,e[5]+=y,e},t.initDefaultProps=((e=t.prototype).x=0,e.y=0,e.scaleX=1,e.scaleY=1,e.originX=0,e.originY=0,e.rotation=0,void(e.globalScaleRatio=1)),t}(),Ht={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return.5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return 0===t?0:Math.pow(1024,t-1)},exponentialOut:function(t){return 1===t?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e,i=.1;return 0===t?0:1===t?1:(!i||i<1?(i=1,e=.1):e=.4*Math.asin(1/i)/(2*Math.PI),-i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4))},elasticOut:function(t){var e,i=.1;return 0===t?0:1===t?1:(!i||i<1?(i=1,e=.1):e=.4*Math.asin(1/i)/(2*Math.PI),i*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/.4)+1)},elasticInOut:function(t){var e,i=.1;return 0===t?0:1===t?1:(!i||i<1?(i=1,e=.1):e=.4*Math.asin(1/i)/(2*Math.PI),(t*=2)<1?i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4)*-.5:i*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4)*.5+1)},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},backInOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)},bounceIn:function(t){return 1-Ht.bounceOut(1-t)},bounceOut:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return t<.5?.5*Ht.bounceIn(2*t):.5*Ht.bounceOut(2*t-1)+.5}},Ft=Ht,Bt=function(){function t(t){this._initialized=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=t.life||1e3,this._delay=t.delay||0,this.loop=null!=t.loop&&t.loop,this.gap=t.gap||0,this.easing=t.easing||"linear",this.onframe=t.onframe,this.ondestroy=t.ondestroy,this.onrestart=t.onrestart}return t.prototype.step=function(t,e){if(this._initialized||(this._startTime=t+this._delay,this._initialized=!0),!this._paused){var i=(t-this._startTime-this._pausedTime)/this._life;i<0&&(i=0),i=Math.min(i,1);var n=this.easing,r="string"==typeof n?Ft[n]:n,o="function"==typeof r?r(i):i;if(this.onframe&&this.onframe(o),1===i){if(!this.loop)return!0;this._restart(t),this.onrestart&&this.onrestart()}return!1}this._pausedTime+=e},t.prototype._restart=function(t){this._startTime=t-(t-this._startTime-this._pausedTime)%this._life+this.gap,this._pausedTime=0},t.prototype.pause=function(){this._paused=!0},t.prototype.resume=function(){this._paused=!1},t}(),Wt={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Yt(t){return(t=Math.round(t))<0?0:t>255?255:t}function Gt(t){return t<0?0:t>1?1:t}function Ut(t){var e=t;return e.length&&"%"===e.charAt(e.length-1)?Yt(parseFloat(e)/100*255):Yt(parseInt(e,10))}function jt(t){var e=t;return e.length&&"%"===e.charAt(e.length-1)?Gt(parseFloat(e)/100):Gt(parseFloat(e))}function qt(t,e,i){return i<0?i+=1:i>1&&(i-=1),6*i<1?t+(e-t)*i*6:2*i<1?e:3*i<2?t+(e-t)*(2/3-i)*6:t}function Xt(t,e,i,n,r){return t[0]=e,t[1]=i,t[2]=n,t[3]=r,t}function Vt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}var Kt=new l(20),Zt=null;function Qt(t,e){Zt&&Vt(Zt,e),Zt=Kt.put(t,Zt||e.slice())}function $t(t,e){if(t){e=e||[];var i=Kt.get(t);if(i)return Vt(e,i);var n=(t+="").replace(/ /g,"").toLowerCase();if(n in Wt)return Vt(e,Wt[n]),Qt(t,e),e;var r,o=n.length;if("#"===n.charAt(0))return 4===o||5===o?(r=parseInt(n.slice(1,4),16))>=0&&r<=4095?(Xt(e,(3840&r)>>4|(3840&r)>>8,240&r|(240&r)>>4,15&r|(15&r)<<4,5===o?parseInt(n.slice(4),16)/15:1),Qt(t,e),e):void Xt(e,0,0,0,1):7===o||9===o?(r=parseInt(n.slice(1,7),16))>=0&&r<=16777215?(Xt(e,(16711680&r)>>16,(65280&r)>>8,255&r,9===o?parseInt(n.slice(7),16)/255:1),Qt(t,e),e):void Xt(e,0,0,0,1):void 0;var s=n.indexOf("("),a=n.indexOf(")");if(-1!==s&&a+1===o){var h=n.substr(0,s),l=n.substr(s+1,a-(s+1)).split(","),c=1;switch(h){case"rgba":if(4!==l.length)return 3===l.length?Xt(e,+l[0],+l[1],+l[2],1):Xt(e,0,0,0,1);c=jt(l.pop());case"rgb":return 3!==l.length?void Xt(e,0,0,0,1):(Xt(e,Ut(l[0]),Ut(l[1]),Ut(l[2]),c),Qt(t,e),e);case"hsla":return 4!==l.length?void Xt(e,0,0,0,1):(l[3]=jt(l[3]),Jt(l,e),Qt(t,e),e);case"hsl":return 3!==l.length?void Xt(e,0,0,0,1):(Jt(l,e),Qt(t,e),e);default:return}}Xt(e,0,0,0,1)}}function Jt(t,e){var i=(parseFloat(t[0])%360+360)%360/360,n=jt(t[1]),r=jt(t[2]),o=r<=.5?r*(n+1):r+n-r*n,s=2*r-o;return Xt(e=e||[],Yt(255*qt(s,o,i+1/3)),Yt(255*qt(s,o,i)),Yt(255*qt(s,o,i-1/3)),1),4===t.length&&(e[3]=t[3]),e}function te(t,e){var i=$t(t);return i?(.299*i[0]+.587*i[1]+.114*i[2])*i[3]/255+(1-i[3])*e:0}var ee=Array.prototype.slice;function ie(t,e,i){return(e-t)*i+t}function ne(t,e,i,n){for(var r=e.length,o=0;o<r;o++)t[o]=ie(e[o],i[o],n)}function re(t,e,i,n){for(var r=e.length,o=0;o<r;o++)t[o]=e[o]+i[o]*n;return t}function oe(t,e,i,n){for(var r=e.length,o=r&&e[0].length,s=0;s<r;s++){t[s]||(t[s]=[]);for(var a=0;a<o;a++)t[s][a]=e[s][a]+i[s][a]*n}return t}function se(t,e,i){var n=t,r=e;if(n.push&&r.push){var o=n.length,s=r.length;if(o!==s)if(o>s)n.length=s;else for(var a=o;a<s;a++)n.push(1===i?r[a]:ee.call(r[a]));var h=n[0]&&n[0].length;for(a=0;a<n.length;a++)if(1===i)isNaN(n[a])&&(n[a]=r[a]);else for(var l=0;l<h;l++)isNaN(n[a][l])&&(n[a][l]=r[a][l])}}function ae(t,e){var i=t.length;if(i!==e.length)return!1;for(var n=0;n<i;n++)if(t[n]!==e[n])return!1;return!0}function he(t,e,i,n,r,o,s){var a=.5*(i-t),h=.5*(n-e);return(2*(e-i)+a+h)*s+(-3*(e-i)-2*a-h)*o+a*r+e}function le(t,e,i,n,r,o,s,a){for(var h=e.length,l=0;l<h;l++)t[l]=he(e[l],i[l],n[l],r[l],o,s,a)}function ce(t){if(R(t)){var e=t.length;if(R(t[0])){for(var i=[],n=0;n<e;n++)i.push(ee.call(t[n]));return i}return ee.call(t)}return t}function ue(t){return t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.floor(t[2]),"rgba("+t.join(",")+")"}var de=[0,0,0,0],pe=function(){function t(t){this.keyframes=[],this.maxTime=0,this.arrDim=0,this.interpolable=!0,this._needsSort=!1,this._isAllValueEqual=!0,this._lastFrame=0,this._lastFramePercent=0,this.propName=t}return t.prototype.isFinished=function(){return this._finished},t.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},t.prototype.needsAnimate=function(){return!this._isAllValueEqual&&this.keyframes.length>=2&&this.interpolable},t.prototype.getAdditiveTrack=function(){return this._additiveTrack},t.prototype.addKeyframe=function(t,e){t>=this.maxTime?this.maxTime=t:this._needsSort=!0;var i=this.keyframes,n=i.length;if(this.interpolable)if(R(e)){var r=function(t){return R(t&&t[0])?2:1}(e);if(n>0&&this.arrDim!==r)return void(this.interpolable=!1);if(1===r&&"number"!=typeof e[0]||2===r&&"number"!=typeof e[0][0])return void(this.interpolable=!1);if(n>0){var o=i[n-1];this._isAllValueEqual&&(1===r&&ae(e,o.value)||(this._isAllValueEqual=!1))}this.arrDim=r}else{if(this.arrDim>0)return void(this.interpolable=!1);if("string"==typeof e){var s=$t(e);s?(e=s,this.isValueColor=!0):this.interpolable=!1}else if("number"!=typeof e||isNaN(e))return void(this.interpolable=!1);this._isAllValueEqual&&n>0&&(o=i[n-1],(this.isValueColor&&!ae(o.value,e)||o.value!==e)&&(this._isAllValueEqual=!1))}var a={time:t,value:e,percent:0};return this.keyframes.push(a),a},t.prototype.prepare=function(t){var e=this.keyframes;this._needsSort&&e.sort((function(t,e){return t.time-e.time}));for(var i=this.arrDim,n=e.length,r=e[n-1],o=0;o<n;o++)e[o].percent=e[o].time/this.maxTime,i>0&&o!==n-1&&se(e[o].value,r.value,i);if(t&&this.needsAnimate()&&t.needsAnimate()&&i===t.arrDim&&this.isValueColor===t.isValueColor&&!t._finished){this._additiveTrack=t;var s=e[0].value;for(o=0;o<n;o++)0===i?e[o].additiveValue=this.isValueColor?re([],e[o].value,s,-1):e[o].value-s:1===i?e[o].additiveValue=re([],e[o].value,s,-1):2===i&&(e[o].additiveValue=oe([],e[o].value,s,-1))}},t.prototype.step=function(t,e){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var i,n=null!=this._additiveTrack,r=n?"additiveValue":"value",o=this.keyframes,s=this.keyframes.length,a=this.propName,h=this.arrDim,l=this.isValueColor;if(e<0)i=0;else if(e<this._lastFramePercent){for(i=Math.min(this._lastFrame+1,s-1);i>=0&&!(o[i].percent<=e);i--);i=Math.min(i,s-2)}else{for(i=this._lastFrame;i<s&&!(o[i].percent>e);i++);i=Math.min(i-1,s-2)}var c=o[i+1],u=o[i];if(u&&c){this._lastFrame=i,this._lastFramePercent=e;var d=c.percent-u.percent;if(0!==d){var p=(e-u.percent)/d,f=n?this._additiveValue:l?de:t[a];if((h>0||l)&&!f&&(f=this._additiveValue=[]),this.useSpline){var g=o[i][r],_=o[0===i?i:i-1][r],v=o[i>s-2?s-1:i+1][r],m=o[i>s-3?s-1:i+2][r];if(h>0)1===h?le(f,_,g,v,m,p,p*p,p*p*p):function(t,e,i,n,r,o,s,a){for(var h=e.length,l=e[0].length,c=0;c<h;c++){t[c]||(t[1]=[]);for(var u=0;u<l;u++)t[c][u]=he(e[c][u],i[c][u],n[c][u],r[c][u],o,s,a)}}(f,_,g,v,m,p,p*p,p*p*p);else if(l)le(f,_,g,v,m,p,p*p,p*p*p),n||(t[a]=ue(f));else{var y=void 0;y=this.interpolable?he(_,g,v,m,p,p*p,p*p*p):v,n?this._additiveValue=y:t[a]=y}}else h>0?1===h?ne(f,u[r],c[r],p):function(t,e,i,n){for(var r=e.length,o=r&&e[0].length,s=0;s<r;s++){t[s]||(t[s]=[]);for(var a=0;a<o;a++)t[s][a]=ie(e[s][a],i[s][a],n)}}(f,u[r],c[r],p):l?(ne(f,u[r],c[r],p),n||(t[a]=ue(f))):(y=void 0,y=this.interpolable?ie(u[r],c[r],p):function(t,e,i){return i>.5?e:t}(u[r],c[r],p),n?this._additiveValue=y:t[a]=y);n&&this._addToTarget(t)}}}},t.prototype._addToTarget=function(t){var e=this.arrDim,i=this.propName,n=this._additiveValue;0===e?this.isValueColor?($t(t[i],de),re(de,de,n,1),t[i]=ue(de)):t[i]=t[i]+n:1===e?re(t[i],t[i],n,1):2===e&&oe(t[i],t[i],n,1)},t}(),fe=function(){function t(t,e,i){this._tracks={},this._trackKeys=[],this._delay=0,this._maxTime=0,this._paused=!1,this._started=0,this._clip=null,this._target=t,this._loop=e,e&&i?S("Can' use additive animation on looped animation."):this._additiveAnimators=i}return t.prototype.getTarget=function(){return this._target},t.prototype.changeTarget=function(t){this._target=t},t.prototype.when=function(t,e){return this.whenWithKeys(t,e,A(e))},t.prototype.whenWithKeys=function(t,e,i){for(var n=this._tracks,r=0;r<i.length;r++){var o=i[r],s=n[o];if(!s){s=n[o]=new pe(o);var a=void 0,h=this._getAdditiveTrack(o);if(h){var l=h.keyframes[h.keyframes.length-1];a=l&&l.value,h.isValueColor&&a&&(a=ue(a))}else a=this._target[o];if(null==a)continue;0!==t&&s.addKeyframe(0,ce(a)),this._trackKeys.push(o)}s.addKeyframe(t,ce(e[o]))}return this._maxTime=Math.max(this._maxTime,t),this},t.prototype.pause=function(){this._clip.pause(),this._paused=!0},t.prototype.resume=function(){this._clip.resume(),this._paused=!1},t.prototype.isPaused=function(){return!!this._paused},t.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var t=this._doneList;if(t)for(var e=t.length,i=0;i<e;i++)t[i].call(this)},t.prototype._abortedCallback=function(){this._setTracksFinished();var t=this.animation,e=this._abortedList;if(t&&t.removeClip(this._clip),this._clip=null,e)for(var i=0;i<e.length;i++)e[i].call(this)},t.prototype._setTracksFinished=function(){for(var t=this._tracks,e=this._trackKeys,i=0;i<e.length;i++)t[e[i]].setFinished()},t.prototype._getAdditiveTrack=function(t){var e,i=this._additiveAnimators;if(i)for(var n=0;n<i.length;n++){var r=i[n].getTrack(t);r&&(e=r)}return e},t.prototype.start=function(t,e){if(!(this._started>0)){this._started=1;for(var i=this,n=[],r=0;r<this._trackKeys.length;r++){var o=this._trackKeys[r],s=this._tracks[o],a=this._getAdditiveTrack(o),h=s.keyframes;if(s.prepare(a),s.needsAnimate())n.push(s);else if(!s.interpolable){var l=h[h.length-1];l&&(i._target[s.propName]=l.value)}}if(n.length||e){var c=new Bt({life:this._maxTime,loop:this._loop,delay:this._delay,onframe:function(t){i._started=2;var e=i._additiveAnimators;if(e){for(var r=!1,o=0;o<e.length;o++)if(e[o]._clip){r=!0;break}r||(i._additiveAnimators=null)}for(o=0;o<n.length;o++)n[o].step(i._target,t);var s=i._onframeList;if(s)for(o=0;o<s.length;o++)s[o](i._target,t)},ondestroy:function(){i._doneCallback()}});this._clip=c,this.animation&&this.animation.addClip(c),t&&"spline"!==t&&(c.easing=t)}else this._doneCallback();return this}},t.prototype.stop=function(t){this._clip&&(t&&this._clip.onframe(1),this._abortedCallback())},t.prototype.delay=function(t){return this._delay=t,this},t.prototype.during=function(t){return t&&(this._onframeList||(this._onframeList=[]),this._onframeList.push(t)),this},t.prototype.done=function(t){return t&&(this._doneList||(this._doneList=[]),this._doneList.push(t)),this},t.prototype.aborted=function(t){return t&&(this._abortedList||(this._abortedList=[]),this._abortedList.push(t)),this},t.prototype.getClip=function(){return this._clip},t.prototype.getTrack=function(t){return this._tracks[t]},t.prototype.stopTracks=function(t,e){if(!t.length||!this._clip)return!0;for(var i=this._tracks,n=this._trackKeys,r=0;r<t.length;r++){var o=i[t[r]];o&&(e?o.step(this._target,1):1===this._started&&o.step(this._target,0),o.setFinished())}var s=!0;for(r=0;r<n.length;r++)if(!i[n[r]].isFinished()){s=!1;break}return s&&this._abortedCallback(),s},t.prototype.saveFinalToTarget=function(t,e){if(t){e=e||this._trackKeys;for(var i=0;i<e.length;i++){var n=e[i],r=this._tracks[n];if(r&&!r.isFinished()){var o=r.keyframes,s=o[o.length-1];if(s){var a=ce(s.value);r.isValueColor&&(a=ue(a)),t[n]=a}}}}},t.prototype.__changeFinalValue=function(t,e){e=e||A(t);for(var i=0;i<e.length;i++){var n=e[i],r=this._tracks[n];if(r){var o=r.keyframes;if(o.length>1){var s=o.pop();r.addKeyframe(s.time,t[n]),r.prepare(r.getAdditiveTrack())}}}},t}(),ge=function(){function t(t){t&&(this._$eventProcessor=t)}return t.prototype.on=function(t,e,i,n){this._$handlers||(this._$handlers={});var r=this._$handlers;if("function"==typeof e&&(n=i,i=e,e=null),!i||!t)return this;var o=this._$eventProcessor;null!=e&&o&&o.normalizeQuery&&(e=o.normalizeQuery(e)),r[t]||(r[t]=[]);for(var s=0;s<r[t].length;s++)if(r[t][s].h===i)return this;var a={h:i,query:e,ctx:n||this,callAtLast:i.zrEventfulCallAtLast},h=r[t].length-1,l=r[t][h];return l&&l.callAtLast?r[t].splice(h,0,a):r[t].push(a),this},t.prototype.isSilent=function(t){var e=this._$handlers;return!e||!e[t]||!e[t].length},t.prototype.off=function(t,e){var i=this._$handlers;if(!i)return this;if(!t)return this._$handlers={},this;if(e){if(i[t]){for(var n=[],r=0,o=i[t].length;r<o;r++)i[t][r].h!==e&&n.push(i[t][r]);i[t]=n}i[t]&&0===i[t].length&&delete i[t]}else delete i[t];return this},t.prototype.trigger=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(!this._$handlers)return this;var n=this._$handlers[t],r=this._$eventProcessor;if(n)for(var o=e.length,s=n.length,a=0;a<s;a++){var h=n[a];if(!r||!r.filter||null==h.query||r.filter(t,h.query))switch(o){case 0:h.h.call(h.ctx);break;case 1:h.h.call(h.ctx,e[0]);break;case 2:h.h.call(h.ctx,e[0],e[1]);break;default:h.h.apply(h.ctx,e)}}return r&&r.afterTrigger&&r.afterTrigger(t),this},t.prototype.triggerWithContext=function(t){if(!this._$handlers)return this;var e=this._$handlers[t],i=this._$eventProcessor;if(e)for(var n=arguments,r=n.length,o=n[r-1],s=e.length,a=0;a<s;a++){var h=e[a];if(!i||!i.filter||null==h.query||i.filter(t,h.query))switch(r){case 0:h.h.call(o);break;case 1:h.h.call(o,n[0]);break;case 2:h.h.call(o,n[0],n[1]);break;default:h.h.apply(o,n.slice(1,r-1))}}return i&&i.afterTrigger&&i.afterTrigger(t),this},t}(),_e=1;"undefined"!=typeof window&&(_e=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var ve=_e,me=function(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1},ye=new function(){this.browser=new me,this.node=!1,this.wxa=!1,this.worker=!1,this.canvasSupported=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1};"object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?(ye.wxa=!0,ye.canvasSupported=!0,ye.touchEventsSupported=!0):"undefined"==typeof document&&"undefined"!=typeof self?(ye.worker=!0,ye.canvasSupported=!0):"undefined"==typeof navigator?(ye.node=!0,ye.canvasSupported=!0,ye.svgSupported=!0):function(t,e){var i=e.browser,n=t.match(/Firefox\/([\d.]+)/),r=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/.+?rv:(([\d.]+))/),o=t.match(/Edge?\/([\d.]+)/),s=/micromessenger/i.test(t);n&&(i.firefox=!0,i.version=n[1]),r&&(i.ie=!0,i.version=r[1]),o&&(i.edge=!0,i.version=o[1],i.newEdge=+o[1].split(".")[0]>18),s&&(i.weChat=!0),e.canvasSupported=!!document.createElement("canvas").getContext,e.svgSupported="undefined"!=typeof SVGRect,e.touchEventsSupported="ontouchstart"in window&&!i.ie&&!i.edge,e.pointerEventsSupported="onpointerdown"in window&&(i.edge||i.ie&&+i.version>=11),e.domSupported="undefined"!=typeof document;var a=document.documentElement.style;e.transform3dSupported=(i.ie&&"transition"in a||i.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in a)&&!("OTransition"in a),e.transformSupported=e.transform3dSupported||i.ie&&+i.version>=9}(navigator.userAgent,ye);var we=ye,be=["x","y","scaleX","scaleY","originX","originY","rotation","ignore"],xe={x:!0,y:!0,scaleX:!0,scaleY:!0,originX:!0,originY:!0,rotation:!0,ignore:!1},Te={},Se=new tt(0,0,0,0),De=function(){function t(t){this.id=T(),this.animators=[],this.currentStates=[],this.states={},this._init(t)}return t.prototype._init=function(t){this.attr(t)},t.prototype.drift=function(t,e,i){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0}var n=this.transform;n||(n=this.transform=[1,0,0,1,0,0]),n[4]+=t,n[5]+=e,this.decomposeTransform(),this.markRedraw()},t.prototype.beforeUpdate=function(){},t.prototype.afterUpdate=function(){},t.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},t.prototype.updateInnerText=function(t){var e=this._textContent;if(e&&(!e.ignore||t)){this.textConfig||(this.textConfig={});var i=this.textConfig,n=i.local,r=e.attachedTransform,o=void 0,s=void 0,a=!1;r.parent=n?this:null;var h=!1;if(r.x=e.x,r.y=e.y,r.originX=e.originX,r.originY=e.originY,r.rotation=e.rotation,r.scaleX=e.scaleX,r.scaleY=e.scaleY,null!=i.position){var l=Se;l.copy(i.layoutRect?i.layoutRect:this.getBoundingRect()),n||l.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(Te,i,l):function(t,e,i){var n=e.position||"inside",r=null!=e.distance?e.distance:5,o=i.height,s=i.width,a=o/2,h=i.x,l=i.y,c="left",u="top";if(n instanceof Array)h+=at(n[0],i.width),l+=at(n[1],i.height),c=null,u=null;else switch(n){case"left":h-=r,l+=a,c="right",u="middle";break;case"right":h+=r+s,l+=a,u="middle";break;case"top":h+=s/2,l-=r,c="center",u="bottom";break;case"bottom":h+=s/2,l+=o+r,c="center";break;case"inside":h+=s/2,l+=a,c="center",u="middle";break;case"insideLeft":h+=r,l+=a,u="middle";break;case"insideRight":h+=s-r,l+=a,c="right",u="middle";break;case"insideTop":h+=s/2,l+=r,c="center";break;case"insideBottom":h+=s/2,l+=o-r,c="center",u="bottom";break;case"insideTopLeft":h+=r,l+=r;break;case"insideTopRight":h+=s-r,l+=r,c="right";break;case"insideBottomLeft":h+=r,l+=o-r,u="bottom";break;case"insideBottomRight":h+=s-r,l+=o-r,c="right",u="bottom"}(t=t||{}).x=h,t.y=l,t.align=c,t.verticalAlign=u}(Te,i,l),r.x=Te.x,r.y=Te.y,o=Te.align,s=Te.verticalAlign;var c=i.origin;if(c&&null!=i.rotation){var u=void 0,d=void 0;"center"===c?(u=.5*l.width,d=.5*l.height):(u=at(c[0],l.width),d=at(c[1],l.height)),h=!0,r.originX=-r.x+u+(n?0:l.x),r.originY=-r.y+d+(n?0:l.y)}}null!=i.rotation&&(r.rotation=i.rotation);var p=i.offset;p&&(r.x+=p[0],r.y+=p[1],h||(r.originX=-p[0],r.originY=-p[1]));var f=null==i.inside?"string"==typeof i.position&&i.position.indexOf("inside")>=0:i.inside,g=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),_=void 0,v=void 0,m=void 0;f&&this.canBeInsideText()?(v=i.insideStroke,null!=(_=i.insideFill)&&"auto"!==_||(_=this.getInsideTextFill()),null!=v&&"auto"!==v||(v=this.getInsideTextStroke(_),m=!0)):(v=i.outsideStroke,null!=(_=i.outsideFill)&&"auto"!==_||(_=this.getOutsideFill()),null!=v&&"auto"!==v||(v=this.getOutsideStroke(_),m=!0)),(_=_||"#000")===g.fill&&v===g.stroke&&m===g.autoStroke&&o===g.align&&s===g.verticalAlign||(a=!0,g.fill=_,g.stroke=v,g.autoStroke=m,g.align=o,g.verticalAlign=s,e.setDefaultTextStyle(g)),a&&e.dirtyStyle(),e.markRedraw()}},t.prototype.canBeInsideText=function(){return!0},t.prototype.getInsideTextFill=function(){return"#fff"},t.prototype.getInsideTextStroke=function(t){return"#000"},t.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?"#ccc":"#333"},t.prototype.getOutsideStroke=function(t){var e=this.__zr&&this.__zr.getBackgroundColor(),i="string"==typeof e&&$t(e);i||(i=[255,255,255,1]);for(var n=i[3],r=this.__zr.isDarkMode(),o=0;o<3;o++)i[o]=i[o]*n+(r?0:255)*(1-n);return i[3]=1,function(t,e){if(t&&t.length){var i=t[0]+","+t[1]+","+t[2];return"rgba("+(i+=","+t[3])+")"}}(i)},t.prototype.traverse=function(t,e){},t.prototype.attrKV=function(t,e){"textConfig"===t?this.setTextConfig(e):"textContent"===t?this.setTextContent(e):"clipPath"===t?this.setClipPath(e):"extra"===t?(this.extra=this.extra||{},C(this.extra,e)):this[t]=e},t.prototype.hide=function(){this.ignore=!0,this.markRedraw()},t.prototype.show=function(){this.ignore=!1,this.markRedraw()},t.prototype.attr=function(t,e){if("string"==typeof t)this.attrKV(t,e);else if(I(t))for(var i=A(t),n=0;n<i.length;n++){var r=i[n];this.attrKV(r,t[r])}return this.markRedraw(),this},t.prototype.saveCurrentToNormalState=function(t){this._innerSaveToNormal(t);for(var e=this._normalState,i=0;i<this.animators.length;i++){var n=this.animators[i],r=n.__fromStateTransition;if(!r||"__zr_normal__"===r){var o=n.targetName;n.saveFinalToTarget(o?e[o]:e)}}},t.prototype._innerSaveToNormal=function(t){var e=this._normalState;e||(e=this._normalState={}),t.textConfig&&!e.textConfig&&(e.textConfig=this.textConfig),this._savePrimaryToNormal(t,e,be)},t.prototype._savePrimaryToNormal=function(t,e,i){for(var n=0;n<i.length;n++){var r=i[n];null==t[r]||r in e||(e[r]=this[r])}},t.prototype.hasState=function(){return this.currentStates.length>0},t.prototype.getState=function(t){return this.states[t]},t.prototype.ensureState=function(t){var e=this.states;return e[t]||(e[t]={}),e[t]},t.prototype.clearStates=function(t){this.useState("__zr_normal__",!1,t)},t.prototype.useState=function(e,i,n){var r="__zr_normal__"===e;if(this.hasState()||!r){var o=this.currentStates,s=this.stateTransition;if(!(P(o,e)>=0)||!i&&1!==o.length){var a;if(this.stateProxy&&!r&&(a=this.stateProxy(e)),a||(a=this.states&&this.states[e]),a||r){r||this.saveCurrentToNormalState(a);var h=!(!a||!a.hoverLayer);return h&&this._toggleHoverLayerFlag(!0),this._applyStateObj(e,a,this._normalState,i,!n&&!this.__inHover&&s&&s.duration>0,s),this._textContent&&this._textContent.useState(e,i),this._textGuide&&this._textGuide.useState(e,i),r?(this.currentStates=[],this._normalState={}):i?this.currentStates.push(e):this.currentStates=[e],this._updateAnimationTargets(),this.markRedraw(),!h&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~t.REDARAW_BIT),a}S("State "+e+" not exists.")}}},t.prototype.useStates=function(e,i){if(e.length){var n=[],r=this.currentStates,o=e.length,s=o===r.length;if(s)for(var a=0;a<o;a++)if(e[a]!==r[a]){s=!1;break}if(s)return;for(a=0;a<o;a++){var h=e[a],l=void 0;this.stateProxy&&(l=this.stateProxy(h,e)),l||(l=this.states[h]),l&&n.push(l)}var c=!(!n[o-1]||!n[o-1].hoverLayer);c&&this._toggleHoverLayerFlag(!0);var u=this._mergeStates(n),d=this.stateTransition;this.saveCurrentToNormalState(u),this._applyStateObj(e.join(","),u,this._normalState,!1,!i&&!this.__inHover&&d&&d.duration>0,d),this._textContent&&this._textContent.useStates(e),this._textGuide&&this._textGuide.useStates(e),this._updateAnimationTargets(),this.currentStates=e.slice(),this.markRedraw(),!c&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~t.REDARAW_BIT)}else this.clearStates()},t.prototype._updateAnimationTargets=function(){for(var t=0;t<this.animators.length;t++){var e=this.animators[t];e.targetName&&e.changeTarget(this[e.targetName])}},t.prototype.removeState=function(t){var e=P(this.currentStates,t);if(e>=0){var i=this.currentStates.slice();i.splice(e,1),this.useStates(i)}},t.prototype.replaceState=function(t,e,i){var n=this.currentStates.slice(),r=P(n,t),o=P(n,e)>=0;r>=0?o?n.splice(r,1):n[r]=e:i&&!o&&n.push(e),this.useStates(n)},t.prototype.toggleState=function(t,e){e?this.useState(t,!0):this.removeState(t)},t.prototype._mergeStates=function(t){for(var e,i={},n=0;n<t.length;n++){var r=t[n];C(i,r),r.textConfig&&C(e=e||{},r.textConfig)}return e&&(i.textConfig=e),i},t.prototype._applyStateObj=function(t,e,i,n,r,o){var s=!(e&&n);e&&e.textConfig?(this.textConfig=C({},n?this.textConfig:i.textConfig),C(this.textConfig,e.textConfig)):s&&i.textConfig&&(this.textConfig=i.textConfig);for(var a={},h=!1,l=0;l<be.length;l++){var c=be[l],u=r&&xe[c];e&&null!=e[c]?u?(h=!0,a[c]=e[c]):this[c]=e[c]:s&&null!=i[c]&&(u?(h=!0,a[c]=i[c]):this[c]=i[c])}if(!r)for(l=0;l<this.animators.length;l++){var d=this.animators[l],p=d.targetName;d.__changeFinalValue(p?(e||i)[p]:e||i)}h&&this._transitionState(t,a,o)},t.prototype._attachComponent=function(t){if(t.__zr&&!t.__hostTarget)throw new Error("Text element has been added to zrender.");if(t===this)throw new Error("Recursive component attachment.");var e=this.__zr;e&&t.addSelfToZr(e),t.__zr=e,t.__hostTarget=this},t.prototype._detachComponent=function(t){t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__hostTarget=null},t.prototype.getClipPath=function(){return this._clipPath},t.prototype.setClipPath=function(t){this._clipPath&&this._clipPath!==t&&this.removeClipPath(),this._attachComponent(t),this._clipPath=t,this.markRedraw()},t.prototype.removeClipPath=function(){var t=this._clipPath;t&&(this._detachComponent(t),this._clipPath=null,this.markRedraw())},t.prototype.getTextContent=function(){return this._textContent},t.prototype.setTextContent=function(t){var e=this._textContent;if(e!==t){if(e&&e!==t&&this.removeTextContent(),t.__zr&&!t.__hostTarget)throw new Error("Text element has been added to zrender.");t.attachedTransform=new Nt,this._attachComponent(t),this._textContent=t,this.markRedraw()}},t.prototype.setTextConfig=function(t){this.textConfig||(this.textConfig={}),C(this.textConfig,t),this.markRedraw()},t.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},t.prototype.removeTextContent=function(){var t=this._textContent;t&&(t.attachedTransform=null,this._detachComponent(t),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},t.prototype.getTextGuideLine=function(){return this._textGuide},t.prototype.setTextGuideLine=function(t){this._textGuide&&this._textGuide!==t&&this.removeTextGuideLine(),this._attachComponent(t),this._textGuide=t,this.markRedraw()},t.prototype.removeTextGuideLine=function(){var t=this._textGuide;t&&(this._detachComponent(t),this._textGuide=null,this.markRedraw())},t.prototype.markRedraw=function(){this.__dirty|=t.REDARAW_BIT;var e=this.__zr;e&&(this.__inHover?e.refreshHover():e.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},t.prototype.dirty=function(){this.markRedraw()},t.prototype._toggleHoverLayerFlag=function(t){this.__inHover=t;var e=this._textContent,i=this._textGuide;e&&(e.__inHover=t),i&&(i.__inHover=t)},t.prototype.addSelfToZr=function(t){this.__zr=t;var e=this.animators;if(e)for(var i=0;i<e.length;i++)t.animation.addAnimator(e[i]);this._clipPath&&this._clipPath.addSelfToZr(t),this._textContent&&this._textContent.addSelfToZr(t),this._textGuide&&this._textGuide.addSelfToZr(t)},t.prototype.removeSelfFromZr=function(t){this.__zr=null;var e=this.animators;if(e)for(var i=0;i<e.length;i++)t.animation.removeAnimator(e[i]);this._clipPath&&this._clipPath.removeSelfFromZr(t),this._textContent&&this._textContent.removeSelfFromZr(t),this._textGuide&&this._textGuide.removeSelfFromZr(t)},t.prototype.animate=function(t,e){var i=t?this[t]:this;if(i){var n=new fe(i,e);return this.addAnimator(n,t),n}S('Property "'+t+'" is not existed in element '+this.id)},t.prototype.addAnimator=function(t,e){var i=this.__zr,n=this;t.during((function(){n.updateDuringAnimation(e)})).done((function(){var e=n.animators,i=P(e,t);i>=0&&e.splice(i,1)})),this.animators.push(t),i&&i.animation.addAnimator(t),i&&i.wakeUp()},t.prototype.updateDuringAnimation=function(t){this.markRedraw()},t.prototype.stopAnimation=function(t,e){for(var i=this.animators,n=i.length,r=[],o=0;o<n;o++){var s=i[o];t&&t!==s.scope?r.push(s):s.stop(e)}return this.animators=r,this},t.prototype.animateTo=function(t,e,i){Ce(this,t,e,i)},t.prototype.animateFrom=function(t,e,i){Ce(this,t,e,i,!0)},t.prototype._transitionState=function(t,e,i,n){for(var r=Ce(this,e,i,n),o=0;o<r.length;o++)r[o].__fromStateTransition=t},t.prototype.getBoundingRect=function(){return null},t.prototype.getPaintRect=function(){return null},t.REDARAW_BIT=1,t.initDefaultProps=function(){var e=t.prototype;e.type="element",e.name="",e.ignore=!1,e.silent=!1,e.isGroup=!1,e.draggable=!1,e.dragging=!1,e.ignoreClip=!1,e.__inHover=!1,e.__dirty=t.REDARAW_BIT;var i={};function n(t,e,n){i[t+e+n]||(console.warn("DEPRECATED: '"+t+"' has been deprecated. use '"+e+"', '"+n+"' instead"),i[t+e+n]=!0)}function r(t,i,r,o){function s(t,e){Object.defineProperty(e,0,{get:function(){return t[r]},set:function(e){t[r]=e}}),Object.defineProperty(e,1,{get:function(){return t[o]},set:function(e){t[o]=e}})}Object.defineProperty(e,t,{get:function(){return n(t,r,o),this[i]||s(this,this[i]=[]),this[i]},set:function(e){n(t,r,o),this[r]=e[0],this[o]=e[1],this[i]=e,s(this,e)}})}Object.defineProperty&&(!we.browser.ie||we.browser.version>8)&&(r("position","_legacyPos","x","y"),r("scale","_legacyScale","scaleX","scaleY"),r("origin","_legacyOrigin","originX","originY"))}(),t}();function Ce(t,e,i,n,r){var o=[];!function t(e,i,n,r,o,s,a,h){for(var l=[],c=[],u=A(r),d=o.duration,p=o.delay,f=o.additive,g=o.setToFinal,_=!I(s),v=0;v<u.length;v++)if(null!=n[C=u[v]]&&null!=r[C]&&(_||s[C]))if(I(r[C])&&!R(r[C])){if(i){h||(n[C]=r[C],e.updateDuringAnimation(i));continue}t(e,C,n[C],r[C],o,s&&s[C],a,h)}else l.push(C),c.push(C);else h||(n[C]=r[C],e.updateDuringAnimation(i),c.push(C));var m=l.length;if(m>0||o.force&&!a.length){for(var y=e.animators,w=[],b=0;b<y.length;b++)y[b].targetName===i&&w.push(y[b]);if(!f&&w.length)for(b=0;b<w.length;b++)if(w[b].stopTracks(c)){var x=P(y,w[b]);y.splice(x,1)}var T=void 0,S=void 0,D=void 0;if(h)for(S={},g&&(T={}),b=0;b<m;b++)S[C=l[b]]=n[C],g?T[C]=r[C]:n[C]=r[C];else if(g)for(D={},b=0;b<m;b++){var C;D[C=l[b]]=ce(n[C]),Pe(n,r,C)}var k=new fe(n,!1,f?w:null);k.targetName=i,o.scope&&(k.scope=o.scope),g&&T&&k.whenWithKeys(0,T,l),D&&k.whenWithKeys(0,D,l),k.whenWithKeys(null==d?500:d,h?S:r,l).delay(p||0),e.addAnimator(k,i),a.push(k)}}(t,"",t,e,i=i||{},n,o,r);var s=o.length,a=!1,h=i.done,l=i.aborted,c=function(){a=!0,--s<=0&&(a?h&&h():l&&l())},u=function(){--s<=0&&(a?h&&h():l&&l())};s||h&&h(),o.length>0&&i.during&&o[0].during((function(t,e){i.during(e)}));for(var d=0;d<o.length;d++){var p=o[d];c&&p.done(c),u&&p.aborted(u),p.start(i.easing,i.force)}return o}function ke(t,e,i){for(var n=0;n<i;n++)t[n]=e[n]}function Pe(t,e,i){if(R(e[i]))if(R(t[i])||(t[i]=[]),function(t){return!!p[f.call(t)]}(e[i])){var n=e[i].length;t[i].length!==n&&(t[i]=new e[i].constructor(n),ke(t[i],e[i],n))}else{var r=e[i],o=t[i],s=r.length;if(function(t){return R(t[0])}(r))for(var a=r[0].length,h=0;h<s;h++)o[h]?ke(o[h],r[h],a):o[h]=Array.prototype.slice.call(r[h]);else ke(o,r,s);o.length=r.length}else t[i]=e[i]}E(De,ge),E(De,Nt);var Ee=De,Re="__zr_style_"+Math.round(10*Math.random()),Me={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},Ae={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};Me[Re]=!0;var Oe=["z","z2","invisible"],Ie=function(t){function e(e){return t.call(this,e)||this}var i;return s(e,t),e.prototype._init=function(e){for(var i=A(e),n=0;n<i.length;n++){var r=i[n];"style"===r?this.useStyle(e[r]):t.prototype.attrKV.call(this,r,e[r])}this.style||this.useStyle({})},e.prototype.beforeBrush=function(){},e.prototype.afterBrush=function(){},e.prototype.innerBeforeBrush=function(){},e.prototype.innerAfterBrush=function(){},e.prototype.shouldBePainted=function(t,e,i,n){var r,o,s,a=this.transform;if(this.ignore||this.invisible||0===this.style.opacity||this.culling&&(o=t,s=e,Le.copy((r=this).getBoundingRect()),r.transform&&Le.applyTransform(r.transform),ze.width=o,ze.height=s,!Le.intersect(ze))||a&&!a[0]&&!a[3])return!1;if(i&&this.__clipPaths)for(var h=0;h<this.__clipPaths.length;++h)if(this.__clipPaths[h].isZeroArea())return!1;if(n&&this.parent)for(var l=this.parent;l;){if(l.ignore)return!1;l=l.parent}return!0},e.prototype.contain=function(t,e){return this.rectContain(t,e)},e.prototype.traverse=function(t,e){t.call(e,this)},e.prototype.rectContain=function(t,e){var i=this.transformCoordToLocal(t,e);return this.getBoundingRect().contain(i[0],i[1])},e.prototype.getPaintRect=function(){var t=this._paintRect;if(!this._paintRect||this.__dirty){var e=this.transform,i=this.getBoundingRect(),n=this.style,r=n.shadowBlur||0,o=n.shadowOffsetX||0,s=n.shadowOffsetY||0;t=this._paintRect||(this._paintRect=new tt(0,0,0,0)),e?tt.applyTransform(t,i,e):t.copy(i),(r||o||s)&&(t.width+=2*r+Math.abs(o),t.height+=2*r+Math.abs(s),t.x=Math.min(t.x,t.x+o-r),t.y=Math.min(t.y,t.y+s-r));var a=this.dirtyRectTolerance;t.isZero()||(t.x=Math.floor(t.x-a),t.y=Math.floor(t.y-a),t.width=Math.ceil(t.width+1+2*a),t.height=Math.ceil(t.height+1+2*a))}return t},e.prototype.setPrevPaintRect=function(t){t?(this._prevPaintRect=this._prevPaintRect||new tt(0,0,0,0),this._prevPaintRect.copy(t)):this._prevPaintRect=null},e.prototype.getPrevPaintRect=function(){return this._prevPaintRect},e.prototype.animateStyle=function(t){return this.animate("style",t)},e.prototype.updateDuringAnimation=function(t){"style"===t?this.dirtyStyle():this.markRedraw()},e.prototype.attrKV=function(e,i){"style"!==e?t.prototype.attrKV.call(this,e,i):this.style?this.setStyle(i):this.useStyle(i)},e.prototype.setStyle=function(t,e){return"string"==typeof t?this.style[t]=e:C(this.style,t),this.dirtyStyle(),this},e.prototype.dirtyStyle=function(){this.markRedraw(),this.__dirty|=e.STYLE_CHANGED_BIT,this._rect&&(this._rect=null)},e.prototype.dirty=function(){this.dirtyStyle()},e.prototype.styleChanged=function(){return!!(this.__dirty&e.STYLE_CHANGED_BIT)},e.prototype.styleUpdated=function(){this.__dirty&=~e.STYLE_CHANGED_BIT},e.prototype.createStyle=function(t){return H(Me,t)},e.prototype.useStyle=function(t){t[Re]||(t=this.createStyle(t)),this.__inHover?this.__hoverStyle=t:this.style=t,this.dirtyStyle()},e.prototype.isStyleObject=function(t){return t[Re]},e.prototype._innerSaveToNormal=function(e){t.prototype._innerSaveToNormal.call(this,e);var i=this._normalState;e.style&&!i.style&&(i.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(e,i,Oe)},e.prototype._applyStateObj=function(e,i,n,r,o,s){t.prototype._applyStateObj.call(this,e,i,n,r,o,s);var a,h=!(i&&r);if(i&&i.style?o?r?a=i.style:(a=this._mergeStyle(this.createStyle(),n.style),this._mergeStyle(a,i.style)):(a=this._mergeStyle(this.createStyle(),r?this.style:n.style),this._mergeStyle(a,i.style)):h&&(a=n.style),a)if(o){var l=this.style;if(this.style=this.createStyle(h?{}:l),h)for(var c=A(l),u=0;u<c.length;u++)(p=c[u])in a&&(a[p]=a[p],this.style[p]=l[p]);var d=A(a);for(u=0;u<d.length;u++)this.style[p=d[u]]=this.style[p];this._transitionState(e,{style:a},s,this.getAnimationStyleProps())}else this.useStyle(a);for(u=0;u<Oe.length;u++){var p=Oe[u];i&&null!=i[p]?this[p]=i[p]:h&&null!=n[p]&&(this[p]=n[p])}},e.prototype._mergeStates=function(e){for(var i,n=t.prototype._mergeStates.call(this,e),r=0;r<e.length;r++){var o=e[r];o.style&&this._mergeStyle(i=i||{},o.style)}return i&&(n.style=i),n},e.prototype._mergeStyle=function(t,e){return C(t,e),t},e.prototype.getAnimationStyleProps=function(){return Ae},e.STYLE_CHANGED_BIT=2,e.initDefaultProps=((i=e.prototype).type="displayable",i.invisible=!1,i.z=0,i.z2=0,i.zlevel=0,i.culling=!1,i.cursor="pointer",i.rectHover=!1,i.incremental=!1,i._rect=null,i.dirtyRectTolerance=0,void(i.__dirty=Ee.REDARAW_BIT|e.STYLE_CHANGED_BIT)),e}(Ee),Le=new tt(0,0,0,0),ze=new tt(0,0,0,0),Ne=Ie,He=Math.pow,Fe=Math.sqrt,Be=Fe(3),We=wt(),Ye=wt(),Ge=wt();function Ue(t){return t>-1e-8&&t<1e-8}function je(t){return t>1e-8||t<-1e-8}function qe(t,e,i,n,r){var o=1-r;return o*o*(o*t+3*r*e)+r*r*(r*n+3*o*i)}function Xe(t,e,i,n,r){var o=6*i-12*e+6*t,s=9*e+3*n-3*t-9*i,a=3*e-3*t,h=0;if(Ue(s))je(o)&&(c=-a/o)>=0&&c<=1&&(r[h++]=c);else{var l=o*o-4*s*a;if(Ue(l))r[0]=-o/(2*s);else if(l>0){var c,u=Fe(l),d=(-o-u)/(2*s);(c=(-o+u)/(2*s))>=0&&c<=1&&(r[h++]=c),d>=0&&d<=1&&(r[h++]=d)}}return h}function Ve(t,e,i,n,r,o){var s=(e-t)*r+t,a=(i-e)*r+e,h=(n-i)*r+i,l=(a-s)*r+s,c=(h-a)*r+a,u=(c-l)*r+l;o[0]=t,o[1]=s,o[2]=l,o[3]=u,o[4]=u,o[5]=c,o[6]=h,o[7]=n}function Ke(t,e,i,n,r,o,s,a,h){for(var l=t,c=e,u=0,d=1/h,p=1;p<=h;p++){var f=p*d,g=qe(t,i,r,s,f),_=qe(e,n,o,a,f),v=g-l,m=_-c;u+=Math.sqrt(v*v+m*m),l=g,c=_}return u}function Ze(t,e,i,n){var r=1-n;return r*(r*t+2*n*e)+n*n*i}function Qe(t,e,i){var n=t+i-2*e;return 0===n?.5:(t-e)/n}function $e(t,e,i,n,r){var o=(e-t)*n+t,s=(i-e)*n+e,a=(s-o)*n+o;r[0]=t,r[1]=o,r[2]=a,r[3]=a,r[4]=s,r[5]=i}function Je(t,e,i,n,r,o,s){for(var a=t,h=e,l=0,c=1/s,u=1;u<=s;u++){var d=u*c,p=Ze(t,i,r,d),f=Ze(e,n,o,d),g=p-a,_=f-h;l+=Math.sqrt(g*g+_*_),a=p,h=f}return l}var ti=Math.min,ei=Math.max,ii=Math.sin,ni=Math.cos,ri=2*Math.PI,oi=wt(),si=wt(),ai=wt();function hi(t,e,i,n,r,o){r[0]=ti(t,i),r[1]=ti(e,n),o[0]=ei(t,i),o[1]=ei(e,n)}var li=[],ci=[];function ui(t,e,i,n,r,o,s,a,h,l){var c=Xe,u=qe,d=c(t,i,r,s,li);h[0]=1/0,h[1]=1/0,l[0]=-1/0,l[1]=-1/0;for(var p=0;p<d;p++){var f=u(t,i,r,s,li[p]);h[0]=ti(f,h[0]),l[0]=ei(f,l[0])}for(d=c(e,n,o,a,ci),p=0;p<d;p++){var g=u(e,n,o,a,ci[p]);h[1]=ti(g,h[1]),l[1]=ei(g,l[1])}h[0]=ti(t,h[0]),l[0]=ei(t,l[0]),h[0]=ti(s,h[0]),l[0]=ei(s,l[0]),h[1]=ti(e,h[1]),l[1]=ei(e,l[1]),h[1]=ti(a,h[1]),l[1]=ei(a,l[1])}function di(t,e,i,n,r,o,s,a){var h=Qe,l=Ze,c=ei(ti(h(t,i,r),1),0),u=ei(ti(h(e,n,o),1),0),d=l(t,i,r,c),p=l(e,n,o,u);s[0]=ti(t,r,d),s[1]=ti(e,o,p),a[0]=ei(t,r,d),a[1]=ei(e,o,p)}function pi(t,e,i,n,r,o,s,a,h){var l=Et,c=Rt,u=Math.abs(r-o);if(u%ri<1e-4&&u>1e-4)return a[0]=t-i,a[1]=e-n,h[0]=t+i,void(h[1]=e+n);if(oi[0]=ni(r)*i+t,oi[1]=ii(r)*n+e,si[0]=ni(o)*i+t,si[1]=ii(o)*n+e,l(a,oi,si),c(h,oi,si),(r%=ri)<0&&(r+=ri),(o%=ri)<0&&(o+=ri),r>o&&!s?o+=ri:r<o&&s&&(r+=ri),s){var d=o;o=r,r=d}for(var p=0;p<o;p+=Math.PI/2)p>r&&(ai[0]=ni(p)*i+t,ai[1]=ii(p)*n+e,l(a,ai,a),c(h,ai,h))}var fi={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},gi=[],_i=[],vi=[],mi=[],yi=[],wi=[],bi=Math.min,xi=Math.max,Ti=Math.cos,Si=Math.sin,Di=Math.sqrt,Ci=Math.abs,ki=Math.PI,Pi=2*ki,Ei="undefined"!=typeof Float32Array,Ri=[];function Mi(t){return Math.round(t/ki*1e8)/1e8%2*ki}var Ai=function(){function t(t){this.dpr=1,this._version=0,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,t&&(this._saveData=!1),this._saveData&&(this.data=[])}var e;return t.prototype.increaseVersion=function(){this._version++},t.prototype.getVersion=function(){return this._version},t.prototype.setScale=function(t,e,i){(i=i||0)>0&&(this._ux=Ci(i/ve/t)||0,this._uy=Ci(i/ve/e)||0)},t.prototype.setDPR=function(t){this.dpr=t},t.prototype.setContext=function(t){this._ctx=t},t.prototype.getContext=function(){return this._ctx},t.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},t.prototype.reset=function(){this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},t.prototype.moveTo=function(t,e){return this.addData(fi.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},t.prototype.lineTo=function(t,e){var i=Ci(t-this._xi)>this._ux||Ci(e-this._yi)>this._uy||this._len<5;return this.addData(fi.L,t,e),this._ctx&&i&&(this._needsDash?this._dashedLineTo(t,e):this._ctx.lineTo(t,e)),i&&(this._xi=t,this._yi=e),this},t.prototype.bezierCurveTo=function(t,e,i,n,r,o){return this.addData(fi.C,t,e,i,n,r,o),this._ctx&&(this._needsDash?this._dashedBezierTo(t,e,i,n,r,o):this._ctx.bezierCurveTo(t,e,i,n,r,o)),this._xi=r,this._yi=o,this},t.prototype.quadraticCurveTo=function(t,e,i,n){return this.addData(fi.Q,t,e,i,n),this._ctx&&(this._needsDash?this._dashedQuadraticTo(t,e,i,n):this._ctx.quadraticCurveTo(t,e,i,n)),this._xi=i,this._yi=n,this},t.prototype.arc=function(t,e,i,n,r,o){return Ri[0]=n,Ri[1]=r,function(t,e){var i=Mi(t[0]);i<0&&(i+=Pi);var n=t[1];n+=i-t[0],!e&&n-i>=Pi?n=i+Pi:e&&i-n>=Pi?n=i-Pi:!e&&i>n?n=i+(Pi-Mi(i-n)):e&&i<n&&(n=i-(Pi-Mi(n-i))),t[0]=i,t[1]=n}(Ri,o),this.addData(fi.A,t,e,i,i,n=Ri[0],(r=Ri[1])-n,0,o?0:1),this._ctx&&this._ctx.arc(t,e,i,n,r,o),this._xi=Ti(r)*i+t,this._yi=Si(r)*i+e,this},t.prototype.arcTo=function(t,e,i,n,r){return this._ctx&&this._ctx.arcTo(t,e,i,n,r),this},t.prototype.rect=function(t,e,i,n){return this._ctx&&this._ctx.rect(t,e,i,n),this.addData(fi.R,t,e,i,n),this},t.prototype.closePath=function(){this.addData(fi.Z);var t=this._ctx,e=this._x0,i=this._y0;return t&&(this._needsDash&&this._dashedLineTo(e,i),t.closePath()),this._xi=e,this._yi=i,this},t.prototype.fill=function(t){t&&t.fill(),this.toStatic()},t.prototype.stroke=function(t){t&&t.stroke(),this.toStatic()},t.prototype.setLineDash=function(t){if(t instanceof Array){this._lineDash=t,this._dashIdx=0;for(var e=0,i=0;i<t.length;i++)e+=t[i];this._dashSum=e,this._needsDash=!0}else this._lineDash=null,this._needsDash=!1;return this},t.prototype.setLineDashOffset=function(t){return this._dashOffset=t,this},t.prototype.len=function(){return this._len},t.prototype.setData=function(t){var e=t.length;this.data&&this.data.length===e||!Ei||(this.data=new Float32Array(e));for(var i=0;i<e;i++)this.data[i]=t[i];this._len=e},t.prototype.appendPath=function(t){t instanceof Array||(t=[t]);for(var e=t.length,i=0,n=this._len,r=0;r<e;r++)i+=t[r].len();for(Ei&&this.data instanceof Float32Array&&(this.data=new Float32Array(n+i)),r=0;r<e;r++)for(var o=t[r].data,s=0;s<o.length;s++)this.data[n++]=o[s];this._len=n},t.prototype.addData=function(t,e,i,n,r,o,s,a,h){if(this._saveData){var l=this.data;this._len+arguments.length>l.length&&(this._expandData(),l=this.data);for(var c=0;c<arguments.length;c++)l[this._len++]=arguments[c]}},t.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var t=[],e=0;e<this._len;e++)t[e]=this.data[e];this.data=t}},t.prototype._dashedLineTo=function(t,e){var i,n,r=this._dashSum,o=this._lineDash,s=this._ctx,a=this._dashOffset,h=this._xi,l=this._yi,c=t-h,u=e-l,d=Di(c*c+u*u),p=h,f=l,g=o.length;for(a<0&&(a=r+a),p-=(a%=r)*(c/=d),f-=a*(u/=d);c>0&&p<=t||c<0&&p>=t||0===c&&(u>0&&f<=e||u<0&&f>=e);)p+=c*(i=o[n=this._dashIdx]),f+=u*i,this._dashIdx=(n+1)%g,c>0&&p<h||c<0&&p>h||u>0&&f<l||u<0&&f>l||s[n%2?"moveTo":"lineTo"](c>=0?bi(p,t):xi(p,t),u>=0?bi(f,e):xi(f,e));this._dashOffset=-Di((c=p-t)*c+(u=f-e)*u)},t.prototype._dashedBezierTo=function(t,e,i,n,r,o){var s,a,h,l,c,u=this._ctx,d=this._dashSum,p=this._dashOffset,f=this._lineDash,g=this._xi,_=this._yi,v=0,m=this._dashIdx,y=f.length,w=0;for(p<0&&(p=d+p),p%=d,s=0;s<1;s+=.1)a=qe(g,t,i,r,s+.1)-qe(g,t,i,r,s),h=qe(_,e,n,o,s+.1)-qe(_,e,n,o,s),v+=Di(a*a+h*h);for(;m<y&&!((w+=f[m])>p);m++);for(s=(w-p)/v;s<=1;)l=qe(g,t,i,r,s),c=qe(_,e,n,o,s),m%2?u.moveTo(l,c):u.lineTo(l,c),s+=f[m]/v,m=(m+1)%y;m%2!=0&&u.lineTo(r,o),this._dashOffset=-Di((a=r-l)*a+(h=o-c)*h)},t.prototype._dashedQuadraticTo=function(t,e,i,n){var r=i,o=n;i=(i+2*t)/3,n=(n+2*e)/3,this._dashedBezierTo(t=(this._xi+2*t)/3,e=(this._yi+2*e)/3,i,n,r,o)},t.prototype.toStatic=function(){if(this._saveData){var t=this.data;t instanceof Array&&(t.length=this._len,Ei&&this._len>11&&(this.data=new Float32Array(t)))}},t.prototype.getBoundingRect=function(){vi[0]=vi[1]=yi[0]=yi[1]=Number.MAX_VALUE,mi[0]=mi[1]=wi[0]=wi[1]=-Number.MAX_VALUE;var t,e=this.data,i=0,n=0,r=0,o=0;for(t=0;t<this._len;){var s=e[t++],a=1===t;switch(a&&(r=i=e[t],o=n=e[t+1]),s){case fi.M:i=r=e[t++],n=o=e[t++],yi[0]=r,yi[1]=o,wi[0]=r,wi[1]=o;break;case fi.L:hi(i,n,e[t],e[t+1],yi,wi),i=e[t++],n=e[t++];break;case fi.C:ui(i,n,e[t++],e[t++],e[t++],e[t++],e[t],e[t+1],yi,wi),i=e[t++],n=e[t++];break;case fi.Q:di(i,n,e[t++],e[t++],e[t],e[t+1],yi,wi),i=e[t++],n=e[t++];break;case fi.A:var h=e[t++],l=e[t++],c=e[t++],u=e[t++],d=e[t++],p=e[t++]+d;t+=1;var f=!e[t++];a&&(r=Ti(d)*c+h,o=Si(d)*u+l),pi(h,l,c,u,d,p,f,yi,wi),i=Ti(p)*c+h,n=Si(p)*u+l;break;case fi.R:hi(r=i=e[t++],o=n=e[t++],r+e[t++],o+e[t++],yi,wi);break;case fi.Z:i=r,n=o}Et(vi,vi,yi),Rt(mi,mi,wi)}return 0===t&&(vi[0]=vi[1]=mi[0]=mi[1]=0),new tt(vi[0],vi[1],mi[0]-vi[0],mi[1]-vi[1])},t.prototype._calculateLength=function(){var t=this.data,e=this._len,i=this._ux,n=this._uy,r=0,o=0,s=0,a=0;this._pathSegLen||(this._pathSegLen=[]);for(var h=this._pathSegLen,l=0,c=0,u=0;u<e;){var d=t[u++],p=1===u;p&&(s=r=t[u],a=o=t[u+1]);var f=-1;switch(d){case fi.M:r=s=t[u++],o=a=t[u++];break;case fi.L:var g=t[u++],_=(y=t[u++])-o;(Ci(E=g-r)>i||Ci(_)>n||u===e-1)&&(f=Math.sqrt(E*E+_*_),r=g,o=y);break;case fi.C:var v=t[u++],m=t[u++],y=(g=t[u++],t[u++]),w=t[u++],b=t[u++];f=Ke(r,o,v,m,g,y,w,b,10),r=w,o=b;break;case fi.Q:f=Je(r,o,v=t[u++],m=t[u++],g=t[u++],y=t[u++],10),r=g,o=y;break;case fi.A:var x=t[u++],T=t[u++],S=t[u++],D=t[u++],C=t[u++],k=t[u++],P=k+C;u+=1,u++,p&&(s=Ti(C)*S+x,a=Si(C)*D+T),f=xi(S,D)*bi(Pi,Math.abs(k)),r=Ti(P)*S+x,o=Si(P)*D+T;break;case fi.R:s=r=t[u++],a=o=t[u++],f=2*t[u++]+2*t[u++];break;case fi.Z:var E=s-r;_=a-o,f=Math.sqrt(E*E+_*_),r=s,o=a}f>=0&&(h[c++]=f,l+=f)}return this._pathLen=l,l},t.prototype.rebuildPath=function(t,e){var i,n,r,o,s,a,h,l,c=this.data,u=this._ux,d=this._uy,p=this._len,f=e<1,g=0,_=0;if(!f||(this._pathSegLen||this._calculateLength(),h=this._pathSegLen,l=e*this._pathLen))t:for(var v=0;v<p;){var m=c[v++],y=1===v;switch(y&&(i=r=c[v],n=o=c[v+1]),m){case fi.M:i=r=c[v++],n=o=c[v++],t.moveTo(r,o);break;case fi.L:if(s=c[v++],a=c[v++],Ci(s-r)>u||Ci(a-o)>d||v===p-1){if(f){if(g+(W=h[_++])>l){t.lineTo(r*(1-(Y=(l-g)/W))+s*Y,o*(1-Y)+a*Y);break t}g+=W}t.lineTo(s,a),r=s,o=a}break;case fi.C:var w=c[v++],b=c[v++],x=c[v++],T=c[v++],S=c[v++],D=c[v++];if(f){if(g+(W=h[_++])>l){Ve(r,w,x,S,Y=(l-g)/W,gi),Ve(o,b,T,D,Y,_i),t.bezierCurveTo(gi[1],_i[1],gi[2],_i[2],gi[3],_i[3]);break t}g+=W}t.bezierCurveTo(w,b,x,T,S,D),r=S,o=D;break;case fi.Q:if(w=c[v++],b=c[v++],x=c[v++],T=c[v++],f){if(g+(W=h[_++])>l){$e(r,w,x,Y=(l-g)/W,gi),$e(o,b,T,Y,_i),t.quadraticCurveTo(gi[1],_i[1],gi[2],_i[2]);break t}g+=W}t.quadraticCurveTo(w,b,x,T),r=x,o=T;break;case fi.A:var C=c[v++],k=c[v++],P=c[v++],E=c[v++],R=c[v++],M=c[v++],A=c[v++],O=!c[v++],I=P>E?P:E,L=Ci(P-E)>.001,z=R+M,N=!1;if(f&&(g+(W=h[_++])>l&&(z=R+M*(l-g)/W,N=!0),g+=W),L&&t.ellipse?t.ellipse(C,k,P,E,A,R,z,O):t.arc(C,k,I,R,z,O),N)break t;y&&(i=Ti(R)*P+C,n=Si(R)*E+k),r=Ti(z)*P+C,o=Si(z)*E+k;break;case fi.R:i=r=c[v],n=o=c[v+1],s=c[v++],a=c[v++];var H=c[v++],F=c[v++];if(f){if(g+(W=h[_++])>l){var B=l-g;t.moveTo(s,a),t.lineTo(s+bi(B,H),a),(B-=H)>0&&t.lineTo(s+H,a+bi(B,F)),(B-=F)>0&&t.lineTo(s+xi(H-B,0),a+F),(B-=H)>0&&t.lineTo(s,a+xi(F-B,0));break t}g+=W}t.rect(s,a,H,F);break;case fi.Z:if(f){var W;if(g+(W=h[_++])>l){var Y;t.lineTo(r*(1-(Y=(l-g)/W))+i*Y,o*(1-Y)+n*Y);break t}g+=W}t.closePath(),r=i,o=n}}},t.CMD=fi,t.initDefaultProps=((e=t.prototype)._saveData=!0,e._needsDash=!1,e._dashOffset=0,e._dashIdx=0,e._dashSum=0,e._ux=0,void(e._uy=0)),t}();function Oi(t,e,i,n,r,o,s){if(0===r)return!1;var a,h=r;if(s>e+h&&s>n+h||s<e-h&&s<n-h||o>t+h&&o>i+h||o<t-h&&o<i-h)return!1;if(t===i)return Math.abs(o-t)<=h/2;var l=(a=(e-n)/(t-i))*o-s+(t*n-i*e)/(t-i);return l*l/(a*a+1)<=h/2*h/2}function Ii(t,e,i,n,r,o,s,a,h,l,c){if(0===h)return!1;var u=h;return!(c>e+u&&c>n+u&&c>o+u&&c>a+u||c<e-u&&c<n-u&&c<o-u&&c<a-u||l>t+u&&l>i+u&&l>r+u&&l>s+u||l<t-u&&l<i-u&&l<r-u&&l<s-u)&&function(t,e,i,n,r,o,s,a,h,l,c){var u,d,p,f,g,_=.005,v=1/0;We[0]=h,We[1]=l;for(var m=0;m<1;m+=.05)Ye[0]=qe(t,i,r,s,m),Ye[1]=qe(e,n,o,a,m),(f=kt(We,Ye))<v&&(u=m,v=f);v=1/0;for(var y=0;y<32&&!(_<1e-4);y++)p=u+_,Ye[0]=qe(t,i,r,s,d=u-_),Ye[1]=qe(e,n,o,a,d),f=kt(Ye,We),d>=0&&f<v?(u=d,v=f):(Ge[0]=qe(t,i,r,s,p),Ge[1]=qe(e,n,o,a,p),g=kt(Ge,We),p<=1&&g<v?(u=p,v=g):_*=.5);return Fe(v)}(t,e,i,n,r,o,s,a,l,c)<=u/2}function Li(t,e,i,n,r,o,s,a,h){if(0===s)return!1;var l=s;return!(h>e+l&&h>n+l&&h>o+l||h<e-l&&h<n-l&&h<o-l||a>t+l&&a>i+l&&a>r+l||a<t-l&&a<i-l&&a<r-l)&&function(t,e,i,n,r,o,s,a,h){var l,c=.005,u=1/0;We[0]=s,We[1]=a;for(var d=0;d<1;d+=.05)Ye[0]=Ze(t,i,r,d),Ye[1]=Ze(e,n,o,d),(_=kt(We,Ye))<u&&(l=d,u=_);u=1/0;for(var p=0;p<32&&!(c<1e-4);p++){var f=l-c,g=l+c;Ye[0]=Ze(t,i,r,f),Ye[1]=Ze(e,n,o,f);var _=kt(Ye,We);if(f>=0&&_<u)l=f,u=_;else{Ge[0]=Ze(t,i,r,g),Ge[1]=Ze(e,n,o,g);var v=kt(Ge,We);g<=1&&v<u?(l=g,u=v):c*=.5}}return Fe(u)}(t,e,i,n,r,o,a,h)<=l/2}var zi=2*Math.PI;function Ni(t){return(t%=zi)<0&&(t+=zi),t}var Hi=2*Math.PI;function Fi(t,e,i,n,r,o,s,a,h){if(0===s)return!1;var l=s;a-=t,h-=e;var c=Math.sqrt(a*a+h*h);if(c-l>i||c+l<i)return!1;if(Math.abs(n-r)%Hi<1e-4)return!0;if(o){var u=n;n=Ni(r),r=Ni(u)}else n=Ni(n),r=Ni(r);n>r&&(r+=Hi);var d=Math.atan2(h,a);return d<0&&(d+=Hi),d>=n&&d<=r||d+Hi>=n&&d+Hi<=r}function Bi(t,e,i,n,r,o){if(o>e&&o>n||o<e&&o<n)return 0;if(n===e)return 0;var s=(o-e)/(n-e),a=n<e?1:-1;1!==s&&0!==s||(a=n<e?.5:-.5);var h=s*(i-t)+t;return h===r?1/0:h>r?a:0}var Wi=Ai.CMD,Yi=2*Math.PI,Gi=[-1,-1,-1],Ui=[-1,-1];function ji(t,e,i,n,r,o,s,a,h,l){if(l>e&&l>n&&l>o&&l>a||l<e&&l<n&&l<o&&l<a)return 0;var c,u=function(t,e,i,n,r,o){var s=n+3*(e-i)-t,a=3*(i-2*e+t),h=3*(e-t),l=t-r,c=a*a-3*s*h,u=a*h-9*s*l,d=h*h-3*a*l,p=0;if(Ue(c)&&Ue(u))Ue(a)?o[0]=0:(S=-h/a)>=0&&S<=1&&(o[p++]=S);else{var f=u*u-4*c*d;if(Ue(f)){var g=u/c,_=-g/2;(S=-a/s+g)>=0&&S<=1&&(o[p++]=S),_>=0&&_<=1&&(o[p++]=_)}else if(f>0){var v=Fe(f),m=c*a+1.5*s*(-u+v),y=c*a+1.5*s*(-u-v);(S=(-a-((m=m<0?-He(-m,1/3):He(m,1/3))+(y=y<0?-He(-y,1/3):He(y,1/3))))/(3*s))>=0&&S<=1&&(o[p++]=S)}else{var w=(2*c*a-3*s*u)/(2*Fe(c*c*c)),b=Math.acos(w)/3,x=Fe(c),T=Math.cos(b),S=(-a-2*x*T)/(3*s),D=(_=(-a+x*(T+Be*Math.sin(b)))/(3*s),(-a+x*(T-Be*Math.sin(b)))/(3*s));S>=0&&S<=1&&(o[p++]=S),_>=0&&_<=1&&(o[p++]=_),D>=0&&D<=1&&(o[p++]=D)}}return p}(e,n,o,a,l,Gi);if(0===u)return 0;for(var d=0,p=-1,f=void 0,g=void 0,_=0;_<u;_++){var v=Gi[_],m=0===v||1===v?.5:1;qe(t,i,r,s,v)<h||(p<0&&(p=Xe(e,n,o,a,Ui),Ui[1]<Ui[0]&&p>1&&(c=Ui[0],Ui[0]=Ui[1],Ui[1]=c),f=qe(e,n,o,a,Ui[0]),p>1&&(g=qe(e,n,o,a,Ui[1]))),d+=2===p?v<Ui[0]?f<e?m:-m:v<Ui[1]?g<f?m:-m:a<g?m:-m:v<Ui[0]?f<e?m:-m:a<f?m:-m)}return d}function qi(t,e,i,n,r,o,s,a){if(a>e&&a>n&&a>o||a<e&&a<n&&a<o)return 0;var h=function(t,e,i,n,r){var o=t-2*e+i,s=2*(e-t),a=t-n,h=0;if(Ue(o))je(s)&&(c=-a/s)>=0&&c<=1&&(r[h++]=c);else{var l=s*s-4*o*a;if(Ue(l))(c=-s/(2*o))>=0&&c<=1&&(r[h++]=c);else if(l>0){var c,u=Fe(l),d=(-s-u)/(2*o);(c=(-s+u)/(2*o))>=0&&c<=1&&(r[h++]=c),d>=0&&d<=1&&(r[h++]=d)}}return h}(e,n,o,a,Gi);if(0===h)return 0;var l=Qe(e,n,o);if(l>=0&&l<=1){for(var c=0,u=Ze(e,n,o,l),d=0;d<h;d++){var p=0===Gi[d]||1===Gi[d]?.5:1;Ze(t,i,r,Gi[d])<s||(c+=Gi[d]<l?u<e?p:-p:o<u?p:-p)}return c}return p=0===Gi[0]||1===Gi[0]?.5:1,Ze(t,i,r,Gi[0])<s?0:o<e?p:-p}function Xi(t,e,i,n,r,o,s,a){if((a-=e)>i||a<-i)return 0;var h=Math.sqrt(i*i-a*a);Gi[0]=-h,Gi[1]=h;var l=Math.abs(n-r);if(l<1e-4)return 0;if(l>=Yi-1e-4){n=0,r=Yi;var c=o?1:-1;return s>=Gi[0]+t&&s<=Gi[1]+t?c:0}if(n>r){var u=n;n=r,r=u}n<0&&(n+=Yi,r+=Yi);for(var d=0,p=0;p<2;p++){var f=Gi[p];if(f+t>s){var g=Math.atan2(a,f);c=o?1:-1,g<0&&(g=Yi+g),(g>=n&&g<=r||g+Yi>=n&&g+Yi<=r)&&(g>Math.PI/2&&g<1.5*Math.PI&&(c=-c),d+=c)}}return d}function Vi(t,e,i,n,r){for(var o,s,a=t.data,h=t.len(),l=0,c=0,u=0,d=0,p=0,f=0;f<h;){var g=a[f++],_=1===f;switch(g===Wi.M&&f>1&&(i||(l+=Bi(c,u,d,p,n,r))),_&&(d=c=a[f],p=u=a[f+1]),g){case Wi.M:c=d=a[f++],u=p=a[f++];break;case Wi.L:if(i){if(Oi(c,u,a[f],a[f+1],e,n,r))return!0}else l+=Bi(c,u,a[f],a[f+1],n,r)||0;c=a[f++],u=a[f++];break;case Wi.C:if(i){if(Ii(c,u,a[f++],a[f++],a[f++],a[f++],a[f],a[f+1],e,n,r))return!0}else l+=ji(c,u,a[f++],a[f++],a[f++],a[f++],a[f],a[f+1],n,r)||0;c=a[f++],u=a[f++];break;case Wi.Q:if(i){if(Li(c,u,a[f++],a[f++],a[f],a[f+1],e,n,r))return!0}else l+=qi(c,u,a[f++],a[f++],a[f],a[f+1],n,r)||0;c=a[f++],u=a[f++];break;case Wi.A:var v=a[f++],m=a[f++],y=a[f++],w=a[f++],b=a[f++],x=a[f++];f+=1;var T=!!(1-a[f++]);o=Math.cos(b)*y+v,s=Math.sin(b)*w+m,_?(d=o,p=s):l+=Bi(c,u,o,s,n,r);var S=(n-v)*w/y+v;if(i){if(Fi(v,m,w,b,b+x,T,e,S,r))return!0}else l+=Xi(v,m,w,b,b+x,T,S,r);c=Math.cos(b+x)*y+v,u=Math.sin(b+x)*w+m;break;case Wi.R:if(d=c=a[f++],p=u=a[f++],o=d+a[f++],s=p+a[f++],i){if(Oi(d,p,o,p,e,n,r)||Oi(o,p,o,s,e,n,r)||Oi(o,s,d,s,e,n,r)||Oi(d,s,d,p,e,n,r))return!0}else l+=Bi(o,p,o,s,n,r),l+=Bi(d,s,d,p,n,r);break;case Wi.Z:if(i){if(Oi(c,u,d,p,e,n,r))return!0}else l+=Bi(c,u,d,p,n,r);c=d,u=p}}return i||Math.abs(u-p)<1e-4||(l+=Bi(c,u,d,p,n,r)||0),0!==l}var Ki=k({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},Me),Zi={style:k({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},Ae.style)},Qi=["x","y","rotation","scaleX","scaleY","originX","originY","invisible","culling","z","z2","zlevel","parent"],$i=function(t){function e(e){return t.call(this,e)||this}var i;return s(e,t),e.prototype.update=function(){var i=this;t.prototype.update.call(this);var n=this.style;if(n.decal){var r=this._decalEl=this._decalEl||new e;r.buildPath===e.prototype.buildPath&&(r.buildPath=function(t){i.buildPath(t,i.shape)}),r.silent=!0;var o=r.style;for(var s in n)o[s]!==n[s]&&(o[s]=n[s]);o.fill=n.fill?n.decal:null,o.decal=null,o.shadowColor=null,n.strokeFirst&&(o.stroke=null);for(var a=0;a<Qi.length;++a)r[Qi[a]]=this[Qi[a]];r.__dirty|=Ee.REDARAW_BIT}else this._decalEl&&(this._decalEl=null)},e.prototype.getDecalElement=function(){return this._decalEl},e.prototype._init=function(e){var i=A(e);this.shape=this.getDefaultShape();var n=this.getDefaultStyle();n&&this.useStyle(n);for(var r=0;r<i.length;r++){var o=i[r],s=e[o];"style"===o?this.style?C(this.style,s):this.useStyle(s):"shape"===o?C(this.shape,s):t.prototype.attrKV.call(this,o,s)}this.style||this.useStyle({})},e.prototype.getDefaultStyle=function(){return null},e.prototype.getDefaultShape=function(){return{}},e.prototype.canBeInsideText=function(){return this.hasFill()},e.prototype.getInsideTextFill=function(){var t=this.style.fill;if("none"!==t){if(O(t)){var e=te(t,0);return e>.5?"#333":e>.2?"#eee":"#ccc"}if(t)return"#ccc"}return"#333"},e.prototype.getInsideTextStroke=function(t){var e=this.style.fill;if(O(e)){var i=this.__zr;if(!(!i||!i.isDarkMode())==te(t,0)<.4)return e}},e.prototype.buildPath=function(t,e,i){},e.prototype.pathUpdated=function(){this.__dirty&=~e.SHAPE_CHANGED_BIT},e.prototype.createPathProxy=function(){this.path=new Ai(!1)},e.prototype.hasStroke=function(){var t=this.style,e=t.stroke;return!(null==e||"none"===e||!(t.lineWidth>0))},e.prototype.hasFill=function(){var t=this.style.fill;return null!=t&&"none"!==t},e.prototype.getBoundingRect=function(){var t=this._rect,i=this.style,n=!t;if(n){var r=!1;this.path||(r=!0,this.createPathProxy());var o=this.path;(r||this.__dirty&e.SHAPE_CHANGED_BIT)&&(o.beginPath(),this.buildPath(o,this.shape,!1),this.pathUpdated()),t=o.getBoundingRect()}if(this._rect=t,this.hasStroke()&&this.path&&this.path.len()>0){var s=this._rectWithStroke||(this._rectWithStroke=t.clone());if(this.__dirty||n){s.copy(t);var a=i.strokeNoScale?this.getLineScale():1,h=i.lineWidth;if(!this.hasFill()){var l=this.strokeContainThreshold;h=Math.max(h,null==l?4:l)}a>1e-10&&(s.width+=h/a,s.height+=h/a,s.x-=h/a/2,s.y-=h/a/2)}return s}return t},e.prototype.contain=function(t,e){var i=this.transformCoordToLocal(t,e),n=this.getBoundingRect(),r=this.style;if(n.contain(t=i[0],e=i[1])){var o=this.path;if(this.hasStroke()){var s=r.lineWidth,a=r.strokeNoScale?this.getLineScale():1;if(a>1e-10&&(this.hasFill()||(s=Math.max(s,this.strokeContainThreshold)),function(t,e,i,n){return Vi(t,e,!0,i,n)}(o,s/a,t,e)))return!0}if(this.hasFill())return function(t,e,i){return Vi(t,0,!1,e,i)}(o,t,e)}return!1},e.prototype.dirtyShape=function(){this.__dirty|=e.SHAPE_CHANGED_BIT,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},e.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},e.prototype.animateShape=function(t){return this.animate("shape",t)},e.prototype.updateDuringAnimation=function(t){"style"===t?this.dirtyStyle():"shape"===t?this.dirtyShape():this.markRedraw()},e.prototype.attrKV=function(e,i){"shape"===e?this.setShape(i):t.prototype.attrKV.call(this,e,i)},e.prototype.setShape=function(t,e){var i=this.shape;return i||(i=this.shape={}),"string"==typeof t?i[t]=e:C(i,t),this.dirtyShape(),this},e.prototype.shapeChanged=function(){return!!(this.__dirty&e.SHAPE_CHANGED_BIT)},e.prototype.createStyle=function(t){return H(Ki,t)},e.prototype._innerSaveToNormal=function(e){t.prototype._innerSaveToNormal.call(this,e);var i=this._normalState;e.shape&&!i.shape&&(i.shape=C({},this.shape))},e.prototype._applyStateObj=function(e,i,n,r,o,s){t.prototype._applyStateObj.call(this,e,i,n,r,o,s);var a,h=!(i&&r);if(i&&i.shape?o?r?a=i.shape:(a=C({},n.shape),C(a,i.shape)):(a=C({},r?this.shape:n.shape),C(a,i.shape)):h&&(a=n.shape),a)if(o){this.shape=C({},this.shape);for(var l={},c=A(a),u=0;u<c.length;u++){var d=c[u];"object"==typeof a[d]?this.shape[d]=a[d]:l[d]=a[d]}this._transitionState(e,{shape:l},s)}else this.shape=a,this.dirtyShape()},e.prototype._mergeStates=function(e){for(var i,n=t.prototype._mergeStates.call(this,e),r=0;r<e.length;r++){var o=e[r];o.shape&&this._mergeStyle(i=i||{},o.shape)}return i&&(n.shape=i),n},e.prototype.getAnimationStyleProps=function(){return Zi},e.prototype.isZeroArea=function(){return!1},e.extend=function(t){var i=function(e){function i(i){var n=e.call(this,i)||this;return t.init&&t.init.call(n,i),n}return s(i,e),i.prototype.getDefaultStyle=function(){return D(t.style)},i.prototype.getDefaultShape=function(){return D(t.shape)},i}(e);for(var n in t)"function"==typeof t[n]&&(i.prototype[n]=t[n]);return i},e.SHAPE_CHANGED_BIT=4,e.initDefaultProps=((i=e.prototype).type="path",i.strokeContainThreshold=5,i.segmentIgnoreThreshold=0,i.subPixelOptimize=!1,i.autoBatch=!1,void(i.__dirty=Ee.REDARAW_BIT|Ne.STYLE_CHANGED_BIT|e.SHAPE_CHANGED_BIT)),e}(Ne),Ji=k({strokeFirst:!0,font:"12px sans-serif",x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},Ki),tn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.hasStroke=function(){var t=this.style,e=t.stroke;return null!=e&&"none"!==e&&t.lineWidth>0},e.prototype.hasFill=function(){var t=this.style.fill;return null!=t&&"none"!==t},e.prototype.createStyle=function(t){return H(Ji,t)},e.prototype.setBoundingRect=function(t){this._rect=t},e.prototype.getBoundingRect=function(){var t=this.style;if(!this._rect){var e=t.text;null!=e?e+="":e="";var i=function(t,e,i,n){var r=((t||"")+"").split("\n");if(1===r.length)return nt(r[0],e,i,n);for(var o=new tt(0,0,0,0),s=0;s<r.length;s++){var a=nt(r[s],e,i,n);0===s?o.copy(a):o.union(a)}return o}(e,t.font,t.textAlign,t.textBaseline);if(i.x+=t.x||0,i.y+=t.y||0,this.hasStroke()){var n=t.lineWidth;i.x-=n/2,i.y-=n/2,i.width+=n,i.height+=n}this._rect=i}return this._rect},e.initDefaultProps=void(e.prototype.dirtyRectTolerance=10),e}(Ne);tn.prototype.type="tspan";var en=tn,nn=k({x:0,y:0},Me),rn={style:k({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},Ae.style)},on=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.createStyle=function(t){return H(nn,t)},e.prototype._getSize=function(t){var e=this.style,i=e[t];if(null!=i)return i;var n,r=(n=e.image)&&"string"!=typeof n&&n.width&&n.height?e.image:this.__image;if(!r)return 0;var o="width"===t?"height":"width",s=e[o];return null==s?r[t]:r[t]/r[o]*s},e.prototype.getWidth=function(){return this._getSize("width")},e.prototype.getHeight=function(){return this._getSize("height")},e.prototype.getAnimationStyleProps=function(){return rn},e.prototype.getBoundingRect=function(){var t=this.style;return this._rect||(this._rect=new tt(t.x||0,t.y||0,this.getWidth(),this.getHeight())),this._rect},e}(Ne);on.prototype.type="image";var sn=on,an=Math.round;function hn(t,e,i){if(!e)return t;var n=an(2*t);return(n+an(e))%2==0?n/2:(n+(i?1:-1))/2}var ln=function(){this.x=0,this.y=0,this.width=0,this.height=0},cn={},un=function(t){function e(e){return t.call(this,e)||this}return s(e,t),e.prototype.getDefaultShape=function(){return new ln},e.prototype.buildPath=function(t,e){var i,n,r,o;if(this.subPixelOptimize){var s=function(t,e,i){if(e){var n=e.x,r=e.y,o=e.width,s=e.height;t.x=n,t.y=r,t.width=o,t.height=s;var a=i&&i.lineWidth;return a?(t.x=hn(n,a,!0),t.y=hn(r,a,!0),t.width=Math.max(hn(n+o,a,!1)-t.x,0===o?0:1),t.height=Math.max(hn(r+s,a,!1)-t.y,0===s?0:1),t):t}}(cn,e,this.style);i=s.x,n=s.y,r=s.width,o=s.height,s.r=e.r,e=s}else i=e.x,n=e.y,r=e.width,o=e.height;e.r?function(t,e){var i,n,r,o,s,a=e.x,h=e.y,l=e.width,c=e.height,u=e.r;l<0&&(a+=l,l=-l),c<0&&(h+=c,c=-c),"number"==typeof u?i=n=r=o=u:u instanceof Array?1===u.length?i=n=r=o=u[0]:2===u.length?(i=r=u[0],n=o=u[1]):3===u.length?(i=u[0],n=o=u[1],r=u[2]):(i=u[0],n=u[1],r=u[2],o=u[3]):i=n=r=o=0,i+n>l&&(i*=l/(s=i+n),n*=l/s),r+o>l&&(r*=l/(s=r+o),o*=l/s),n+r>c&&(n*=c/(s=n+r),r*=c/s),i+o>c&&(i*=c/(s=i+o),o*=c/s),t.moveTo(a+i,h),t.lineTo(a+l-n,h),0!==n&&t.arc(a+l-n,h+n,n,-Math.PI/2,0),t.lineTo(a+l,h+c-r),0!==r&&t.arc(a+l-r,h+c-r,r,0,Math.PI/2),t.lineTo(a+o,h+c),0!==o&&t.arc(a+o,h+c-o,o,Math.PI/2,Math.PI),t.lineTo(a,h+i),0!==i&&t.arc(a+i,h+i,i,Math.PI,1.5*Math.PI)}(t,e):t.rect(i,n,r,o)},e.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},e}($i);un.prototype.type="rect";var dn=un,pn={fill:"#000"},fn={style:k({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},Ae.style)},gn=function(t){function e(e){var i=t.call(this)||this;return i.type="text",i._children=[],i._defaultStyle=pn,i.attr(e),i}return s(e,t),e.prototype.childrenRef=function(){return this._children},e.prototype.update=function(){this.styleChanged()&&this._updateSubTexts();for(var e=0;e<this._children.length;e++){var i=this._children[e];i.zlevel=this.zlevel,i.z=this.z,i.z2=this.z2,i.culling=this.culling,i.cursor=this.cursor,i.invisible=this.invisible}var n=this.attachedTransform;if(n){n.updateTransform();var r=n.transform;r?(this.transform=this.transform||[],B(this.transform,r)):this.transform=null}else t.prototype.update.call(this)},e.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),this.attachedTransform?this.attachedTransform.getComputedTransform():t.prototype.getComputedTransform.call(this)},e.prototype._updateSubTexts=function(){var t;this._childCursor=0,mn(t=this.style),M(t.rich,mn),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},e.prototype.addSelfToZr=function(e){t.prototype.addSelfToZr.call(this,e);for(var i=0;i<this._children.length;i++)this._children[i].__zr=e},e.prototype.removeSelfFromZr=function(e){t.prototype.removeSelfFromZr.call(this,e);for(var i=0;i<this._children.length;i++)this._children[i].__zr=null},e.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var t=new tt(0,0,0,0),e=this._children,i=[],n=null,r=0;r<e.length;r++){var o=e[r],s=o.getBoundingRect(),a=o.getLocalTransform(i);a?(t.copy(s),t.applyTransform(a),(n=n||t.clone()).union(t)):(n=n||s.clone()).union(s)}this._rect=n||t}return this._rect},e.prototype.setDefaultTextStyle=function(t){this._defaultStyle=t||pn},e.prototype.setTextContent=function(t){throw new Error("Can't attach text on another text")},e.prototype._mergeStyle=function(t,e){if(!e)return t;var i=e.rich,n=t.rich||i&&{};return C(t,e),i&&n?(this._mergeRich(n,i),t.rich=n):n&&(t.rich=n),t},e.prototype._mergeRich=function(t,e){for(var i=A(e),n=0;n<i.length;n++){var r=i[n];t[r]=t[r]||{},C(t[r],e[r])}},e.prototype.getAnimationStyleProps=function(){return fn},e.prototype._getOrCreateChild=function(t){var e=this._children[this._childCursor];return e&&e instanceof t||(e=new t),this._children[this._childCursor++]=e,e.__zr=this.__zr,e.parent=this,e},e.prototype._updatePlainTexts=function(){var t=this.style,e=t.font||"12px sans-serif",i=t.padding,n=function(t,e){null!=t&&(t+="");var i,n=e.overflow,r=e.padding,o=e.font,s="truncate"===n,a=st(o),h=L(e.lineHeight,a),l="truncate"===e.lineOverflow,c=e.width,u=(i=null!=c&&"break"===n||"breakAll"===n?t?yt(t,e.font,c,"breakAll"===n,0).lines:[]:t?t.split("\n"):[]).length*h,d=L(e.height,u);if(u>d&&l){var p=Math.floor(d/h);i=i.slice(0,p)}var f=d,g=c;if(r&&(f+=r[0]+r[2],null!=g&&(g+=r[1]+r[3])),t&&s&&null!=g)for(var _=ct(c,o,e.ellipsis,{minChar:e.truncateMinChar,placeholder:e.placeholder}),v=0;v<i.length;v++)i[v]=ut(i[v],_);if(null==c){var m=0;for(v=0;v<i.length;v++)m=Math.max(it(i[v],o),m);c=m}return{lines:i,height:d,outerHeight:f,lineHeight:h,calculatedLineHeight:a,contentHeight:u,width:c}}(bn(t),t),r=xn(t),o=!!t.backgroundColor,s=n.outerHeight,a=n.lines,h=n.lineHeight,l=this._defaultStyle,c=t.x||0,u=t.y||0,d=t.align||l.align||"left",p=t.verticalAlign||l.verticalAlign||"top",f=c,g=ot(u,n.contentHeight,p);if(r||i){var _=n.width;i&&(_+=i[1]+i[3]);var v=rt(c,_,d),m=ot(u,s,p);r&&this._renderBackground(t,t,v,m,_,s)}g+=h/2,i&&(f=wn(c,d,i),"top"===p?g+=i[0]:"bottom"===p&&(g-=i[2]));for(var y,w=0,b=!1,x=(null==(y="fill"in t?t.fill:(b=!0,l.fill))||"none"===y?null:y.image||y.colorStops?"#000":y),T=(yn("stroke"in t?t.stroke:o||l.autoStroke&&!b?null:(w=2,l.stroke))),S=t.textShadowBlur>0,D=null!=t.width&&("truncate"===t.overflow||"break"===t.overflow||"breakAll"===t.overflow),C=n.calculatedLineHeight,k=0;k<a.length;k++){var P=this._getOrCreateChild(en),E=P.createStyle();P.useStyle(E),E.text=a[k],E.x=f,E.y=g,d&&(E.textAlign=d),E.textBaseline="middle",E.opacity=t.opacity,E.strokeFirst=!0,S&&(E.shadowBlur=t.textShadowBlur||0,E.shadowColor=t.textShadowColor||"transparent",E.shadowOffsetX=t.textShadowOffsetX||0,E.shadowOffsetY=t.textShadowOffsetY||0),T&&(E.stroke=T,E.lineWidth=t.lineWidth||w,E.lineDash=t.lineDash,E.lineDashOffset=t.lineDashOffset||0),x&&(E.fill=x),E.font=e,g+=h,D&&P.setBoundingRect(new tt(rt(E.x,t.width,E.textAlign),ot(E.y,C,E.textBaseline),t.width,C))}},e.prototype._updateRichTexts=function(){var t=this.style,e=function(t,e){var i=new gt;if(null!=t&&(t+=""),!t)return i;for(var n,r=e.width,o=e.height,s=e.overflow,a="break"!==s&&"breakAll"!==s||null==r?null:{width:r,accumWidth:0,breakAll:"breakAll"===s},h=ht.lastIndex=0;null!=(n=ht.exec(t));){var l=n.index;l>h&&_t(i,t.substring(h,l),e,a),_t(i,n[2],e,a,n[1]),h=ht.lastIndex}h<t.length&&_t(i,t.substring(h,t.length),e,a);var c,d=[],p=0,f=0,g=e.padding,_="truncate"===s,v="truncate"===e.lineOverflow;function m(t,e,i){t.width=e,t.lineHeight=i,p+=i,f=Math.max(f,e)}t:for(var y=0;y<i.lines.length;y++){for(var w=i.lines[y],b=0,x=0,T=0;T<w.tokens.length;T++){var S=(I=w.tokens[T]).styleName&&e.rich[I.styleName]||{},D=I.textPadding=S.padding,C=D?D[1]+D[3]:0,k=I.font=S.font||e.font;I.contentHeight=st(k);var P=L(S.height,I.contentHeight);if(I.innerHeight=P,D&&(P+=D[0]+D[2]),I.height=P,I.lineHeight=z(S.lineHeight,e.lineHeight,P),I.align=S&&S.align||e.align,I.verticalAlign=S&&S.verticalAlign||"middle",v&&null!=o&&p+I.lineHeight>o){T>0?(w.tokens=w.tokens.slice(0,T),m(w,x,b),i.lines=i.lines.slice(0,y+1)):i.lines=i.lines.slice(0,y);break t}var E=S.width,R=null==E||"auto"===E;if("string"==typeof E&&"%"===E.charAt(E.length-1))I.percentWidth=E,d.push(I),I.contentWidth=it(I.text,k);else{if(R){var M=S.backgroundColor,A=M&&M.image;A&&(c=A=u(A))&&c.width&&c.height&&(I.width=Math.max(I.width,A.width*P/A.height))}var O=_&&null!=r?r-x:null;null!=O&&O<I.width?!R||O<C?(I.text="",I.width=I.contentWidth=0):(I.text=lt(I.text,O-C,k,e.ellipsis,{minChar:e.truncateMinChar}),I.width=I.contentWidth=it(I.text,k)):I.contentWidth=it(I.text,k)}I.width+=C,x+=I.width,S&&(b=Math.max(b,I.lineHeight))}m(w,x,b)}for(i.outerWidth=i.width=L(r,f),i.outerHeight=i.height=L(o,p),i.contentHeight=p,i.contentWidth=f,g&&(i.outerWidth+=g[1]+g[3],i.outerHeight+=g[0]+g[2]),y=0;y<d.length;y++){var I;(I=d[y]).width=parseInt(I.percentWidth,10)/100*i.width}return i}(bn(t),t),i=e.width,n=e.outerWidth,r=e.outerHeight,o=t.padding,s=t.y||0,a=this._defaultStyle,h=t.verticalAlign||a.verticalAlign,l=rt(t.x||0,n,t.align||a.align),c=ot(s,r,h),d=l,p=c;o&&(d+=o[3],p+=o[0]);var f=d+i;xn(t)&&this._renderBackground(t,t,l,c,n,r);for(var g=!!t.backgroundColor,_=0;_<e.lines.length;_++){for(var v=e.lines[_],m=v.tokens,y=m.length,w=v.lineHeight,b=v.width,x=0,T=d,S=f,D=y-1,C=void 0;x<y&&(!(C=m[x]).align||"left"===C.align);)this._placeToken(C,t,w,p,T,"left",g),b-=C.width,T+=C.width,x++;for(;D>=0&&"right"===(C=m[D]).align;)this._placeToken(C,t,w,p,S,"right",g),b-=C.width,S-=C.width,D--;for(T+=(i-(T-d)-(f-S)-b)/2;x<=D;)this._placeToken(C=m[x],t,w,p,T+C.width/2,"center",g),T+=C.width,x++;p+=w}},e.prototype._placeToken=function(t,e,i,n,r,o,s){var a=e.rich[t.styleName]||{};a.text=t.text;var h=t.verticalAlign,l=n+i/2;"top"===h?l=n+t.height/2:"bottom"===h&&(l=n+i-t.height/2),!t.isLineHolder&&xn(a)&&this._renderBackground(a,e,"right"===o?r-t.width:"center"===o?r-t.width/2:r,l-t.height/2,t.width,t.height);var c=!!a.backgroundColor,u=t.textPadding;u&&(r=wn(r,o,u),l-=t.height/2-u[0]-t.innerHeight/2);var d=this._getOrCreateChild(en),p=d.createStyle();d.useStyle(p);var f=this._defaultStyle,g=!1,_=0,v=yn("fill"in a?a.fill:"fill"in e?e.fill:(g=!0,f.fill)),m=yn("stroke"in a?a.stroke:"stroke"in e?e.stroke:c||s||f.autoStroke&&!g?null:(_=2,f.stroke)),y=a.textShadowBlur>0||e.textShadowBlur>0;p.text=t.text,p.x=r,p.y=l,y&&(p.shadowBlur=a.textShadowBlur||e.textShadowBlur||0,p.shadowColor=a.textShadowColor||e.textShadowColor||"transparent",p.shadowOffsetX=a.textShadowOffsetX||e.textShadowOffsetX||0,p.shadowOffsetY=a.textShadowOffsetY||e.textShadowOffsetY||0),p.textAlign=o,p.textBaseline="middle",p.font=t.font||"12px sans-serif",p.opacity=z(a.opacity,e.opacity,1),m&&(p.lineWidth=z(a.lineWidth,e.lineWidth,_),p.lineDash=L(a.lineDash,e.lineDash),p.lineDashOffset=e.lineDashOffset||0,p.stroke=m),v&&(p.fill=v);var w=t.contentWidth,b=t.contentHeight;d.setBoundingRect(new tt(rt(p.x,w,p.textAlign),ot(p.y,b,p.textBaseline),w,b))},e.prototype._renderBackground=function(t,e,i,n,r,o){var s,a,h,l=t.backgroundColor,c=t.borderWidth,u=t.borderColor,d=O(l),p=t.borderRadius,f=this;if(d||c&&u){(s=this._getOrCreateChild(dn)).useStyle(s.createStyle()),s.style.fill=null;var g=s.shape;g.x=i,g.y=n,g.width=r,g.height=o,g.r=p,s.dirtyShape()}if(d)(h=s.style).fill=l||null,h.fillOpacity=L(t.fillOpacity,1);else if(l&&l.image){(a=this._getOrCreateChild(sn)).onload=function(){f.dirtyStyle()};var _=a.style;_.image=l.image,_.x=i,_.y=n,_.width=r,_.height=o}c&&u&&((h=s.style).lineWidth=c,h.stroke=u,h.strokeOpacity=L(t.strokeOpacity,1),h.lineDash=t.borderDash,h.lineDashOffset=t.borderDashOffset||0,s.strokeContainThreshold=0,s.hasFill()&&s.hasStroke()&&(h.strokeFirst=!0,h.lineWidth*=2));var v=(s||a).style;v.shadowBlur=t.shadowBlur||0,v.shadowColor=t.shadowColor||"transparent",v.shadowOffsetX=t.shadowOffsetX||0,v.shadowOffsetY=t.shadowOffsetY||0,v.opacity=z(t.opacity,e.opacity,1)},e.makeFont=function(t){var e,i="";if(t.fontSize||t.fontFamily||t.fontWeight){var n="";n="string"!=typeof t.fontSize||-1===t.fontSize.indexOf("px")&&-1===t.fontSize.indexOf("rem")&&-1===t.fontSize.indexOf("em")?isNaN(+t.fontSize)?"12px":t.fontSize+"px":t.fontSize,i=[t.fontStyle,t.fontWeight,n,t.fontFamily||"sans-serif"].join(" ")}return i&&(null==(e=i)?null:"function"==typeof e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""))||t.textFont||t.font},e}(Ne),_n={left:!0,right:1,center:1},vn={top:1,bottom:1,middle:1};function mn(t){if(t){t.font=gn.makeFont(t);var e=t.align;"middle"===e&&(e="center"),t.align=null==e||_n[e]?e:"left";var i=t.verticalAlign;"center"===i&&(i="middle"),t.verticalAlign=null==i||vn[i]?i:"top",t.padding&&(t.padding=function(t){if("number"==typeof t)return[t,t,t,t];var e=t.length;return 2===e?[t[0],t[1],t[0],t[1]]:3===e?[t[0],t[1],t[2],t[1]]:t}(t.padding))}}function yn(t,e){return null==t||e<=0||"transparent"===t||"none"===t?null:t.image||t.colorStops?"#000":t}function wn(t,e,i){return"right"===e?t-i[1]:"center"===e?t+i[3]/2-i[1]/2:t+i[3]}function bn(t){var e=t.text;return null!=e&&(e+=""),e}function xn(t){return!!(t.backgroundColor||t.borderWidth&&t.borderColor)}var Tn=gn,Sn={},Dn=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1},Cn=function(t){function e(e){return t.call(this,e)||this}return s(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new Dn},e.prototype.buildPath=function(t,e){var i,n,r,o;if(this.subPixelOptimize){var s=function(t,e,i){if(e){var n=e.x1,r=e.x2,o=e.y1,s=e.y2;t.x1=n,t.x2=r,t.y1=o,t.y2=s;var a=i&&i.lineWidth;return a?(an(2*n)===an(2*r)&&(t.x1=t.x2=hn(n,a,!0)),an(2*o)===an(2*s)&&(t.y1=t.y2=hn(o,a,!0)),t):t}}(Sn,e,this.style);i=s.x1,n=s.y1,r=s.x2,o=s.y2}else i=e.x1,n=e.y1,r=e.x2,o=e.y2;var a=e.percent;0!==a&&(t.moveTo(i,n),a<1&&(r=i*(1-a)+r*a,o=n*(1-a)+o*a),t.lineTo(r,o))},e.prototype.pointAt=function(t){var e=this.shape;return[e.x1*(1-t)+e.x2*t,e.y1*(1-t)+e.y2*t]},e}($i);Cn.prototype.type="line";var kn=Cn,Pn=function(t){function e(e){var i=t.call(this)||this;return i.isGroup=!0,i._children=[],i.attr(e),i}return s(e,t),e.prototype.childrenRef=function(){return this._children},e.prototype.children=function(){return this._children.slice()},e.prototype.childAt=function(t){return this._children[t]},e.prototype.childOfName=function(t){for(var e=this._children,i=0;i<e.length;i++)if(e[i].name===t)return e[i]},e.prototype.childCount=function(){return this._children.length},e.prototype.add=function(t){if(t&&(t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),t.__hostTarget))throw"This elemenet has been used as an attachment";return this},e.prototype.addBefore=function(t,e){if(t&&t!==this&&t.parent!==this&&e&&e.parent===this){var i=this._children,n=i.indexOf(e);n>=0&&(i.splice(n,0,t),this._doAdd(t))}return this},e.prototype.replaceAt=function(t,e){var i=this._children,n=i[e];if(t&&t!==this&&t.parent!==this&&t!==n){i[e]=t,n.parent=null;var r=this.__zr;r&&n.removeSelfFromZr(r),this._doAdd(t)}return this},e.prototype._doAdd=function(t){t.parent&&t.parent.remove(t),t.parent=this;var e=this.__zr;e&&e!==t.__zr&&t.addSelfToZr(e),e&&e.refresh()},e.prototype.remove=function(t){var e=this.__zr,i=this._children,n=P(i,t);return n<0||(i.splice(n,1),t.parent=null,e&&t.removeSelfFromZr(e),e&&e.refresh()),this},e.prototype.removeAll=function(){for(var t=this._children,e=this.__zr,i=0;i<t.length;i++){var n=t[i];e&&n.removeSelfFromZr(e),n.parent=null}return t.length=0,this},e.prototype.eachChild=function(t,e){for(var i=this._children,n=0;n<i.length;n++)t.call(e,i[n],n);return this},e.prototype.traverse=function(t,e){for(var i=0;i<this._children.length;i++){var n=this._children[i],r=t.call(e,n);n.isGroup&&!r&&n.traverse(t,e)}return this},e.prototype.addSelfToZr=function(e){t.prototype.addSelfToZr.call(this,e);for(var i=0;i<this._children.length;i++)this._children[i].addSelfToZr(e)},e.prototype.removeSelfFromZr=function(e){t.prototype.removeSelfFromZr.call(this,e);for(var i=0;i<this._children.length;i++)this._children[i].removeSelfFromZr(e)},e.prototype.getBoundingRect=function(t){for(var e=new tt(0,0,0,0),i=t||this._children,n=[],r=null,o=0;o<i.length;o++){var s=i[o];if(!s.ignore&&!s.invisible){var a=s.getBoundingRect(),h=s.getLocalTransform(n);h?(tt.applyTransform(e,a,h),(r=r||e.clone()).union(e)):(r=r||a.clone()).union(a)}}return r||e},e}(Ee);Pn.prototype.type="group";var En=Pn;function Rn(t,e,i,n,r,o,s){var a=.5*(i-t),h=.5*(n-e);return(2*(e-i)+a+h)*s+(-3*(e-i)-2*a-h)*o+a*r+e}var Mn=function(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null},An=function(t){function e(e){return t.call(this,e)||this}return s(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new Mn},e.prototype.buildPath=function(t,e){!function(t,e,i){var n=e.smooth,r=e.points;if(r&&r.length>=2)if(n&&"spline"!==n){var o=function(t,e,i,n){var r,o,s,a,h=[],l=[],c=[],u=[];if(n){s=[1/0,1/0],a=[-1/0,-1/0];for(var d=0,p=t.length;d<p;d++)Et(s,s,t[d]),Rt(a,a,t[d]);Et(s,s,n[0]),Rt(a,a,n[1])}for(d=0,p=t.length;d<p;d++){var f=t[d];if(0!==d&&d!==p-1){Tt(l,o=t[d+1],r=t[d-1]),St(l,l,e);var g=Dt(f,r),_=Dt(f,o),v=g+_;0!==v&&(g/=v,_/=v),St(c,l,-g),St(u,l,_);var m=xt([],f,c),y=xt([],f,u);n&&(Rt(m,m,s),Et(m,m,a),Rt(y,y,s),Et(y,y,a)),h.push(m),h.push(y)}else h.push(bt(t[d]))}return h}(r,n,0,e.smoothConstraint);t.moveTo(r[0][0],r[0][1]);for(var s=r.length,a=0;a<s-1;a++){var h=o[2*a],l=o[2*a+1],c=r[(a+1)%s];t.bezierCurveTo(h[0],h[1],l[0],l[1],c[0],c[1])}}else{"spline"===n&&(r=function(t,e){for(var i=t.length,n=[],r=0,o=1;o<i;o++)r+=Dt(t[o-1],t[o]);var s=r/2;for(s=s<i?i:s,o=0;o<s;o++){var a=o/(s-1)*(i-1),h=Math.floor(a),l=a-h,c=void 0,u=t[h%i],d=void 0,p=void 0,f=l*l,g=l*f;n.push([Rn((c=t[0===h?h:h-1])[0],u[0],(d=t[h>i-2?i-1:h+1])[0],(p=t[h>i-3?i-1:h+2])[0],l,f,g),Rn(c[1],u[1],d[1],p[1],l,f,g)])}return n}(r)),t.moveTo(r[0][0],r[0][1]),a=1;for(var u=r.length;a<u;a++)t.lineTo(r[a][0],r[a][1])}}(t,e)},e}($i);An.prototype.type="polyline";var On=An,In=i("fXoL"),Ln=n.GanttScaleUnit,zn=n.TASK_ROW_HEIGHT,Nn=n.COLOR_CONFIG,Hn=n.ELEMENT_Z_INDEX_TIER,Fn=n.TASK_TYPE,Bn=n.BASIC_TASK_PIXEL;let Wn=(()=>{class t{constructor(){}getScaleUnitPixel(t){switch(t){case n.GanttScaleUnit.day:return 5*n.BASIC_DAY_PIXEL;case n.GanttScaleUnit.week:return 2*n.BASIC_DAY_PIXEL;case n.GanttScaleUnit.month:return n.BASIC_DAY_PIXEL}}drawMonthText(t,e){return new Tn({style:{x:++t,y:2,text:e,fill:n.COLOR_CONFIG.DateTextColor}})}drawMonthScaleLine(t){return new kn({z:Hn.MonthScaleLine,shape:{x1:t+.5,y1:35.5,x2:t+.5,y2:window.screen.height*window.devicePixelRatio},cursor:null,style:{stroke:n.COLOR_CONFIG.MonthLineColor}})}drawDateScaleBottomBorder(t){return new kn({shape:{x1:0,y1:35.5,x2:t,y2:35.5},cursor:null,style:{stroke:n.COLOR_CONFIG.DateLineColor}})}drawDateScaleLeftBorder(t){return new kn({shape:{x1:t+.5,y1:18,x2:t+.5,y2:35},cursor:null,style:{stroke:n.COLOR_CONFIG.DateLineColor}})}drawDayText(t,e,i){return new Tn({style:{x:t+this.getScaleUnitPixel(i)/2,y:20,text:e.toString(),fontSize:"12px",fontFamily:"Microsoft YaHei",fill:n.COLOR_CONFIG.DateTextColor,align:i==Ln.month?"left":"center"}})}drawNonworkdayBackground(t,e){let i=this.getScaleUnitPixel(e);const r=new En({silent:!0});for(let o=1;i>0;t++,i--,o++){const e=new kn({z:Hn.NonWorkDayBackground,shape:{x1:t+.5,y1:35.5,x2:t+.5,y2:window.screen.height*window.devicePixelRatio},cursor:null,style:{stroke:n.COLOR_CONFIG.WeekendColor,lineDash:[1,5],lineDashOffset:o}});r.add(e)}return r}drawTask(t,e,i,n,r,o){const s=new En,a=this.drawTaskRowBackground(i,r),h=this.drawTaskElement(t,e,i,n,o);return h.on("mouseover",t=>{a.trigger("mouseover")}),h.on("mouseout",t=>{a.trigger("mouseout")}),s.add(h),s.add(a),s}drawTaskElement(t,e,i,r,o){const s=(n.TASK_ROW_HEIGHT-n.BASIC_TASK_PIXEL)/2;if(t==Fn.Normal){const t=new dn({z:Hn.TaskItem,style:{fill:null!=o?o:Nn.TaskFillColor,shadowOffsetX:1,shadowOffsetY:2,shadowBlur:2,shadowColor:"#5170ff30"},shape:{r:3,x:e,y:i+s,width:r,height:Bn},draggable:"horizontal"});return t.on("drag",t=>{}),t}return t==Fn.Milestone?new sn({z:Hn.TaskItem,x:e,y:i+(zn-24)/2,style:{image:"milestone.svg"},draggable:"horizontal"}):t==Fn.Abstract?new On({z:Hn.TaskItem,x:e,y:i+s,style:{fill:Nn.AbstractTaskFillColor,stroke:null},shape:{points:[[0,0],[r,0],[r,Bn],[r-6,Bn/3],[6,Bn/3],[0,Bn]]}}):void 0}drawTaskRowBackground(t,e){const i=new dn({z:Hn.TaskRowBackground,style:{fill:Nn.TaskRowColor,opacity:0},shape:{x:0,y:t,width:e,height:zn},cursor:null});return i.on("mouseout",t=>{i.attr({style:{opacity:0}})}),i.on("mouseover",t=>{i.attr({style:{opacity:1}})}),i}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=In.Eb({token:t,factory:t.\u0275fac}),t})();function Yn(t){return null!=t&&""+t!="false"}function Gn(t){return t instanceof In.l?t.nativeElement:t}var Un=i("XNiG"),jn=i("LRne"),qn=i("HDdC"),Xn=i("DH7j"),Vn=i("n6bG"),Kn=i("lJxs");function Zn(t,e,i,n){return Object(Vn.a)(i)&&(n=i,i=void 0),n?Zn(t,e,i).pipe(Object(Kn.a)(t=>Object(Xn.a)(t)?n(...t):n(t))):new qn.a(n=>{!function t(e,i,n,r,o){let s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){const t=e;e.addEventListener(i,n,o),s=()=>t.removeEventListener(i,n,o)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){const t=e;e.on(i,n),s=()=>t.off(i,n)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){const t=e;e.addListener(i,n),s=()=>t.removeListener(i,n)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let s=0,a=e.length;s<a;s++)t(e[s],i,n,r,o)}r.add(s)}(t,e,(function(t){n.next(arguments.length>1?Array.prototype.slice.call(arguments):t)}),n,i)})}var Qn=i("quSY");class $n extends Qn.a{constructor(t,e){super()}schedule(t,e=0){return this}}class Jn extends $n{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const i=this.id,n=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(n,i,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(n,this.id,e),this}requestAsyncId(t,e,i=0){return setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!==i&&this.delay===i&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let i=!1,n=void 0;try{this.work(t)}catch(r){i=!0,n=!!r&&r||new Error(r)}if(i)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,i=e.actions,n=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==n&&i.splice(n,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}class tr extends Jn{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,i=0){if(null!==i&&i>0||null===i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}}let er=(()=>{class t{constructor(e,i=t.now){this.SchedulerAction=e,this.now=i}schedule(t,e=0,i){return new this.SchedulerAction(this,t).schedule(i,e)}}return t.now=()=>Date.now(),t})();class ir extends er{constructor(t,e=er.now){super(t,()=>ir.delegate&&ir.delegate!==this?ir.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,i){return ir.delegate&&ir.delegate!==this?ir.delegate.schedule(t,e,i):super.schedule(t,e,i)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let i;this.active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}class nr extends ir{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let i,n=-1,r=e.length;t=t||e.shift();do{if(i=t.execute(t.state,t.delay))break}while(++n<r&&(t=e.shift()));if(this.active=!1,i){for(;++n<r&&(t=e.shift());)t.unsubscribe();throw i}}}const rr=new nr(tr);var or=i("7o/Q");const sr=new ir(Jn);var ar=i("l7GE"),hr=i("ZUHj");class lr{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new cr(t,this.durationSelector))}}class cr extends ar.a{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let i;try{const{durationSelector:e}=this;i=e(t)}catch(e){return this.destination.error(e)}const n=Object(hr.a)(this,i);!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}}clearThrottle(){const{value:t,hasValue:e,throttled:i}=this;i&&(this.remove(i),this.throttled=null,i.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))}notifyNext(t,e,i,n){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function ur(t){return!Object(Xn.a)(t)&&t-parseFloat(t)+1>=0}var dr=i("z+Ro");function pr(t){const{index:e,period:i,subscriber:n}=t;if(n.next(e),!n.closed){if(-1===i)return n.complete();t.index=e+1,this.schedule(t,i)}}var fr=i("pLZG");function gr(t){return e=>e.lift(new _r(t))}class _r{constructor(t){this.notifier=t}call(t,e){const i=new vr(t),n=Object(hr.a)(i,this.notifier);return n&&!i.seenValue?(i.add(n),e.subscribe(i)):i}}class vr extends ar.a{constructor(t){super(t),this.seenValue=!1}notifyNext(t,e,i,n,r){this.seenValue=!0,this.complete()}notifyComplete(){}}var mr=i("JX91");function yr(){return t=>t.lift(new wr)}class wr{call(t,e){return e.subscribe(new br(t))}}class br extends or.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}var xr=i("eIep");let Tr;i("EY2u"),i("9ppp"),i("Ylt2");try{Tr="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch($a){Tr=!1}let Sr,Dr,Cr=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?Object(r.l)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Tr)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(In.Nb(In.B))},t.\u0275prov=Object(In.Eb)({factory:function(){return new t(Object(In.Nb)(In.B))},token:t,providedIn:"root"}),t})();function kr(t){return function(){if(null==Sr&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Sr=!0}))}finally{Sr=Sr||!1}return Sr}()?t:!!t.capture}function Pr(t){if(function(){if(null==Dr){const t="undefined"!=typeof document?document.head:null;Dr=!(!t||!t.createShadowRoot&&!t.attachShadow)}return Dr}()){const e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}const Er=new In.q("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(In.T)(r.c)}});let Rr=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new In.n,t){const e=t.documentElement?t.documentElement.dir:null,i=(t.body?t.body.dir:null)||e;this.value="ltr"===i||"rtl"===i?i:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(In.Nb(Er,8))},t.\u0275prov=Object(In.Eb)({factory:function(){return new t(Object(In.Nb)(Er,8))},token:t,providedIn:"root"}),t})(),Mr=(()=>{class t{constructor(t,e,i){this._platform=t,this._change=new Un.a,this._changeListener=t=>{this._change.next(t)},this._document=i,e.runOutsideAngular(()=>{if(t.isBrowser){const t=this._getWindow();t.addEventListener("resize",this._changeListener),t.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+e,height:i,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,e=this._getWindow(),i=t.documentElement,n=i.getBoundingClientRect();return{top:-n.top||t.body.scrollTop||e.scrollY||i.scrollTop||0,left:-n.left||t.body.scrollLeft||e.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(function(t,e=sr){return i=()=>function(t=0,e,i){let n=-1;return ur(e)?n=Number(e)<1?1:Number(e):Object(dr.a)(e)&&(i=e),Object(dr.a)(i)||(i=sr),new qn.a(e=>{const r=ur(t)?t:+t-i.now();return i.schedule(pr,r,{index:0,period:n,subscriber:e})})}(t,e),function(t){return t.lift(new lr(i))};var i}(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(In.Nb(Cr),In.Nb(In.z),In.Nb(r.c,8))},t.\u0275prov=Object(In.Eb)({factory:function(){return new t(Object(In.Nb)(Cr),Object(In.Nb)(In.z),Object(In.Nb)(r.c,8))},token:t,providedIn:"root"}),t})(),Ar=(()=>{class t{}return t.\u0275mod=In.Gb({type:t}),t.\u0275inj=In.Fb({factory:function(e){return new(e||t)}}),t})();function Or(t){const{subscriber:e,counter:i,period:n}=t;e.next(i),this.schedule({subscriber:e,counter:i+1,period:n},n)}var Ir=i("VRyK"),Lr=i("IzEk"),zr=i("vkgz");function Nr(t,e){for(let i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function Hr(t,e){const i=e?"":"none";Nr(t.style,{touchAction:e?"":"none",webkitUserDrag:e?"":"none",webkitTapHighlightColor:e?"":"transparent",userSelect:i,msUserSelect:i,webkitUserSelect:i,MozUserSelect:i})}function Fr(t,e){const i=t.style;i.position=e?"":"fixed",i.top=i.opacity=e?"":"0",i.left=e?"":"-999em"}function Br(t){const e=t.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(t)*e}function Wr(t,e){return t.getPropertyValue(e).split(",").map(t=>t.trim())}function Yr(t){const e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}}function Gr(t,e,i){const{top:n,bottom:r,left:o,right:s}=t;return i>=n&&i<=r&&e>=o&&e<=s}function Ur(t,e,i){t.top+=e,t.bottom=t.top+t.height,t.left+=i,t.right=t.left+t.width}function jr(t,e,i,n){const{top:r,right:o,bottom:s,left:a,width:h,height:l}=t,c=h*e,u=l*e;return n>r-u&&n<s+u&&i>a-c&&i<o+c}class qr{constructor(t,e){this._document=t,this._viewportRuler=e,this.positions=new Map}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),t.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:Yr(t)})})}handleScroll(t){const e=t.target,i=this.positions.get(e);if(!i)return null;const n=e===this._document?e.documentElement:e,r=i.scrollPosition;let o,s;if(e===this._document){const t=this._viewportRuler.getViewportScrollPosition();o=t.top,s=t.left}else o=e.scrollTop,s=e.scrollLeft;const a=r.top-o,h=r.left-s;return this.positions.forEach((t,i)=>{t.clientRect&&e!==i&&n.contains(i)&&Ur(t.clientRect,a,h)}),r.top=o,r.left=s,{top:a,left:h}}}function Xr(t){const e=t.cloneNode(!0),i=e.querySelectorAll("[id]"),n=t.nodeName.toLowerCase();e.removeAttribute("id");for(let r=0;r<i.length;r++)i[r].removeAttribute("id");return"canvas"===n?Qr(t,e):"input"!==n&&"select"!==n&&"textarea"!==n||Zr(t,e),Vr("canvas",t,e,Qr),Vr("input, textarea, select",t,e,Zr),e}function Vr(t,e,i,n){const r=e.querySelectorAll(t);if(r.length){const e=i.querySelectorAll(t);for(let t=0;t<r.length;t++)n(r[t],e[t])}}let Kr=0;function Zr(t,e){"file"!==e.type&&(e.value=t.value),"radio"===e.type&&e.name&&(e.name=`mat-clone-${e.name}-${Kr++}`)}function Qr(t,e){const i=e.getContext("2d");if(i)try{i.drawImage(t,0,0)}catch($a){}}const $r=kr({passive:!0}),Jr=kr({passive:!1});class to{constructor(t,e,i,n,r,o){this._config=e,this._document=i,this._ngZone=n,this._viewportRuler=r,this._dragDropRegistry=o,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._moveEvents=new Un.a,this._pointerMoveSubscription=Qn.a.EMPTY,this._pointerUpSubscription=Qn.a.EMPTY,this._scrollSubscription=Qn.a.EMPTY,this._resizeSubscription=Qn.a.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new Un.a,this.started=new Un.a,this.released=new Un.a,this.ended=new Un.a,this.entered=new Un.a,this.exited=new Un.a,this.dropped=new Un.a,this.moved=this._moveEvents,this._pointerDown=t=>{if(this.beforeStarted.next(),this._handles.length){const e=this._handles.find(e=>{const i=t.target;return!!i&&(i===e||e.contains(i))});!e||this._disabledHandles.has(e)||this.disabled||this._initializeDragSequence(e,t)}else this.disabled||this._initializeDragSequence(this._rootElement,t)},this._pointerMove=t=>{const e=this._getPointerPositionOnPage(t);if(!this._hasStartedDragging){if(Math.abs(e.x-this._pickupPositionOnPage.x)+Math.abs(e.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const e=Date.now()>=this._dragStartTime+this._getDragStartDelay(t),i=this._dropContainer;if(!e)return void this._endDragSequence(t);i&&(i.isDragging()||i.isReceiving())||(t.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(t)))}return}this._boundaryElement&&(this._previewRect&&(this._previewRect.width||this._previewRect.height)||(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect())),t.preventDefault();const i=this._getConstrainedPointerPosition(e);if(this._hasMoved=!0,this._lastKnownPointerPosition=e,this._updatePointerDirectionDelta(i),this._dropContainer)this._updateActiveDropContainer(i,e);else{const t=this._activeTransform;t.x=i.x-this._pickupPositionOnPage.x+this._passiveTransform.x,t.y=i.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(t.x,t.y),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&this._rootElement.setAttribute("transform",`translate(${t.x} ${t.y})`)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:i,event:t,distance:this._getDragDistance(i),delta:this._pointerDirectionDelta})})},this._pointerUp=t=>{this._endDragSequence(t)},this.withRootElement(t).withParent(e.parentDragRef||null),this._parentPositions=new qr(i,r),o.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){const e=Yn(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(t=>Hr(t,e)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){this._handles=t.map(t=>Gn(t)),this._handles.forEach(t=>Hr(t,this.disabled)),this._toggleNativeDragInteractions();const e=new Set;return this._disabledHandles.forEach(t=>{this._handles.indexOf(t)>-1&&e.add(t)}),this._disabledHandles=e,this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const e=Gn(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,Jr),e.addEventListener("touchstart",this._pointerDown,$r)}),this._initialTransform=void 0,this._rootElement=e),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?Gn(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(t){return this._parentDragRef=t,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&no(this._rootElement),no(this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),Hr(t,!0))}enableHandle(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),Hr(t,this.disabled))}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}_sortFromLastPointerPosition(){const t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview&&no(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder&&no(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging&&(this.released.next({source:this}),this._dropContainer?(this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)})):(this._passiveTransform.x=this._activeTransform.x,this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(this._getPointerPositionOnPage(t))})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this))))}_startDragSequence(t){ro(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const t=this._rootElement,i=t.parentNode,n=this._preview=this._createPreviewElement(),r=this._placeholder=this._createPlaceholderElement(),o=this._anchor=this._anchor||this._document.createComment(""),s=this._getShadowRoot();i.insertBefore(o,t),Fr(t,!1),this._document.body.appendChild(i.replaceChild(r,t)),function(t,e){return e||t.fullscreenElement||t.webkitFullscreenElement||t.mozFullScreenElement||t.msFullscreenElement||t.body}(this._document,s).appendChild(n),this.started.next({source:this}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(t,e){this._parentDragRef&&e.stopPropagation();const i=this.isDragging(),n=ro(e),r=!n&&0!==e.button,o=this._rootElement,s=!n&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now();if(e.target&&e.target.draggable&&"mousedown"===e.type&&e.preventDefault(),i||r||s)return;this._handles.length&&(this._rootElementTapHighlight=o.style.webkitTapHighlightColor||"",o.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scroll.subscribe(t=>{this._updateOnScroll(t)}),this._boundaryElement&&(this._boundaryRect=Yr(this._boundaryElement));const a=this._previewTemplate;this._pickupPositionInElement=a&&a.template&&!a.matchSize?{x:0,y:0}:this._getPointerPositionInElement(t,e);const h=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:h.x,y:h.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){Fr(this._rootElement,!0),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=void 0,this._ngZone.run(()=>{const e=this._dropContainer,i=e.getItemIndex(this),n=this._getPointerPositionOnPage(t),r=this._getDragDistance(this._getPointerPositionOnPage(t)),o=e._isOverContainer(n.x,n.y);this.ended.next({source:this,distance:r}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:o,distance:r}),e.drop(this,i,this._initialIndex,this._initialContainer,o,r),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e},{x:i,y:n}){let r=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!r&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(r=this._initialContainer),r&&r!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=r,this._dropContainer.enter(this,t,e,r===this._initialContainer&&r.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:r,currentIndex:r.getItemIndex(this)})}),this._dropContainer._startScrollingIfNecessary(i,n),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this._preview.style.transform=eo(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y)}_createPreviewElement(){const t=this._previewTemplate,e=this.previewClass,i=t?t.template:null;let n;if(i&&t){const e=t.matchSize?this._rootElement.getBoundingClientRect():null,r=t.viewContainer.createEmbeddedView(i,t.context);r.detectChanges(),n=oo(r,this._document),this._previewRef=r,t.matchSize?so(n,e):n.style.transform=eo(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const t=this._rootElement;n=Xr(t),so(n,t.getBoundingClientRect())}return Nr(n.style,{pointerEvents:"none",margin:"0",position:"fixed",top:"0",left:"0",zIndex:""+(this._config.zIndex||1e3)}),Hr(n,!1),n.classList.add("cdk-drag-preview"),n.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(t=>n.classList.add(t)):n.classList.add(e)),n}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._preview.style.transform=eo(t.left,t.top);const e=function(t){const e=getComputedStyle(t),i=Wr(e,"transition-property"),n=i.find(t=>"transform"===t||"all"===t);if(!n)return 0;const r=i.indexOf(n),o=Wr(e,"transition-duration"),s=Wr(e,"transition-delay");return Br(o[r])+Br(s[r])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(t=>{const i=e=>{(!e||e.target===this._preview&&"transform"===e.propertyName)&&(this._preview.removeEventListener("transitionend",i),t(),clearTimeout(n))},n=setTimeout(i,1.5*e);this._preview.addEventListener("transitionend",i)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,e=t?t.template:null;let i;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),i=oo(this._placeholderRef,this._document)):i=Xr(this._rootElement),i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(t,e){const i=this._rootElement.getBoundingClientRect(),n=t===this._rootElement?null:t,r=n?n.getBoundingClientRect():i,o=ro(e)?e.targetTouches[0]:e,s=this._getViewportScrollPosition();return{x:r.left-i.left+(o.pageX-r.left-s.left),y:r.top-i.top+(o.pageY-r.top-s.top)}}_getPointerPositionOnPage(t){const e=this._getViewportScrollPosition(),i=ro(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,n=i.pageX-e.left,r=i.pageY-e.top;if(this._ownerSVGElement){const t=this._ownerSVGElement.getScreenCTM();if(t){const e=this._ownerSVGElement.createSVGPoint();return e.x=n,e.y=r,e.matrixTransform(t.inverse())}}return{x:n,y:r}}_getConstrainedPointerPosition(t){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:i,y:n}=this.constrainPosition?this.constrainPosition(t,this):t;if("x"===this.lockAxis||"x"===e?n=this._pickupPositionOnPage.y:"y"!==this.lockAxis&&"y"!==e||(i=this._pickupPositionOnPage.x),this._boundaryRect){const{x:t,y:e}=this._pickupPositionInElement,r=this._boundaryRect,o=this._previewRect,s=r.top+e,a=r.bottom-(o.height-e);i=io(i,r.left+t,r.right-(o.width-t)),n=io(n,s,a)}return{x:i,y:n}}_updatePointerDirectionDelta(t){const{x:e,y:i}=t,n=this._pointerDirectionDelta,r=this._pointerPositionAtLastDirectionChange,o=Math.abs(e-r.x),s=Math.abs(i-r.y);return o>this._config.pointerDirectionChangeThreshold&&(n.x=e>r.x?1:-1,r.x=e),s>this._config.pointerDirectionChangeThreshold&&(n.y=i>r.y?1:-1,r.y=i),n}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,Hr(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,Jr),t.removeEventListener("touchstart",this._pointerDown,$r)}_applyRootElementTransform(t,e){const i=eo(t,e);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform||""),this._rootElement.style.transform=this._initialTransform?i+" "+this._initialTransform:i}_getDragDistance(t){const e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(0===t&&0===e||this.isDragging()||!this._boundaryElement)return;const i=this._boundaryElement.getBoundingClientRect(),n=this._rootElement.getBoundingClientRect();if(0===i.width&&0===i.height||0===n.width&&0===n.height)return;const r=i.left-n.left,o=n.right-i.right,s=i.top-n.top,a=n.bottom-i.bottom;i.width>n.width?(r>0&&(t+=r),o>0&&(t-=o)):t=0,i.height>n.height?(s>0&&(e+=s),a>0&&(e-=a)):e=0,t===this._passiveTransform.x&&e===this._passiveTransform.y||this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){const e=this.dragStartDelay;return"number"==typeof e?e:ro(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){const e=this._parentPositions.handleScroll(t);if(e){const i=t.target;this._boundaryRect&&(i===this._document||i!==this._boundaryElement&&i.contains(this._boundaryElement))&&Ur(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){const t=this._parentPositions.positions.get(this._document);return t?t.scrollPosition:this._viewportRuler.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=Pr(this._rootElement)),this._cachedShadowRoot}}function eo(t,e){return`translate3d(${Math.round(t)}px, ${Math.round(e)}px, 0)`}function io(t,e,i){return Math.max(e,Math.min(i,t))}function no(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function ro(t){return"t"===t.type[0]}function oo(t,e){const i=t.rootNodes;if(1===i.length&&i[0].nodeType===e.ELEMENT_NODE)return i[0];const n=e.createElement("div");return i.forEach(t=>n.appendChild(t)),n}function so(t,e){t.style.width=e.width+"px",t.style.height=e.height+"px",t.style.transform=eo(e.left,e.top)}function ao(t,e){return Math.max(0,Math.min(e,t))}class ho{constructor(t,e,i,n,r){this._dragDropRegistry=e,this._ngZone=n,this._viewportRuler=r,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new Un.a,this.entered=new Un.a,this.exited=new Un.a,this.dropped=new Un.a,this.sorted=new Un.a,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=Qn.a.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new Un.a,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function(t=0,e=sr){return(!ur(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=sr),new qn.a(i=>(i.add(e.schedule(Or,t,{subscriber:i,counter:0,period:t})),i))}(0,rr).pipe(gr(this._stopScrollTimers)).subscribe(()=>{const t=this._scrollNode,e=this.autoScrollStep;1===this._verticalScrollDirection?co(t,-e):2===this._verticalScrollDirection&&co(t,e),1===this._horizontalScrollDirection?uo(t,-e):2===this._horizontalScrollDirection&&uo(t,e)})},this.element=Gn(t),this._document=i,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new qr(i,r)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(t,e,i,n){let r;this._draggingStarted(),null==n?(r=this.sortingDisabled?this._draggables.indexOf(t):-1,-1===r&&(r=this._getItemIndexFromPointerPosition(t,e,i))):r=n;const o=this._activeDraggables,s=o.indexOf(t),a=t.getPlaceholderElement();let h=o[r];if(h===t&&(h=o[r+1]),s>-1&&o.splice(s,1),h&&!this._dragDropRegistry.isDragging(h)){const e=h.getRootElement();e.parentElement.insertBefore(a,e),o.splice(r,0,t)}else if(this._shouldEnterAsFirstChild(e,i)){const e=o[0].getRootElement();e.parentNode.insertBefore(a,e),o.unshift(t)}else Gn(this.element).appendChild(a),o.push(t);a.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,i,n,r,o){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:i,container:this,previousContainer:n,isPointerOverContainer:r,distance:o})}withItems(t){const e=this._draggables;return this._draggables=t,t.forEach(t=>t._withDropContainer(this)),this.isDragging()&&(e.filter(t=>t.isDragging()).every(e=>-1===t.indexOf(e))?this._reset():this._cacheItems()),this}withDirection(t){return this._direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._orientation=t,this}withScrollableParents(t){const e=Gn(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e,...t]:t.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?lo("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,e=>e.drag===t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,i,n){if(this.sortingDisabled||!this._clientRect||!jr(this._clientRect,.05,e,i))return;const r=this._itemPositions,o=this._getItemIndexFromPointerPosition(t,e,i,n);if(-1===o&&r.length>0)return;const s="horizontal"===this._orientation,a=lo(r,e=>e.drag===t),h=r[o],l=h.clientRect,c=a>o?1:-1,u=this._getItemOffsetPx(r[a].clientRect,l,c),d=this._getSiblingOffsetPx(a,r,c),p=r.slice();!function(t,e,i){const n=ao(e,t.length-1),r=ao(i,t.length-1);if(n===r)return;const o=t[n],s=r<n?-1:1;for(let a=n;a!==r;a+=s)t[a]=t[a+s];t[r]=o}(r,a,o),this.sorted.next({previousIndex:a,currentIndex:o,container:this,item:t}),r.forEach((e,i)=>{if(p[i]===e)return;const n=e.drag===t,r=n?u:d,o=n?t.getPlaceholderElement():e.drag.getRootElement();e.offset+=r,s?(o.style.transform=`translate3d(${Math.round(e.offset)}px, 0, 0)`,Ur(e.clientRect,0,r)):(o.style.transform=`translate3d(0, ${Math.round(e.offset)}px, 0)`,Ur(e.clientRect,r,0))}),this._previousSwap.overlaps=Gr(l,e,i),this._previousSwap.drag=h.drag,this._previousSwap.delta=s?n.x:n.y}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let i,n=0,r=0;if(this._parentPositions.positions.forEach((o,s)=>{s!==this._document&&o.clientRect&&!i&&jr(o.clientRect,.05,t,e)&&([n,r]=function(t,e,i,n){const r=po(e,n),o=fo(e,i);let s=0,a=0;if(r){const e=t.scrollTop;1===r?e>0&&(s=1):t.scrollHeight-e>t.clientHeight&&(s=2)}if(o){const e=t.scrollLeft;1===o?e>0&&(a=1):t.scrollWidth-e>t.clientWidth&&(a=2)}return[s,a]}(s,o.clientRect,t,e),(n||r)&&(i=s))}),!n&&!r){const{width:o,height:s}=this._viewportRuler.getViewportSize(),a={width:o,height:s,top:0,right:o,bottom:s,left:0};n=po(a,e),r=fo(a,t),i=window}!i||n===this._verticalScrollDirection&&r===this._horizontalScrollDirection&&i===this._scrollNode||(this._verticalScrollDirection=n,this._horizontalScrollDirection=r,this._scrollNode=i,(n||r)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const t=Gn(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const t=Gn(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}_cacheItemPositions(){const t="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(t=>{const e=t.getVisibleElement();return{drag:t,offset:0,clientRect:Yr(e)}}).sort((e,i)=>t?e.clientRect.left-i.clientRect.left:e.clientRect.top-i.clientRect.top)}_reset(){this._isDragging=!1;const t=Gn(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(t=>{const e=t.getRootElement();e&&(e.style.transform="")}),this._siblings.forEach(t=>t._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(t,e,i){const n="horizontal"===this._orientation,r=e[t].clientRect,o=e[t+-1*i];let s=r[n?"width":"height"]*i;if(o){const t=n?"left":"top",e=n?"right":"bottom";-1===i?s-=o.clientRect[t]-r[e]:s+=r[t]-o.clientRect[e]}return s}_getItemOffsetPx(t,e,i){const n="horizontal"===this._orientation;let r=n?e.left-t.left:e.top-t.top;return-1===i&&(r+=n?e.width-t.width:e.height-t.height),r}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;const i=this._itemPositions,n="horizontal"===this._orientation;if(i[0].drag!==this._activeDraggables[0]){const r=i[i.length-1].clientRect;return n?t>=r.right:e>=r.bottom}{const r=i[0].clientRect;return n?t<=r.left:e<=r.top}}_getItemIndexFromPointerPosition(t,e,i,n){const r="horizontal"===this._orientation,o=lo(this._itemPositions,({drag:o,clientRect:s},a,h)=>{if(o===t)return h.length<2;if(n){const t=r?n.x:n.y;if(o===this._previousSwap.drag&&this._previousSwap.overlaps&&t===this._previousSwap.delta)return!1}return r?e>=Math.floor(s.left)&&e<Math.floor(s.right):i>=Math.floor(s.top)&&i<Math.floor(s.bottom)});return-1!==o&&this.sortPredicate(o,t,this)?o:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(t,e){return null!=this._clientRect&&Gr(this._clientRect,t,e)}_getSiblingContainerFromPosition(t,e,i){return this._siblings.find(n=>n._canReceive(t,e,i))}_canReceive(t,e,i){if(!this._clientRect||!Gr(this._clientRect,e,i)||!this.enterPredicate(t,this))return!1;const n=this._getShadowRoot().elementFromPoint(e,i);if(!n)return!1;const r=Gn(this.element);return n===r||r.contains(n)}_startReceiving(t,e){const i=this._activeSiblings;!i.has(t)&&e.every(t=>this.enterPredicate(t,this)||this._draggables.indexOf(t)>-1)&&(i.add(t),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scroll.subscribe(t=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(t);e&&(this._itemPositions.forEach(({clientRect:t})=>{Ur(t,e.top,e.left)}),this._itemPositions.forEach(({drag:t})=>{this._dragDropRegistry.isDragging(t)&&t._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const t=Pr(Gn(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const t=this._activeDraggables.filter(t=>t.isDragging());this._siblings.forEach(e=>e._startReceiving(this,t))}}function lo(t,e){for(let i=0;i<t.length;i++)if(e(t[i],i,t))return i;return-1}function co(t,e){t===window?t.scrollBy(0,e):t.scrollTop+=e}function uo(t,e){t===window?t.scrollBy(e,0):t.scrollLeft+=e}function po(t,e){const{top:i,bottom:n,height:r}=t,o=.05*r;return e>=i-o&&e<=i+o?1:e>=n-o&&e<=n+o?2:0}function fo(t,e){const{left:i,right:n,width:r}=t,o=.05*r;return e>=i-o&&e<=i+o?1:e>=n-o&&e<=n+o?2:0}const go=kr({passive:!1,capture:!0});let _o=(()=>{class t{constructor(t,e){this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=t=>t.isDragging(),this.pointerMove=new Un.a,this.pointerUp=new Un.a,this.scroll=new Un.a,this._preventDefaultWhileDragging=t=>{this._activeDragInstances.length>0&&t.preventDefault()},this._persistentTouchmoveListener=t=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&t.preventDefault(),this.pointerMove.next(t))},this._document=e}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,go)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,go)}startDragging(t,e){if(!(this._activeDragInstances.indexOf(t)>-1)&&(this._activeDragInstances.push(t),1===this._activeDragInstances.length)){const t=e.type.startsWith("touch");this._globalListeners.set(t?"touchend":"mouseup",{handler:t=>this.pointerUp.next(t),options:!0}).set("scroll",{handler:t=>this.scroll.next(t),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:go}),t||this._globalListeners.set("mousemove",{handler:t=>this.pointerMove.next(t),options:go}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((t,e)=>{this._document.addEventListener(e,t.handler,t.options)})})}}stopDragging(t){const e=this._activeDragInstances.indexOf(t);e>-1&&(this._activeDragInstances.splice(e,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(t){return this._activeDragInstances.indexOf(t)>-1}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,e)=>{this._document.removeEventListener(e,t.handler,t.options)}),this._globalListeners.clear()}}return t.\u0275fac=function(e){return new(e||t)(In.Nb(In.z),In.Nb(r.c))},t.\u0275prov=Object(In.Eb)({factory:function(){return new t(Object(In.Nb)(In.z),Object(In.Nb)(r.c))},token:t,providedIn:"root"}),t})();const vo={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let mo=(()=>{class t{constructor(t,e,i,n){this._document=t,this._ngZone=e,this._viewportRuler=i,this._dragDropRegistry=n}createDrag(t,e=vo){return new to(t,e,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new ho(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return t.\u0275fac=function(e){return new(e||t)(In.Nb(r.c),In.Nb(In.z),In.Nb(Mr),In.Nb(_o))},t.\u0275prov=Object(In.Eb)({factory:function(){return new t(Object(In.Nb)(r.c),Object(In.Nb)(In.z),Object(In.Nb)(Mr),Object(In.Nb)(_o))},token:t,providedIn:"root"}),t})();const yo=new In.q("CDK_DRAG_PARENT"),wo=new In.q("CDK_DRAG_CONFIG"),bo=new In.q("CdkDropList"),xo=new In.q("CdkDragHandle"),To=new In.q("CdkDragPlaceholder"),So=new In.q("CdkDragPreview");let Do=(()=>{class t{constructor(e,i,n,r,o,s,a,h,l,c,u){this.element=e,this.dropContainer=i,this._ngZone=r,this._viewContainerRef=o,this._dir=a,this._changeDetectorRef=l,this._selfHandle=c,this._parentDrag=u,this._destroyed=new Un.a,this.started=new In.n,this.released=new In.n,this.ended=new In.n,this.entered=new In.n,this.exited=new In.n,this.dropped=new In.n,this.moved=new qn.a(t=>{const e=this._dragRef.moved.pipe(Object(Kn.a)(t=>({source:this,pointerPosition:t.pointerPosition,event:t.event,delta:t.delta,distance:t.distance}))).subscribe(t);return()=>{e.unsubscribe()}}),this._dragRef=h.createDrag(e,{dragStartThreshold:s&&null!=s.dragStartThreshold?s.dragStartThreshold:5,pointerDirectionChangeThreshold:s&&null!=s.pointerDirectionChangeThreshold?s.pointerDirectionChangeThreshold:5,zIndex:null==s?void 0:s.zIndex}),this._dragRef.data=this,t._dragInstances.push(this),s&&this._assignDefaults(s),i&&(this._dragRef._withDropContainer(i._dropListRef),i.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(t){this._disabled=Yn(t),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.onStable.pipe(Object(Lr.a)(1),gr(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._handles.changes.pipe(Object(mr.a)(this._handles),Object(zr.a)(t=>{const e=t.filter(t=>t._parentDrag===this).map(t=>t.element);this._selfHandle&&this.rootElementSelector&&e.push(this.element),this._dragRef.withHandles(e)}),Object(xr.a)(t=>Object(Ir.a)(...t.map(t=>t._stateChanges.pipe(Object(mr.a)(t))))),gr(this._destroyed)).subscribe(t=>{const e=this._dragRef,i=t.element.nativeElement;t.disabled?e.disableHandle(i):e.enableHandle(i)}),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})}ngOnChanges(t){const e=t.rootElementSelector,i=t.freeDragPosition;e&&!e.firstChange&&this._updateRootElement(),i&&!i.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const e=t._dragInstances.indexOf(this);e>-1&&t._dragInstances.splice(e,1),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()}_updateRootElement(){const t=this.element.nativeElement,e=this.rootElementSelector?Co(t,this.rootElementSelector):t;this._dragRef.withRootElement(e||t)}_getBoundaryElement(){const t=this.boundaryElement;return t?"string"==typeof t?Co(this.element.nativeElement,t):Gn(t):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){const t=this._dir,i=this.dragStartDelay,n=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,r=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.dragStartDelay="object"==typeof i&&i?i:function(t,e=0){return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}(i),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(n).withPreviewTemplate(r),t&&e.withDirection(t.value)}}),e.beforeStarted.pipe(Object(Lr.a)(1)).subscribe(()=>{var i,n;if(this._parentDrag)return void e.withParent(this._parentDrag._dragRef);let r=this.element.nativeElement.parentElement;for(;r;){if(null===(i=r.classList)||void 0===i?void 0:i.contains("cdk-drag")){e.withParent((null===(n=t._dragInstances.find(t=>t.element.nativeElement===r))||void 0===n?void 0:n._dragRef)||null);break}r=r.parentElement}})}_handleEvents(t){t.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(()=>{this.released.emit({source:this})}),t.ended.subscribe(t=>{this.ended.emit({source:this,distance:t.distance}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(t=>{this.entered.emit({container:t.container.data,item:this,currentIndex:t.currentIndex})}),t.exited.subscribe(t=>{this.exited.emit({container:t.container.data,item:this})}),t.dropped.subscribe(t=>{this.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,isPointerOverContainer:t.isPointerOverContainer,item:this,distance:t.distance})})}_assignDefaults(t){const{lockAxis:e,dragStartDelay:i,constrainPosition:n,previewClass:r,boundaryElement:o,draggingDisabled:s,rootElementSelector:a}=t;this.disabled=null!=s&&s,this.dragStartDelay=i||0,e&&(this.lockAxis=e),n&&(this.constrainPosition=n),r&&(this.previewClass=r),o&&(this.boundaryElement=o),a&&(this.rootElementSelector=a)}}return t.\u0275fac=function(e){return new(e||t)(In.Ib(In.l),In.Ib(bo,12),In.Ib(r.c),In.Ib(In.z),In.Ib(In.O),In.Ib(wo,8),In.Ib(Rr,8),In.Ib(mo),In.Ib(In.h),In.Ib(xo,10),In.Ib(yo,12))},t.\u0275dir=In.Db({type:t,selectors:[["","cdkDrag",""]],contentQueries:function(t,e,i){var n;1&t&&(In.Bb(i,So,!0),In.Bb(i,To,!0),In.Bb(i,xo,!0)),2&t&&(In.Wb(n=In.Rb())&&(e._previewTemplate=n.first),In.Wb(n=In.Rb())&&(e._placeholderTemplate=n.first),In.Wb(n=In.Rb())&&(e._handles=n))},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(t,e){2&t&&In.Ab("cdk-drag-disabled",e.disabled)("cdk-drag-dragging",e._dragRef.isDragging())},inputs:{disabled:["cdkDragDisabled","disabled"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],lockAxis:["cdkDragLockAxis","lockAxis"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],boundaryElement:["cdkDragBoundary","boundaryElement"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],data:["cdkDragData","data"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[In.xb([{provide:yo,useExisting:t}]),In.wb]}),t._dragInstances=[],t})();function Co(t,e){let i=t.parentElement;for(;i;){if(i.matches?i.matches(e):i.msMatchesSelector(e))return i;i=i.parentElement}return null}let ko=(()=>{class t{}return t.\u0275mod=In.Gb({type:t}),t.\u0275inj=In.Fb({factory:function(e){return new(e||t)},providers:[mo],imports:[Ar]}),t})(),Po=(()=>{class t{}return t.\u0275mod=In.Gb({type:t}),t.\u0275inj=In.Fb({factory:function(e){return new(e||t)},imports:[[r.b,ko]]}),t})(),Eo=(()=>{class t{}return t.\u0275mod=In.Gb({type:t}),t.\u0275inj=In.Fb({factory:function(e){return new(e||t)},providers:[Wn],imports:[[r.b,Po]]}),t})();const Ro=(new Date).getFullYear(),Mo=[{id:"1",startDate:new Date(Ro,0,20),endDate:new Date(Ro,0,20),type:n.TASK_TYPE.Normal},{id:"2",startDate:new Date(Ro,0,21),endDate:new Date(Ro,0,26),type:n.TASK_TYPE.Abstract},{id:"3",startDate:new Date(Ro,0,21),endDate:new Date(Ro,0,21),type:n.TASK_TYPE.Normal},{id:"4",startDate:new Date(Ro,0,22),endDate:new Date(Ro,0,22),type:n.TASK_TYPE.Milestone},{id:"5",startDate:new Date(Ro,0,22),endDate:new Date(Ro,0,26),type:n.TASK_TYPE.Abstract},{id:"6",startDate:new Date(Ro,0,22),endDate:new Date(Ro,0,22),type:n.TASK_TYPE.Normal},{id:"7",startDate:new Date(Ro,0,25),endDate:new Date(Ro,0,25),type:n.TASK_TYPE.Normal},{id:"8",startDate:new Date(Ro,0,26),endDate:new Date(Ro,0,26),type:n.TASK_TYPE.Normal},{id:"9",startDate:new Date(Ro,0,27),endDate:new Date(Ro,1,2),type:n.TASK_TYPE.Abstract},{id:"10",startDate:new Date(Ro,0,27),endDate:new Date(Ro,0,27),type:n.TASK_TYPE.Normal},{id:"11",startDate:new Date(Ro,0,28),endDate:new Date(Ro,0,28),type:n.TASK_TYPE.Normal},{id:"12",startDate:new Date(Ro,0,29),endDate:new Date(Ro,0,29),type:n.TASK_TYPE.Normal},{id:"13",startDate:new Date(Ro,1,1),endDate:new Date(Ro,1,1),type:n.TASK_TYPE.Normal},{id:"14",startDate:new Date(Ro,1,2),endDate:new Date(Ro,1,2),type:n.TASK_TYPE.Normal},{id:"15",startDate:new Date(Ro,1,3),endDate:new Date(Ro,1,9),type:n.TASK_TYPE.Abstract},{id:"16",startDate:new Date(Ro,1,3),endDate:new Date(Ro,1,3),type:n.TASK_TYPE.Normal},{id:"17",startDate:new Date(Ro,1,4),endDate:new Date(Ro,1,4),type:n.TASK_TYPE.Normal},{id:"18",startDate:new Date(Ro,1,5),endDate:new Date(Ro,1,9),type:n.TASK_TYPE.Abstract},{id:"19",startDate:new Date(Ro,1,5),endDate:new Date(Ro,1,5),type:n.TASK_TYPE.Normal},{id:"20",startDate:new Date(Ro,1,8),endDate:new Date(Ro,1,8),type:n.TASK_TYPE.Normal},{id:"21",startDate:new Date(Ro,1,9),endDate:new Date(Ro,1,9),type:n.TASK_TYPE.Normal},{id:"22",startDate:new Date(Ro,1,10),endDate:new Date(Ro,1,16),type:n.TASK_TYPE.Abstract},{id:"23",startDate:new Date(Ro,1,10),endDate:new Date(Ro,1,11),type:n.TASK_TYPE.Abstract},{id:"24",startDate:new Date(Ro,1,10),endDate:new Date(Ro,1,10),type:n.TASK_TYPE.Normal},{id:"25",startDate:new Date(Ro,1,11),endDate:new Date(Ro,1,11),type:n.TASK_TYPE.Normal},{id:"26",startDate:new Date(Ro,1,12),endDate:new Date(Ro,1,16),type:n.TASK_TYPE.Abstract},{id:"27",startDate:new Date(Ro,1,12),endDate:new Date(Ro,1,15),type:n.TASK_TYPE.Abstract},{id:"28",startDate:new Date(Ro,1,12),endDate:new Date(Ro,1,12),type:n.TASK_TYPE.Normal},{id:"29",startDate:new Date(Ro,1,15),endDate:new Date(Ro,1,15),type:n.TASK_TYPE.Normal},{id:"30",startDate:new Date(Ro,1,16),endDate:new Date(Ro,1,16),type:n.TASK_TYPE.Normal},{id:"31",startDate:new Date(Ro,1,17),endDate:new Date(Ro,1,25),type:n.TASK_TYPE.Abstract},{id:"32",startDate:new Date(Ro,1,17),endDate:new Date(Ro,1,17),type:n.TASK_TYPE.Normal},{id:"32",startDate:new Date(Ro,1,18),endDate:new Date(Ro,1,18),type:n.TASK_TYPE.Normal},{id:"32",startDate:new Date(Ro,1,19),endDate:new Date(Ro,1,19),type:n.TASK_TYPE.Normal},{id:"32",startDate:new Date(Ro,1,22),endDate:new Date(Ro,1,22),type:n.TASK_TYPE.Normal},{id:"32",startDate:new Date(Ro,1,23),endDate:new Date(Ro,1,23),type:n.TASK_TYPE.Normal},{id:"32",startDate:new Date(Ro,1,24),endDate:new Date(Ro,1,24),type:n.TASK_TYPE.Normal},{id:"32",startDate:new Date(Ro,1,25),endDate:new Date(Ro,1,25),type:n.TASK_TYPE.Normal}];function Ao(t,e=sr){return i=>i.lift(new Oo(t,e))}class Oo{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new Io(t,this.dueTime,this.scheduler))}}class Io extends or.a{constructor(t,e,i){super(t),this.dueTime=e,this.scheduler=i,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Lo,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function Lo(t){t.debouncedNext()}function zo(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function No(t){zo(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||"object"==typeof t&&"[object Date]"===e?new Date(t.getTime()):"number"==typeof t||"[object Number]"===e?new Date(t):("string"!=typeof t&&"[object String]"!==e||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}function Ho(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function Fo(t){zo(1,arguments);var e=No(t);return e.setHours(0,0,0,0),e}function Bo(t,e){zo(2,arguments);var i=Fo(t),n=Fo(e),r=i.getTime()-Ho(i),o=n.getTime()-Ho(n);return Math.round((r-o)/864e5)}function Wo(t,e){var i=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return i<0?-1:i>0?1:i}function Yo(t,e){zo(2,arguments);var i=No(t),n=No(e),r=Wo(i,n),o=Math.abs(Bo(i,n));i.setDate(i.getDate()-r*o);var s=Wo(i,n)===-r,a=r*(o-s);return 0===a?0:a}function Go(t,e){zo(2,arguments);var i=Fo(t),n=Fo(e);return i.getTime()===n.getTime()}function Uo(t){if(null===t||!0===t||!1===t)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function jo(t,e){zo(2,arguments);var i=No(t),n=Uo(e);return isNaN(n)?new Date(NaN):n?(i.setDate(i.getDate()+n),i):i}function qo(t){zo(1,arguments);var e=No(t),i=e.getDate();return i}function Xo(t){zo(1,arguments);var e=No(t),i=e.getDay();return i}function Vo(t){zo(1,arguments);var e=No(t);return!isNaN(e)}var Ko={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function Zo(t){return function(e){var i=e||{},n=i.width?String(i.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}var Qo={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function $o(t){return function(e,i){var n,r=i||{};if("formatting"===(r.context?String(r.context):"standalone")&&t.formattingValues){var o=t.defaultFormattingWidth||t.defaultWidth,s=r.width?String(r.width):o;n=t.formattingValues[s]||t.formattingValues[o]}else{var a=t.defaultWidth,h=r.width?String(r.width):t.defaultWidth;n=t.values[h]||t.values[a]}return n[t.argumentCallback?t.argumentCallback(e):e]}}function Jo(t){return function(e,i){var n=String(e),r=i||{},o=n.match(t.matchPattern);if(!o)return null;var s=o[0],a=n.match(t.parsePattern);if(!a)return null;var h=t.valueCallback?t.valueCallback(a[0]):a[0];return{value:h=r.valueCallback?r.valueCallback(h):h,rest:n.slice(s.length)}}}function ts(t){return function(e,i){var n=String(e),r=i||{},o=r.width,s=n.match(o&&t.matchPatterns[o]||t.matchPatterns[t.defaultMatchWidth]);if(!s)return null;var a,h=s[0],l=o&&t.parsePatterns[o]||t.parsePatterns[t.defaultParseWidth];return a="[object Array]"===Object.prototype.toString.call(l)?function(t,e){for(var i=0;i<t.length;i++)if(t[i].test(h))return i}(l):function(t,e){for(var i in t)if(t.hasOwnProperty(i)&&t[i].test(h))return i}(l),a=t.valueCallback?t.valueCallback(a):a,{value:a=r.valueCallback?r.valueCallback(a):a,rest:n.slice(h.length)}}}var es={code:"en-US",formatDistance:function(t,e,i){var n;return i=i||{},n="string"==typeof Ko[t]?Ko[t]:1===e?Ko[t].one:Ko[t].other.replace("{{count}}",e),i.addSuffix?i.comparison>0?"in "+n:n+" ago":n},formatLong:{date:Zo({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:Zo({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:Zo({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},formatRelative:function(t,e,i,n){return Qo[t]},localize:{ordinalNumber:function(t,e){var i=Number(t),n=i%100;if(n>20||n<10)switch(n%10){case 1:return i+"st";case 2:return i+"nd";case 3:return i+"rd"}return i+"th"},era:$o({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:$o({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(t){return Number(t)-1}}),month:$o({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:$o({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:$o({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:Jo({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(t){return parseInt(t,10)}}),era:ts({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:ts({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:ts({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:ts({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:ts({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};function is(t,e){zo(2,arguments);var i=No(t).getTime(),n=Uo(e);return new Date(i+n)}function ns(t,e){zo(2,arguments);var i=Uo(e);return is(t,-i)}function rs(t,e){for(var i=t<0?"-":"",n=Math.abs(t).toString();n.length<e;)n="0"+n;return i+n}function os(t){zo(1,arguments);var e=1,i=No(t),n=i.getUTCDay(),r=(n<e?7:0)+n-e;return i.setUTCDate(i.getUTCDate()-r),i.setUTCHours(0,0,0,0),i}function ss(t){zo(1,arguments);var e=No(t),i=e.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(i+1,0,4),n.setUTCHours(0,0,0,0);var r=os(n),o=new Date(0);o.setUTCFullYear(i,0,4),o.setUTCHours(0,0,0,0);var s=os(o);return e.getTime()>=r.getTime()?i+1:e.getTime()>=s.getTime()?i:i-1}function as(t){zo(1,arguments);var e=ss(t),i=new Date(0);i.setUTCFullYear(e,0,4),i.setUTCHours(0,0,0,0);var n=os(i);return n}function hs(t,e){zo(1,arguments);var i=e||{},n=i.locale,r=n&&n.options&&n.options.weekStartsOn,o=null==r?0:Uo(r),s=null==i.weekStartsOn?o:Uo(i.weekStartsOn);if(!(s>=0&&s<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var a=No(t),h=a.getUTCDay(),l=(h<s?7:0)+h-s;return a.setUTCDate(a.getUTCDate()-l),a.setUTCHours(0,0,0,0),a}function ls(t,e){zo(1,arguments);var i=No(t,e),n=i.getUTCFullYear(),r=e||{},o=r.locale,s=o&&o.options&&o.options.firstWeekContainsDate,a=null==s?1:Uo(s),h=null==r.firstWeekContainsDate?a:Uo(r.firstWeekContainsDate);if(!(h>=1&&h<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var l=new Date(0);l.setUTCFullYear(n+1,0,h),l.setUTCHours(0,0,0,0);var c=hs(l,e),u=new Date(0);u.setUTCFullYear(n,0,h),u.setUTCHours(0,0,0,0);var d=hs(u,e);return i.getTime()>=c.getTime()?n+1:i.getTime()>=d.getTime()?n:n-1}function cs(t,e){zo(1,arguments);var i=e||{},n=i.locale,r=n&&n.options&&n.options.firstWeekContainsDate,o=null==r?1:Uo(r),s=null==i.firstWeekContainsDate?o:Uo(i.firstWeekContainsDate),a=ls(t,e),h=new Date(0);h.setUTCFullYear(a,0,s),h.setUTCHours(0,0,0,0);var l=hs(h,e);return l}function us(t,e){var i=t>0?"-":"+",n=Math.abs(t),r=Math.floor(n/60),o=n%60;if(0===o)return i+String(r);var s=e||"";return i+String(r)+s+rs(o,2)}function ds(t,e){return t%60==0?(t>0?"-":"+")+rs(Math.abs(t)/60,2):ps(t,e)}function ps(t,e){var i=e||"",n=t>0?"-":"+",r=Math.abs(t);return n+rs(Math.floor(r/60),2)+i+rs(r%60,2)}var fs={G:function(t,e,i){var n=t.getUTCFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return i.era(n,{width:"abbreviated"});case"GGGGG":return i.era(n,{width:"narrow"});case"GGGG":default:return i.era(n,{width:"wide"})}},y:function(t,e,i){if("yo"===e){var n=t.getUTCFullYear();return i.ordinalNumber(n>0?n:1-n,{unit:"year"})}return function(t,e){var i=t.getUTCFullYear(),n=i>0?i:1-i;return rs("yy"===e?n%100:n,e.length)}(t,e)},Y:function(t,e,i,n){var r=ls(t,n),o=r>0?r:1-r;return"YY"===e?rs(o%100,2):"Yo"===e?i.ordinalNumber(o,{unit:"year"}):rs(o,e.length)},R:function(t,e){return rs(ss(t),e.length)},u:function(t,e){return rs(t.getUTCFullYear(),e.length)},Q:function(t,e,i){var n=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return rs(n,2);case"Qo":return i.ordinalNumber(n,{unit:"quarter"});case"QQQ":return i.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,i){var n=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return rs(n,2);case"qo":return i.ordinalNumber(n,{unit:"quarter"});case"qqq":return i.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return i.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,i){var n=t.getUTCMonth();switch(e){case"M":case"MM":return function(t,e){var i=t.getUTCMonth();return"M"===e?String(i+1):rs(i+1,2)}(t,e);case"Mo":return i.ordinalNumber(n+1,{unit:"month"});case"MMM":return i.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return i.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,i){var n=t.getUTCMonth();switch(e){case"L":return String(n+1);case"LL":return rs(n+1,2);case"Lo":return i.ordinalNumber(n+1,{unit:"month"});case"LLL":return i.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return i.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,i,n){var r=function(t,e){zo(1,arguments);var i=No(t),n=hs(i,e).getTime()-cs(i,e).getTime();return Math.round(n/6048e5)+1}(t,n);return"wo"===e?i.ordinalNumber(r,{unit:"week"}):rs(r,e.length)},I:function(t,e,i){var n=function(t){zo(1,arguments);var e=No(t),i=os(e).getTime()-as(e).getTime();return Math.round(i/6048e5)+1}(t);return"Io"===e?i.ordinalNumber(n,{unit:"week"}):rs(n,e.length)},d:function(t,e,i){return"do"===e?i.ordinalNumber(t.getUTCDate(),{unit:"date"}):function(t,e){return rs(t.getUTCDate(),e.length)}(t,e)},D:function(t,e,i){var n=function(t){zo(1,arguments);var e=No(t),i=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var n=e.getTime(),r=i-n;return Math.floor(r/864e5)+1}(t);return"Do"===e?i.ordinalNumber(n,{unit:"dayOfYear"}):rs(n,e.length)},E:function(t,e,i){var n=t.getUTCDay();switch(e){case"E":case"EE":case"EEE":return i.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return i.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(n,{width:"short",context:"formatting"});case"EEEE":default:return i.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,i,n){var r=t.getUTCDay(),o=(r-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return rs(o,2);case"eo":return i.ordinalNumber(o,{unit:"day"});case"eee":return i.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return i.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(r,{width:"short",context:"formatting"});case"eeee":default:return i.day(r,{width:"wide",context:"formatting"})}},c:function(t,e,i,n){var r=t.getUTCDay(),o=(r-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return rs(o,e.length);case"co":return i.ordinalNumber(o,{unit:"day"});case"ccc":return i.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return i.day(r,{width:"narrow",context:"standalone"});case"cccccc":return i.day(r,{width:"short",context:"standalone"});case"cccc":default:return i.day(r,{width:"wide",context:"standalone"})}},i:function(t,e,i){var n=t.getUTCDay(),r=0===n?7:n;switch(e){case"i":return String(r);case"ii":return rs(r,e.length);case"io":return i.ordinalNumber(r,{unit:"day"});case"iii":return i.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return i.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return i.day(n,{width:"short",context:"formatting"});case"iiii":default:return i.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,i){var n=t.getUTCHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(t,e,i){var n,r=t.getUTCHours();switch(n=12===r?"noon":0===r?"midnight":r/12>=1?"pm":"am",e){case"b":case"bb":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(t,e,i){var n,r=t.getUTCHours();switch(n=r>=17?"evening":r>=12?"afternoon":r>=4?"morning":"night",e){case"B":case"BB":case"BBB":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(t,e,i){if("ho"===e){var n=t.getUTCHours()%12;return 0===n&&(n=12),i.ordinalNumber(n,{unit:"hour"})}return function(t,e){return rs(t.getUTCHours()%12||12,e.length)}(t,e)},H:function(t,e,i){return"Ho"===e?i.ordinalNumber(t.getUTCHours(),{unit:"hour"}):function(t,e){return rs(t.getUTCHours(),e.length)}(t,e)},K:function(t,e,i){var n=t.getUTCHours()%12;return"Ko"===e?i.ordinalNumber(n,{unit:"hour"}):rs(n,e.length)},k:function(t,e,i){var n=t.getUTCHours();return 0===n&&(n=24),"ko"===e?i.ordinalNumber(n,{unit:"hour"}):rs(n,e.length)},m:function(t,e,i){return"mo"===e?i.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):function(t,e){return rs(t.getUTCMinutes(),e.length)}(t,e)},s:function(t,e,i){return"so"===e?i.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):function(t,e){return rs(t.getUTCSeconds(),e.length)}(t,e)},S:function(t,e){return function(t,e){var i=e.length,n=t.getUTCMilliseconds();return rs(Math.floor(n*Math.pow(10,i-3)),e.length)}(t,e)},X:function(t,e,i,n){var r=(n._originalDate||t).getTimezoneOffset();if(0===r)return"Z";switch(e){case"X":return ds(r);case"XXXX":case"XX":return ps(r);case"XXXXX":case"XXX":default:return ps(r,":")}},x:function(t,e,i,n){var r=(n._originalDate||t).getTimezoneOffset();switch(e){case"x":return ds(r);case"xxxx":case"xx":return ps(r);case"xxxxx":case"xxx":default:return ps(r,":")}},O:function(t,e,i,n){var r=(n._originalDate||t).getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+us(r,":");case"OOOO":default:return"GMT"+ps(r,":")}},z:function(t,e,i,n){var r=(n._originalDate||t).getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+us(r,":");case"zzzz":default:return"GMT"+ps(r,":")}},t:function(t,e,i,n){return rs(Math.floor((n._originalDate||t).getTime()/1e3),e.length)},T:function(t,e,i,n){return rs((n._originalDate||t).getTime(),e.length)}};function gs(t,e){switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}}function _s(t,e){switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}}var vs={p:_s,P:function(t,e){var i,n=t.match(/(P+)(p+)?/),r=n[1],o=n[2];if(!o)return gs(t,e);switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"})}return i.replace("{{date}}",gs(r,e)).replace("{{time}}",_s(o,e))}},ms=["D","DD"],ys=["YY","YYYY"];function ws(t){return-1!==ms.indexOf(t)}function bs(t){return-1!==ys.indexOf(t)}function xs(t,e,i){if("YYYY"===t)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(i,"`; see: https://git.io/fxCyr"));if("YY"===t)throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(i,"`; see: https://git.io/fxCyr"));if("D"===t)throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(i,"`; see: https://git.io/fxCyr"));if("DD"===t)throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(i,"`; see: https://git.io/fxCyr"))}var Ts=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ss=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ds=/^'([^]*?)'?$/,Cs=/''/g,ks=/[a-zA-Z]/;function Ps(t){return t.match(Ds)[1].replace(Cs,"'")}var Es=function(t,e){this.target=t,this.topTarget=e&&e.topTarget},Rs=function(){function t(t){this.handler=t,t.on("mousedown",this._dragStart,this),t.on("mousemove",this._drag,this),t.on("mouseup",this._dragEnd,this)}return t.prototype._dragStart=function(t){for(var e=t.target;e&&!e.draggable;)e=e.parent;e&&(this._draggingTarget=e,e.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.handler.dispatchToElement(new Es(e,t),"dragstart",t.event))},t.prototype._drag=function(t){var e=this._draggingTarget;if(e){var i=t.offsetX,n=t.offsetY,r=i-this._x,o=n-this._y;this._x=i,this._y=n,e.drift(r,o,t),this.handler.dispatchToElement(new Es(e,t),"drag",t.event);var s=this.handler.findHover(i,n,e).target,a=this._dropTarget;this._dropTarget=s,e!==s&&(a&&s!==a&&this.handler.dispatchToElement(new Es(a,t),"dragleave",t.event),s&&s!==a&&this.handler.dispatchToElement(new Es(s,t),"dragenter",t.event))}},t.prototype._dragEnd=function(t){var e=this._draggingTarget;e&&(e.dragging=!1),this.handler.dispatchToElement(new Es(e,t),"dragend",t.event),this._dropTarget&&this.handler.dispatchToElement(new Es(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null},t}(),Ms=Math.log(2);function As(t,e,i,n,r,o){var s=n+"-"+r,a=t.length;if(o.hasOwnProperty(s))return o[s];if(1===e){var h=Math.round(Math.log((1<<a)-1&~r)/Ms);return t[i][h]}for(var l=n|1<<i,c=i+1;n&1<<c;)c++;for(var u=0,d=0,p=0;d<a;d++){var f=1<<d;f&r||(u+=(p%2?-1:1)*t[i][d]*As(t,e-1,c,l,r|f,o),p++)}return o[s]=u,u}function Os(t,e){var i=[[t[0],t[1],1,0,0,0,-e[0]*t[0],-e[0]*t[1]],[0,0,0,t[0],t[1],1,-e[1]*t[0],-e[1]*t[1]],[t[2],t[3],1,0,0,0,-e[2]*t[2],-e[2]*t[3]],[0,0,0,t[2],t[3],1,-e[3]*t[2],-e[3]*t[3]],[t[4],t[5],1,0,0,0,-e[4]*t[4],-e[4]*t[5]],[0,0,0,t[4],t[5],1,-e[5]*t[4],-e[5]*t[5]],[t[6],t[7],1,0,0,0,-e[6]*t[6],-e[6]*t[7]],[0,0,0,t[6],t[7],1,-e[7]*t[6],-e[7]*t[7]]],n={},r=As(i,8,0,0,0,n);if(0!==r){for(var o=[],s=0;s<8;s++)for(var a=0;a<8;a++)null==o[a]&&(o[a]=0),o[a]+=((s+a)%2?-1:1)*As(i,7,0===s?1:0,1<<s,1<<a,n)/r*e[s];return function(t,e,i){var n=e*o[6]+i*o[7]+1;t[0]=(e*o[0]+i*o[1]+o[2])/n,t[1]=(e*o[3]+i*o[4]+o[5])/n}}}function Is(t){return"CANVAS"===t.nodeName.toUpperCase()}var Ls="undefined"!=typeof window&&!!window.addEventListener,zs=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ns=[];function Hs(t,e,i,n){return i=i||{},n||!we.canvasSupported?Fs(t,e,i):we.browser.firefox&&null!=e.layerX&&e.layerX!==e.offsetX?(i.zrX=e.layerX,i.zrY=e.layerY):null!=e.offsetX?(i.zrX=e.offsetX,i.zrY=e.offsetY):Fs(t,e,i),i}function Fs(t,e,i){if(we.domSupported&&t.getBoundingClientRect){var n=e.clientX,r=e.clientY;if(Is(t)){var o=t.getBoundingClientRect();return i.zrX=n-o.left,void(i.zrY=r-o.top)}if(function(t,e,i,n,r){if(e.getBoundingClientRect&&we.domSupported&&!Is(e)){var o=e.___zrEVENTSAVED||(e.___zrEVENTSAVED={}),s=function(t,e,i){for(var n=e.trans,r=e.srcCoords,o=[],s=[],a=!0,h=0;h<4;h++){var l=t[h].getBoundingClientRect(),c=2*h,u=l.left,d=l.top;o.push(u,d),a=a&&r&&u===r[c]&&d===r[c+1],s.push(t[h].offsetLeft,t[h].offsetTop)}return a&&n?n:(e.srcCoords=o,e.trans=Os(o,s))}(function(t,e){var i=e.markers;if(i)return i;i=e.markers=[];for(var n=["left","right"],r=["top","bottom"],o=0;o<4;o++){var s=document.createElement("div"),a=o%2,h=(o>>1)%2;s.style.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",n[a]+":0",r[h]+":0",n[1-a]+":auto",r[1-h]+":auto",""].join("!important;"),t.appendChild(s),i.push(s)}return i}(e,o),o);if(s)return s(t,i,n),!0}return!1}(Ns,t,n,r))return i.zrX=Ns[0],void(i.zrY=Ns[1])}i.zrX=i.zrY=0}function Bs(t){return t||window.event}function Ws(t,e,i){if(null!=(e=Bs(e)).zrX)return e;var n=e.type;if(n&&n.indexOf("touch")>=0){var r="touchend"!==n?e.targetTouches[0]:e.changedTouches[0];r&&Hs(t,r,e,i)}else{Hs(t,e,e,i);var o=function(t){var e=t.wheelDelta;if(e)return e;var i=t.deltaX,n=t.deltaY;return null==i||null==n?e:3*(0!==n?Math.abs(n):Math.abs(i))*(n>0?-1:n<0?1:i>0?-1:1)}(e);e.zrDelta=o?o/120:-(e.detail||0)/3}var s=e.button;return null==e.which&&void 0!==s&&zs.test(e.type)&&(e.which=1&s?1:2&s?3:4&s?2:0),e}var Ys=Ls?function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0}:function(t){t.returnValue=!1,t.cancelBubble=!0},Gs=function(){function t(){this._track=[]}return t.prototype.recognize=function(t,e,i){return this._doTrack(t,e,i),this._recognize(t)},t.prototype.clear=function(){return this._track.length=0,this},t.prototype._doTrack=function(t,e,i){var n=t.touches;if(n){for(var r={points:[],touches:[],target:e,event:t},o=0,s=n.length;o<s;o++){var a=n[o],h=Hs(i,a,{});r.points.push([h.zrX,h.zrY]),r.touches.push(a)}this._track.push(r)}},t.prototype._recognize=function(t){for(var e in js)if(js.hasOwnProperty(e)){var i=js[e](this._track,t);if(i)return i}},t}();function Us(t){var e=t[1][0]-t[0][0],i=t[1][1]-t[0][1];return Math.sqrt(e*e+i*i)}var js={pinch:function(t,e){var i=t.length;if(i){var n,r=(t[i-1]||{}).points,o=(t[i-2]||{}).points||r;if(o&&o.length>1&&r&&r.length>1){var s=Us(r)/Us(o);!isFinite(s)&&(s=1),e.pinchScale=s;var a=[((n=r)[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2];return e.pinchX=a[0],e.pinchY=a[1],{type:"pinch",target:t[0].target,event:e}}}}};function qs(){Ys(this.event)}var Xs=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.handler=null,e}return s(e,t),e.prototype.dispose=function(){},e.prototype.setCursor=function(){},e}(ge),Vs=function(t,e){this.x=t,this.y=e},Ks=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],Zs=function(t){function e(e,i,n,r){var o=t.call(this)||this;return o._hovered=new Vs(0,0),o.storage=e,o.painter=i,o.painterRoot=r,n=n||new Xs,o.proxy=null,o.setHandlerProxy(n),o._draggingMgr=new Rs(o),o}return s(e,t),e.prototype.setHandlerProxy=function(t){this.proxy&&this.proxy.dispose(),t&&(M(Ks,(function(e){t.on&&t.on(e,this[e],this)}),this),t.handler=this),this.proxy=t},e.prototype.mousemove=function(t){var e=t.zrX,i=t.zrY,n=$s(this,e,i),r=this._hovered,o=r.target;o&&!o.__zr&&(o=(r=this.findHover(r.x,r.y)).target);var s=this._hovered=n?new Vs(e,i):this.findHover(e,i),a=s.target,h=this.proxy;h.setCursor&&h.setCursor(a?a.cursor:"default"),o&&a!==o&&this.dispatchToElement(r,"mouseout",t),this.dispatchToElement(s,"mousemove",t),a&&a!==o&&this.dispatchToElement(s,"mouseover",t)},e.prototype.mouseout=function(t){var e=t.zrEventControl;"only_globalout"!==e&&this.dispatchToElement(this._hovered,"mouseout",t),"no_globalout"!==e&&this.trigger("globalout",{type:"globalout",event:t})},e.prototype.resize=function(){this._hovered=new Vs(0,0)},e.prototype.dispatch=function(t,e){var i=this[t];i&&i.call(this,e)},e.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},e.prototype.setCursorStyle=function(t){var e=this.proxy;e.setCursor&&e.setCursor(t)},e.prototype.dispatchToElement=function(t,e,i){var n=(t=t||{}).target;if(!n||!n.silent){for(var r="on"+e,o=function(t,e,i){return{type:t,event:i,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:i.zrX,offsetY:i.zrY,gestureEvent:i.gestureEvent,pinchX:i.pinchX,pinchY:i.pinchY,pinchScale:i.pinchScale,wheelDelta:i.zrDelta,zrByTouch:i.zrByTouch,which:i.which,stop:qs}}(e,t,i);n&&(n[r]&&(o.cancelBubble=!!n[r].call(n,o)),n.trigger(e,o),n=n.__hostTarget?n.__hostTarget:n.parent,!o.cancelBubble););o.cancelBubble||(this.trigger(e,o),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer((function(t){"function"==typeof t[r]&&t[r].call(t,o),t.trigger&&t.trigger(e,o)})))}},e.prototype.findHover=function(t,e,i){for(var n=this.storage.getDisplayList(),r=new Vs(t,e),o=n.length-1;o>=0;o--){var s=void 0;if(n[o]!==i&&!n[o].ignore&&(s=Qs(n[o],t,e))&&(!r.topTarget&&(r.topTarget=n[o]),"silent"!==s)){r.target=n[o];break}}return r},e.prototype.processGesture=function(t,e){this._gestureMgr||(this._gestureMgr=new Gs);var i=this._gestureMgr;"start"===e&&i.clear();var n=i.recognize(t,this.findHover(t.zrX,t.zrY,null).target,this.proxy.dom);if("end"===e&&i.clear(),n){var r=n.type;t.gestureEvent=r;var o=new Vs;o.target=n.target,this.dispatchToElement(o,r,n.event)}},e}(ge);function Qs(t,e,i){if(t[t.rectHover?"rectContain":"contain"](e,i)){for(var n=t,r=void 0,o=!1;n;){if(n.ignoreClip&&(o=!0),!o){var s=n.getClipPath();if(s&&!s.contain(e,i))return!1;n.silent&&(r=!0)}n=n.__hostTarget||n.parent}return!r||"silent"}return!1}function $s(t,e,i){var n=t.painter;return e<0||e>n.getWidth()||i<0||i>n.getHeight()}M(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],(function(t){Zs.prototype[t]=function(e){var i,n,r=e.zrX,o=e.zrY,s=$s(this,r,o);if("mouseup"===t&&s||(n=(i=this.findHover(r,o)).target),"mousedown"===t)this._downEl=n,this._downPoint=[e.zrX,e.zrY],this._upEl=n;else if("mouseup"===t)this._upEl=n;else if("click"===t){if(this._downEl!==this._upEl||!this._downPoint||Ct(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(i,t,e)}}));var Js=Zs;function ta(t,e,i,n){var r=e+1;if(r===i)return 1;if(n(t[r++],t[e])<0){for(;r<i&&n(t[r],t[r-1])<0;)r++;!function(t,e,i){for(i--;e<i;){var n=t[e];t[e++]=t[i],t[i--]=n}}(t,e,r)}else for(;r<i&&n(t[r],t[r-1])>=0;)r++;return r-e}function ea(t,e,i,n,r){for(n===e&&n++;n<i;n++){for(var o,s=t[n],a=e,h=n;a<h;)r(s,t[o=a+h>>>1])<0?h=o:a=o+1;var l=n-a;switch(l){case 3:t[a+3]=t[a+2];case 2:t[a+2]=t[a+1];case 1:t[a+1]=t[a];break;default:for(;l>0;)t[a+l]=t[a+l-1],l--}t[a]=s}}function ia(t,e,i,n,r,o){var s=0,a=0,h=1;if(o(t,e[i+r])>0){for(a=n-r;h<a&&o(t,e[i+r+h])>0;)s=h,(h=1+(h<<1))<=0&&(h=a);h>a&&(h=a),s+=r,h+=r}else{for(a=r+1;h<a&&o(t,e[i+r-h])<=0;)s=h,(h=1+(h<<1))<=0&&(h=a);h>a&&(h=a);var l=s;s=r-h,h=r-l}for(s++;s<h;){var c=s+(h-s>>>1);o(t,e[i+c])>0?s=c+1:h=c}return h}function na(t,e,i,n,r,o){var s=0,a=0,h=1;if(o(t,e[i+r])<0){for(a=r+1;h<a&&o(t,e[i+r-h])<0;)s=h,(h=1+(h<<1))<=0&&(h=a);h>a&&(h=a);var l=s;s=r-h,h=r-l}else{for(a=n-r;h<a&&o(t,e[i+r+h])>=0;)s=h,(h=1+(h<<1))<=0&&(h=a);h>a&&(h=a),s+=r,h+=r}for(s++;s<h;){var c=s+(h-s>>>1);o(t,e[i+c])<0?h=c:s=c+1}return h}var ra=!1;function oa(){ra||(ra=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function sa(t,e){return t.zlevel===e.zlevel?t.z===e.z?t.z2-e.z2:t.z-e.z:t.zlevel-e.zlevel}var aa,ha,la=function(){function t(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=sa}return t.prototype.traverse=function(t,e){for(var i=0;i<this._roots.length;i++)this._roots[i].traverse(t,e)},t.prototype.getDisplayList=function(t,e){e=e||!1;var i=this._displayList;return!t&&i.length||this.updateDisplayList(e),i},t.prototype.updateDisplayList=function(t){this._displayListLen=0;for(var e=this._roots,i=this._displayList,n=0,r=e.length;n<r;n++)this._updateAndAddDisplayable(e[n],null,t);i.length=this._displayListLen,we.canvasSupported&&function(t,e,i,n){i||(i=0),n||(n=t.length);var r=n-i;if(!(r<2)){var o=0;if(r<32)ea(t,i,n,i+(o=ta(t,i,n,e)),e);else{var s=function(t,e){var i,n,r=7,o=0,s=[];function a(a){var h=i[a],l=n[a],c=i[a+1],u=n[a+1];n[a]=l+u,a===o-3&&(i[a+1]=i[a+2],n[a+1]=n[a+2]),o--;var d=na(t[c],t,h,l,0,e);h+=d,0!=(l-=d)&&0!==(u=ia(t[h+l-1],t,c,u,u-1,e))&&(l<=u?function(i,n,o,a){var h=0;for(h=0;h<n;h++)s[h]=t[i+h];var l=0,c=o,u=i;if(t[u++]=t[c++],0!=--a)if(1!==n){for(var d,p,f,g=r;;){d=0,p=0,f=!1;do{if(e(t[c],s[l])<0){if(t[u++]=t[c++],p++,d=0,0==--a){f=!0;break}}else if(t[u++]=s[l++],d++,p=0,1==--n){f=!0;break}}while((d|p)<g);if(f)break;do{if(0!==(d=na(t[c],s,l,n,0,e))){for(h=0;h<d;h++)t[u+h]=s[l+h];if(u+=d,l+=d,(n-=d)<=1){f=!0;break}}if(t[u++]=t[c++],0==--a){f=!0;break}if(0!==(p=ia(s[l],t,c,a,0,e))){for(h=0;h<p;h++)t[u+h]=t[c+h];if(u+=p,c+=p,0==(a-=p)){f=!0;break}}if(t[u++]=s[l++],1==--n){f=!0;break}g--}while(d>=7||p>=7);if(f)break;g<0&&(g=0),g+=2}if((r=g)<1&&(r=1),1===n){for(h=0;h<a;h++)t[u+h]=t[c+h];t[u+a]=s[l]}else{if(0===n)throw new Error;for(h=0;h<n;h++)t[u+h]=s[l+h]}}else{for(h=0;h<a;h++)t[u+h]=t[c+h];t[u+a]=s[l]}else for(h=0;h<n;h++)t[u+h]=s[l+h]}(h,l,c,u):function(i,n,o,a){var h=0;for(h=0;h<a;h++)s[h]=t[o+h];var l=i+n-1,c=a-1,u=o+a-1,d=0,p=0;if(t[u--]=t[l--],0!=--n)if(1!==a){for(var f=r;;){var g=0,_=0,v=!1;do{if(e(s[c],t[l])<0){if(t[u--]=t[l--],g++,_=0,0==--n){v=!0;break}}else if(t[u--]=s[c--],_++,g=0,1==--a){v=!0;break}}while((g|_)<f);if(v)break;do{if(0!=(g=n-na(s[c],t,i,n,n-1,e))){for(n-=g,p=1+(u-=g),d=1+(l-=g),h=g-1;h>=0;h--)t[p+h]=t[d+h];if(0===n){v=!0;break}}if(t[u--]=s[c--],1==--a){v=!0;break}if(0!=(_=a-ia(t[l],s,0,a,a-1,e))){for(a-=_,p=1+(u-=_),d=1+(c-=_),h=0;h<_;h++)t[p+h]=s[d+h];if(a<=1){v=!0;break}}if(t[u--]=t[l--],0==--n){v=!0;break}f--}while(g>=7||_>=7);if(v)break;f<0&&(f=0),f+=2}if((r=f)<1&&(r=1),1===a){for(p=1+(u-=n),d=1+(l-=n),h=n-1;h>=0;h--)t[p+h]=t[d+h];t[u]=s[c]}else{if(0===a)throw new Error;for(d=u-(a-1),h=0;h<a;h++)t[d+h]=s[h]}}else{for(p=1+(u-=n),d=1+(l-=n),h=n-1;h>=0;h--)t[p+h]=t[d+h];t[u]=s[c]}else for(d=u-(a-1),h=0;h<a;h++)t[d+h]=s[h]}(h,l,c,u))}return i=[],n=[],{mergeRuns:function(){for(;o>1;){var t=o-2;if(t>=1&&n[t-1]<=n[t]+n[t+1]||t>=2&&n[t-2]<=n[t]+n[t-1])n[t-1]<n[t+1]&&t--;else if(n[t]>n[t+1])break;a(t)}},forceMergeRuns:function(){for(;o>1;){var t=o-2;t>0&&n[t-1]<n[t+1]&&t--,a(t)}},pushRun:function(t,e){i[o]=t,n[o]=e,o+=1}}}(t,e),a=function(t){for(var e=0;t>=32;)e|=1&t,t>>=1;return t+e}(r);do{if((o=ta(t,i,n,e))<a){var h=r;h>a&&(h=a),ea(t,i,i+h,i+o,e),o=h}s.pushRun(i,o),s.mergeRuns(),r-=o,i+=o}while(0!==r);s.forceMergeRuns()}}}(i,sa)},t.prototype._updateAndAddDisplayable=function(t,e,i){if(!t.ignore||i){t.beforeUpdate(),t.update(),t.afterUpdate();var n=t.getClipPath();if(t.ignoreClip)e=null;else if(n){e=e?e.slice():[];for(var r=n,o=t;r;)r.parent=o,r.updateTransform(),e.push(r),o=r,r=r.getClipPath()}if(t.childrenRef){for(var s=t.childrenRef(),a=0;a<s.length;a++){var h=s[a];t.__dirty&&(h.__dirty|=Ee.REDARAW_BIT),this._updateAndAddDisplayable(h,e,i)}t.__dirty=0}else{var l=t;e&&e.length?l.__clipPaths=e:l.__clipPaths&&l.__clipPaths.length>0&&(l.__clipPaths=[]),isNaN(l.z)&&(oa(),l.z=0),isNaN(l.z2)&&(oa(),l.z2=0),isNaN(l.zlevel)&&(oa(),l.zlevel=0),this._displayList[this._displayListLen++]=l}var c=t.getDecalElement&&t.getDecalElement();c&&this._updateAndAddDisplayable(c,e,i);var u=t.getTextGuideLine();u&&this._updateAndAddDisplayable(u,e,i);var d=t.getTextContent();d&&this._updateAndAddDisplayable(d,e,i)}},t.prototype.addRoot=function(t){t.__zr&&t.__zr.storage===this||this._roots.push(t)},t.prototype.delRoot=function(t){if(t instanceof Array)for(var e=0,i=t.length;e<i;e++)this.delRoot(t[e]);else{var n=P(this._roots,t);n>=0&&this._roots.splice(n,1)}},t.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},t.prototype.getRoots=function(){return this._roots},t.prototype.dispose=function(){this._displayList=null,this._roots=null},t}(),ca="undefined"!=typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){return setTimeout(t,16)},ua=function(t){function e(e){var i=t.call(this)||this;return i._running=!1,i._time=0,i._pausedTime=0,i._pauseStart=0,i._paused=!1,i.stage=(e=e||{}).stage||{},i.onframe=e.onframe||function(){},i}return s(e,t),e.prototype.addClip=function(t){t.animation&&this.removeClip(t),this._clipsHead?(this._clipsTail.next=t,t.prev=this._clipsTail,t.next=null,this._clipsTail=t):this._clipsHead=this._clipsTail=t,t.animation=this},e.prototype.addAnimator=function(t){t.animation=this;var e=t.getClip();e&&this.addClip(e)},e.prototype.removeClip=function(t){if(t.animation){var e=t.prev,i=t.next;e?e.next=i:this._clipsHead=i,i?i.prev=e:this._clipsTail=e,t.next=t.prev=t.animation=null}},e.prototype.removeAnimator=function(t){var e=t.getClip();e&&this.removeClip(e),t.animation=null},e.prototype.update=function(t){for(var e=(new Date).getTime()-this._pausedTime,i=e-this._time,n=this._clipsHead;n;){var r=n.next;n.step(e,i)?(n.ondestroy&&n.ondestroy(),this.removeClip(n),n=r):n=r}this._time=e,t||(this.onframe(i),this.trigger("frame",i),this.stage.update&&this.stage.update())},e.prototype._startLoop=function(){var t=this;this._running=!0,ca((function e(){t._running&&(ca(e),!t._paused&&t.update())}))},e.prototype.start=function(){this._running||(this._time=(new Date).getTime(),this._pausedTime=0,this._startLoop())},e.prototype.stop=function(){this._running=!1},e.prototype.pause=function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},e.prototype.resume=function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},e.prototype.clear=function(){for(var t=this._clipsHead;t;){var e=t.next;t.prev=t.next=t.animation=null,t=e}this._clipsHead=this._clipsTail=null},e.prototype.isFinished=function(){return null==this._clipsHead},e.prototype.animate=function(t,e){e=e||{},this.start();var i=new fe(t,e.loop);return this.addAnimator(i),i},e}(ge),da=we.domSupported,pa=(ha={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},{mouse:aa=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],touch:["touchstart","touchend","touchmove"],pointer:function(t,e,i){if(!t)return[];if(!e)return function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];return v.apply(t,e)}(t);if(t.map&&t.map===m)return t.map(e,void 0);for(var n=[],r=0,o=t.length;r<o;r++)n.push(e.call(void 0,t[r],r,t));return n}(aa,(function(t){var e=t.replace("mouse","pointer");return ha.hasOwnProperty(e)?e:t}))}),fa=["mousemove","mouseup"],ga=["pointermove","pointerup"],_a=!1;function va(t){var e=t.pointerType;return"pen"===e||"touch"===e}function ma(t){t&&(t.zrByTouch=!0)}function ya(t,e){for(var i=e,n=!1;i&&9!==i.nodeType&&!(n=i.domBelongToZr||i!==e&&i===t.painterRoot);)i=i.parentNode;return n}var wa=function(t,e){this.stopPropagation=F,this.stopImmediatePropagation=F,this.preventDefault=F,this.type=e.type,this.target=this.currentTarget=t.dom,this.pointerType=e.pointerType,this.clientX=e.clientX,this.clientY=e.clientY},ba={mousedown:function(t){t=Ws(this.dom,t),this.__mayPointerCapture=[t.zrX,t.zrY],this.trigger("mousedown",t)},mousemove:function(t){t=Ws(this.dom,t);var e=this.__mayPointerCapture;!e||t.zrX===e[0]&&t.zrY===e[1]||this.__togglePointerCapture(!0),this.trigger("mousemove",t)},mouseup:function(t){t=Ws(this.dom,t),this.__togglePointerCapture(!1),this.trigger("mouseup",t)},mouseout:function(t){ya(this,(t=Ws(this.dom,t)).toElement||t.relatedTarget)||(this.__pointerCapturing&&(t.zrEventControl="no_globalout"),this.trigger("mouseout",t))},wheel:function(t){_a=!0,t=Ws(this.dom,t),this.trigger("mousewheel",t)},mousewheel:function(t){_a||(t=Ws(this.dom,t),this.trigger("mousewheel",t))},touchstart:function(t){ma(t=Ws(this.dom,t)),this.__lastTouchMoment=new Date,this.handler.processGesture(t,"start"),ba.mousemove.call(this,t),ba.mousedown.call(this,t)},touchmove:function(t){ma(t=Ws(this.dom,t)),this.handler.processGesture(t,"change"),ba.mousemove.call(this,t)},touchend:function(t){ma(t=Ws(this.dom,t)),this.handler.processGesture(t,"end"),ba.mouseup.call(this,t),+new Date-+this.__lastTouchMoment<300&&ba.click.call(this,t)},pointerdown:function(t){ba.mousedown.call(this,t)},pointermove:function(t){va(t)||ba.mousemove.call(this,t)},pointerup:function(t){ba.mouseup.call(this,t)},pointerout:function(t){va(t)||ba.mouseout.call(this,t)}};M(["click","dblclick","contextmenu"],(function(t){ba[t]=function(e){e=Ws(this.dom,e),this.trigger(t,e)}}));var xa={pointermove:function(t){va(t)||xa.mousemove.call(this,t)},pointerup:function(t){xa.mouseup.call(this,t)},mousemove:function(t){this.trigger("mousemove",t)},mouseup:function(t){var e=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",t),e&&(t.zrEventControl="only_globalout",this.trigger("mouseout",t))}};function Ta(t,e,i,n){t.mounted[e]=i,t.listenerOpts[e]=n,function(t,e,i,n){Ls?t.addEventListener(e,i,n):t.attachEvent("on"+e,i)}(t.domTarget,e,i,n)}function Sa(t){var e,i,n,r=t.mounted;for(var o in r)r.hasOwnProperty(o)&&(e=t.domTarget,i=o,n=r[o],Ls?e.removeEventListener(i,n,t.listenerOpts[o]):e.detachEvent("on"+i,n));t.mounted={}}var Da=function(t,e){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=t,this.domHandlers=e},Ca=function(t){function e(e,i){var n,r,o,s=t.call(this)||this;return s.__pointerCapturing=!1,s.dom=e,s.painterRoot=i,s._localHandlerScope=new Da(e,ba),da&&(s._globalHandlerScope=new Da(document,xa)),n=s,o=(r=s._localHandlerScope).domHandlers,we.pointerEventsSupported?M(pa.pointer,(function(t){Ta(r,t,(function(e){o[t].call(n,e)}))})):(we.touchEventsSupported&&M(pa.touch,(function(t){Ta(r,t,(function(e){o[t].call(n,e),function(t){t.touching=!0,null!=t.touchTimer&&(clearTimeout(t.touchTimer),t.touchTimer=null),t.touchTimer=setTimeout((function(){t.touching=!1,t.touchTimer=null}),700)}(r)}))})),M(pa.mouse,(function(t){Ta(r,t,(function(e){e=Bs(e),r.touching||o[t].call(n,e)}))}))),s}return s(e,t),e.prototype.dispose=function(){Sa(this._localHandlerScope),da&&Sa(this._globalHandlerScope)},e.prototype.setCursor=function(t){this.dom.style&&(this.dom.style.cursor=t||"default")},e.prototype.__togglePointerCapture=function(t){if(this.__mayPointerCapture=null,da&&+this.__pointerCapturing^+t){this.__pointerCapturing=t;var e=this._globalHandlerScope;t?function(t,e){function i(i){Ta(e,i,(function(n){n=Bs(n),ya(t,n.target)||(n=function(t,e){return Ws(t.dom,new wa(t,e),!0)}(t,n),e.domHandlers[i].call(t,n))}),{capture:!0})}we.pointerEventsSupported?M(ga,i):we.touchEventsSupported||M(fa,i)}(this,e):Sa(e)}},e}(ge),ka=!we.canvasSupported,Pa={},Ea={},Ra=function(){function t(t,e,i){var n=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,i=i||{},this.dom=e,this.id=t;var r=new la,o=i.renderer||"canvas";if(ka)throw new Error("IE8 support has been dropped since 5.0");if(Pa[o]||(o=A(Pa)[0]),!Pa[o])throw new Error("Renderer '"+o+"' is not imported. Please import it first.");i.useDirtyRect=null!=i.useDirtyRect&&i.useDirtyRect;var s=new Pa[o](e,r,i,t);this.storage=r,this.painter=s;var a=we.node||we.worker?null:new Ca(s.getViewportRoot(),s.root);this.handler=new Js(r,s,a,s.root),this.animation=new ua({stage:{update:function(){return n._flush(!0)}}}),this.animation.start()}return t.prototype.add=function(t){t&&(this.storage.addRoot(t),t.addSelfToZr(this),this.refresh())},t.prototype.remove=function(t){t&&(this.storage.delRoot(t),t.removeSelfFromZr(this),this.refresh())},t.prototype.configLayer=function(t,e){this.painter.configLayer&&this.painter.configLayer(t,e),this.refresh()},t.prototype.setBackgroundColor=function(t){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this.refresh(),this._backgroundColor=t,this._darkMode=function(t){if(!t)return!1;if("string"==typeof t)return te(t,1)<.4;if(t.colorStops){for(var e=t.colorStops,i=0,n=e.length,r=0;r<n;r++)i+=te(e[r].color,1);return(i/=n)<.4}return!1}(t)},t.prototype.getBackgroundColor=function(){return this._backgroundColor},t.prototype.setDarkMode=function(t){this._darkMode=t},t.prototype.isDarkMode=function(){return this._darkMode},t.prototype.refreshImmediately=function(t){t||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},t.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},t.prototype.flush=function(){this._flush(!1)},t.prototype._flush=function(t){var e,i=(new Date).getTime();this._needsRefresh&&(e=!0,this.refreshImmediately(t)),this._needsRefreshHover&&(e=!0,this.refreshHoverImmediately());var n=(new Date).getTime();e?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:n-i})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},t.prototype.setSleepAfterStill=function(t){this._sleepAfterStill=t},t.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},t.prototype.addHover=function(t){},t.prototype.removeHover=function(t){},t.prototype.clearHover=function(){},t.prototype.refreshHover=function(){this._needsRefreshHover=!0},t.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&"canvas"===this.painter.getType()&&this.painter.refreshHover()},t.prototype.resize=function(t){this.painter.resize((t=t||{}).width,t.height),this.handler.resize()},t.prototype.clearAnimation=function(){this.animation.clear()},t.prototype.getWidth=function(){return this.painter.getWidth()},t.prototype.getHeight=function(){return this.painter.getHeight()},t.prototype.pathToImage=function(t,e){if(this.painter.pathToImage)return this.painter.pathToImage(t,e)},t.prototype.setCursorStyle=function(t){this.handler.setCursorStyle(t)},t.prototype.findHover=function(t,e){return this.handler.findHover(t,e)},t.prototype.on=function(t,e,i){return this.handler.on(t,e,i),this},t.prototype.off=function(t,e){this.handler.off(t,e)},t.prototype.trigger=function(t,e){this.handler.trigger(t,e)},t.prototype.clear=function(){for(var t=this.storage.getRoots(),e=0;e<t.length;e++)t[e]instanceof En&&t[e].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},t.prototype.dispose=function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,delete Ea[this.id]},t}();const Ma={leading:!0,trailing:!1};function Aa(t,e=sr,i=Ma){return n=>n.lift(new Oa(t,e,i.leading,i.trailing))}class Oa{constructor(t,e,i,n){this.duration=t,this.scheduler=e,this.leading=i,this.trailing=n}call(t,e){return e.subscribe(new Ia(t,this.duration,this.scheduler,this.leading,this.trailing))}}class Ia extends or.a{constructor(t,e,i,n,r){super(t),this.duration=e,this.scheduler=i,this.leading=n,this.trailing=r,this._hasTrailingValue=!1,this._trailingValue=null}_next(t){this.throttled?this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(La,this.duration,{subscriber:this})),this.leading?this.destination.next(t):this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0))}_complete(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}clearThrottle(){const t=this.throttled;t&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),t.unsubscribe(),this.remove(t),this.throttled=null)}}function La(t){const{subscriber:e}=t;e.clearThrottle()}const za=["xTrack"],Na=["yTrack"],Ha=["xThumb"],Fa=["yThumb"];let Ba=(()=>{class t{constructor(t){this.cd=t,this._scrollTop=0,this.scrollTopChange=new In.n,this.scrollLeft=0,this.scrollLeftChange=new In.n,this.dragPositionY={y:0,x:0},this.dragPositionX={x:0,y:0},this.xScrollTrackStyle=null,this.yScrollTrackStyle=null,this.xScrollStyle={width:"0px"},this.yScrollStyle={height:"0px"},this.yThumbMoveEvent=new Un.a,this.xThumbMoveEvent=new Un.a,this.getOffsetYFromTransform=t=>{if("string"!=typeof t)return;const e=t.split("px,")[1];return Number(e)/(this.viewHeight/this.totalHeight)},this.getOffsetXFromTransform=t=>{if("string"!=typeof t)return;const e=t.split("(")[1].split("px")[0];return Number(e)/(this.viewWidth/this.totalWidth)}}set scrollTrack(t){this.xScrollTrackStyle={left:t.left+"px",right:t.right+"px"},this.yScrollTrackStyle={top:t.top+"px",bottom:t.bottom+"px"}}set scrollTop(t){this.onHostWheelMouse(t)}ngOnInit(){}ngOnChanges(t){}onYThumbMove(t){null!==t.delta.y&&this.yThumbMoveEvent.next(this.yThumb.nativeElement.style.transform)}onXThumbMove(t){null!==t.delta.x&&this.xThumbMoveEvent.next(this.xThumb.nativeElement.style.transform)}ngAfterViewInit(){this.addEventListenerByWindowResize(),this.addEventListenerByThumbMoveEvent()}addEventListenerByWindowResize(){Object(Ir.a)(Object(jn.a)(0),Zn(window,"resize")).pipe(Ao(80)).subscribe(t=>{this.yScrollStyle.height=this.viewHeight/this.totalHeight*this.yTrack.nativeElement.clientHeight+"px",this.xScrollStyle.width=this.viewWidth/this.totalWidth*this.xTrack.nativeElement.clientWidth+"px",this.cd.detectChanges()})}addEventListenerByThumbMoveEvent(){this.yThumbMoveEvent.pipe(Aa(5),yr(),Object(fr.a)(t=>t[0]!=t[1])).subscribe(t=>{const e=this.getOffsetYFromTransform(t[1]);this._scrollTop=e,this.scrollTopChange.emit(e)}),this.xThumbMoveEvent.pipe(Aa(5),yr(),Object(fr.a)(t=>t[0]!=t[1])).subscribe(t=>{const e=this.getOffsetXFromTransform(t[1]);this.scrollLeftChange.emit(e)})}onHostWheelMouse(t){t<0&&(t=0);const e=this.totalHeight-this.viewHeight;if(t>e&&(t=e),this.scrollTopChange.emit(t),t==this._scrollTop)return;const i=this.yTrack.nativeElement.clientHeight-this.yThumb.nativeElement.clientHeight;let n=t*this.viewHeight/this.totalHeight;n>i&&(n=i),this._scrollTop=t,this.dragPositionY={y:n,x:0}}}return t.\u0275fac=function(e){return new(e||t)(In.Ib(In.h))},t.\u0275cmp=In.Cb({type:t,selectors:[["gantt-scroll-thumb"]],viewQuery:function(t,e){var i;1&t&&(In.cc(za,!0),In.cc(Na,!0),In.cc(Ha,!0),In.cc(Fa,!0)),2&t&&(In.Wb(i=In.Rb())&&(e.xTrack=i.first),In.Wb(i=In.Rb())&&(e.yTrack=i.first),In.Wb(i=In.Rb())&&(e.xThumb=i.first),In.Wb(i=In.Rb())&&(e.yThumb=i.first))},inputs:{totalHeight:"totalHeight",totalWidth:"totalWidth",viewHeight:"viewHeight",viewWidth:"viewWidth",scrollTrack:"scrollTrack",scrollTop:"scrollTop",scrollLeft:"scrollLeft"},outputs:{scrollTopChange:"scrollTopChange",scrollLeftChange:"scrollLeftChange"},features:[In.wb],decls:8,vars:6,consts:[[1,"scroll-track","scroll-track-x",3,"ngStyle"],["xTrack",""],["cdkDrag","","cdkDragLockAxis","x","cdkDragBoundary",".scroll-track-x",1,"scroll-thumb","scroll-x",3,"ngStyle","cdkDragFreeDragPosition","cdkDragMoved"],["xThumb",""],[1,"scroll-track","scroll-track-y",3,"ngStyle"],["yTrack",""],["cdkDrag","","cdkDragLockAxis","y","cdkDragBoundary",".scroll-track-y",1,"scroll-thumb","scroll-y",3,"ngStyle","cdkDragFreeDragPosition","cdkDragMoved"],["yThumb",""]],template:function(t,e){1&t&&(In.Lb(0,"div",0,1),In.Lb(2,"div",2,3),In.Qb("cdkDragMoved",(function(t){return e.onXThumbMove(t)})),In.Kb(),In.Kb(),In.Lb(4,"div",4,5),In.Lb(6,"div",6,7),In.Qb("cdkDragMoved",(function(t){return e.onYThumbMove(t)})),In.Kb(),In.Kb()),2&t&&(In.Ub("ngStyle",e.xScrollTrackStyle),In.yb(2),In.Ub("ngStyle",e.xScrollStyle)("cdkDragFreeDragPosition",e.dragPositionX),In.yb(2),In.Ub("ngStyle",e.yScrollTrackStyle),In.yb(2),In.Ub("ngStyle",e.yScrollStyle)("cdkDragFreeDragPosition",e.dragPositionY))},directives:[r.h,Do],styles:["[_nghost-%COMP%]{--scroll-thumb-width:8px;--scroll-thumb-hover-width:10px}[_nghost-%COMP%]   .scroll-track[_ngcontent-%COMP%]{position:absolute}[_nghost-%COMP%]   .scroll-track-x[_ngcontent-%COMP%]{bottom:2px}[_nghost-%COMP%]   .scroll-track-y[_ngcontent-%COMP%]{right:2px}[_nghost-%COMP%]   .scroll-thumb[_ngcontent-%COMP%]{border-radius:5px;background-color:#cbcdd1;opacity:.88}[_nghost-%COMP%]   .scroll-thumb[_ngcontent-%COMP%]:hover{background-color:#888}[_nghost-%COMP%]   .scroll-x[_ngcontent-%COMP%]{height:var(--scroll-thumb-width);transition:background-color,height .15s cubic-bezier(.25,.1,.25,.1)}[_nghost-%COMP%]   .scroll-x[_ngcontent-%COMP%]:hover{height:var(--scroll-thumb-hover-width)}[_nghost-%COMP%]   .scroll-y[_ngcontent-%COMP%]{width:var(--scroll-thumb-width);transition:background-color,width .15s cubic-bezier(.25,.1,.25,.1)}[_nghost-%COMP%]   .scroll-y[_ngcontent-%COMP%]:hover{width:var(--scroll-thumb-hover-width)}"],changeDetection:0}),t})();var Wa=n.GanttScaleUnit,Ya=n.TASK_ROW_HEIGHT;const Ga=["ganttCanvasContainer"],Ua=["Xscroll"],ja=["Yscroll"],qa=["milestone"],Xa=function(){return{top:36,bottom:2,left:2,right:2}};let Va=(()=>{class t{constructor(t,e,i){this.ganttService=t,this.el=e,this.cd=i,this.scaleUnit=n.GanttScaleUnit.day,this.beginDate=new Date("2021-01-01"),this.endDate=new Date("2021-12-31"),this.taskList=[],this.render=null,this.xScrollGroup=null,this.yScrollGroup=null,this.scrollLeft=0,this.scrollTop=0,this.leftOffset=0,this.isAfterViewInited=!1}get scrollWidth(){return this.currentWidth/this.ganttWidth*this.currentWidth}get scrollHeight(){return this.currentHeight/this.ganttHeight*this.currentHeight}get currentWidth(){return this.el.nativeElement.clientWidth}get currentHeight(){return this.el.nativeElement.clientHeight}get ganttWidth(){return this.ganttService.getScaleUnitPixel(this.scaleUnit)*Yo(this.endDate,this.beginDate)+20}get ganttHeight(){return this.taskList.length*Ya*window.devicePixelRatio+100}ngOnChanges(t){t.scaleUnit&&this.isAfterViewInited&&this.initToy()}ngOnInit(){}ngAfterViewInit(){this.isAfterViewInited=!0,this.initToy(),this.addEventListenerByWindowResize(),this.addEventListenerByMouseWheel()}ngAfterViewChecked(){}onYScroll(t){var e;this.scrollTop=t,this.yScrollGroup.attr({y:null!==(e=-t)&&void 0!==e?e:0})}onXScroll(t){var e;this.scrollLeft=t,this.xScrollGroup.attr({x:null!==(e=-t)&&void 0!==e?e:0})}initToy(){this.initGantt(),this.generateScaleData(this.beginDate,this.endDate),this.yScrollGroup=new En({name:"yScrollGroup"}),this.generateTask(),this.xScrollGroup.add(this.yScrollGroup),this.render.add(this.xScrollGroup)}addEventListenerByWindowResize(){Zn(window,"resize").pipe(Ao(200)).subscribe(t=>{this.initContainer(),this.render.resize({width:this.currentWidth,height:this.currentHeight}),this.render.refresh()})}addEventListenerByMouseWheel(){Zn(this.ganttCanvasContainer.nativeElement,"wheel").subscribe(t=>{try{t.zrDelta>0?this.scrollTop-=25:this.scrollTop+=25,this.cd.markForCheck()}catch(t){console.warn(t)}})}initGantt(){const t=this.initContainer();this.initZCanvas(t)}initContainer(t=this.currentWidth,e=this.currentHeight){const i=this.ganttCanvasContainer.nativeElement;return i.style.width=t+"px",i.style.height=e+"px",i}initZCanvas(t,e=this.currentWidth,i=this.currentHeight){var n,r,o;this.render=(n=t,r={devicePixelRatio:window.devicePixelRatio,width:e,height:i},o=new Ra(T(),n,r),Ea[o.id]=o,o)}generateScaleData(t,e){const i=this.xScrollGroup=new En({name:"xScrollGroup"});if(i.add(this.ganttService.drawDateScaleBottomBorder(this.ganttWidth)),t&&e){let n=t;for(let t=0;!Go(n,e);t++){const e=t*this.ganttService.getScaleUnitPixel(this.scaleUnit)-this.leftOffset;this.generateDate(i,n,e),n=jo(n,1)}}}generateDate(t,e,i){this.generateDayScale(t,i,e),1==qo(e)&&this.generateMonth(t,e,i),0!=Xo(e)&&6!=Xo(e)||this.generateWeekend(t,i)}generateDayScale(t,e,i){const n=qo(i);this.scaleUnit!=Wa.day&&1!=Xo(i)||t.add(this.ganttService.drawDateScaleLeftBorder(e)),this.scaleUnit!=Wa.day&&1!=Xo(i)||t.add(this.ganttService.drawDayText(e,n,this.scaleUnit))}generateMonth(t,e,i){const n=function(t,e,i){zo(2,arguments);var n=String(e),r=i||{},o=r.locale||es,s=o.options&&o.options.firstWeekContainsDate,a=null==s?1:Uo(s),h=null==r.firstWeekContainsDate?a:Uo(r.firstWeekContainsDate);if(!(h>=1&&h<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var l=o.options&&o.options.weekStartsOn,c=null==l?0:Uo(l),u=null==r.weekStartsOn?c:Uo(r.weekStartsOn);if(!(u>=0&&u<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!o.localize)throw new RangeError("locale must contain localize property");if(!o.formatLong)throw new RangeError("locale must contain formatLong property");var d=No(t);if(!Vo(d))throw new RangeError("Invalid time value");var p=Ho(d),f=ns(d,p),g={firstWeekContainsDate:h,weekStartsOn:u,locale:o,_originalDate:d},_=n.match(Ss).map((function(t){var e=t[0];return"p"===e||"P"===e?(0,vs[e])(t,o.formatLong,g):t})).join("").match(Ts).map((function(i){if("''"===i)return"'";var n=i[0];if("'"===n)return Ps(i);var s=fs[n];if(s)return!r.useAdditionalWeekYearTokens&&bs(i)&&xs(i,e,t),!r.useAdditionalDayOfYearTokens&&ws(i)&&xs(i,e,t),s(f,i,o.localize,g);if(n.match(ks))throw new RangeError("Format string contains an unescaped latin alphabet character `"+n+"`");return i})).join("");return _}(e,"yyyy-MM");t.add(this.ganttService.drawMonthText(i,n)),t.add(this.ganttService.drawMonthScaleLine(i))}generateWeekend(t,e){t.add(this.ganttService.drawNonworkdayBackground(e,this.scaleUnit))}generateTask(){const t=this.taskList;for(let e=0;e<t.length;e++){let i=t[e];const r=35.5+e*n.TASK_ROW_HEIGHT,o=Yo(i.startDate,this.beginDate)*this.ganttService.getScaleUnitPixel(this.scaleUnit),s=(Yo(i.endDate,i.startDate)+1)*this.ganttService.getScaleUnitPixel(this.scaleUnit);this.yScrollGroup.add(this.ganttService.drawTask(i.type,o,r,s,this.ganttWidth,null==i?void 0:i.color))}}}return t.\u0275fac=function(e){return new(e||t)(In.Ib(Wn),In.Ib(In.l),In.Ib(In.h))},t.\u0275cmp=In.Cb({type:t,selectors:[["ng-gantt-chart"]],viewQuery:function(t,e){var i;1&t&&(In.cc(Ga,!0),In.cc(Ua,!0),In.cc(ja,!0),In.cc(qa,!0)),2&t&&(In.Wb(i=In.Rb())&&(e.ganttCanvasContainer=i.first),In.Wb(i=In.Rb())&&(e.xScroll=i.first),In.Wb(i=In.Rb())&&(e.yScroll=i.first),In.Wb(i=In.Rb())&&(e.milestone=i.first))},inputs:{scaleUnit:"scaleUnit",beginDate:"beginDate",endDate:"endDate",taskList:"taskList"},features:[In.wb],decls:3,vars:8,consts:[["ganttCanvasContainer",""],[3,"totalHeight","totalWidth","viewHeight","viewWidth","scrollTrack","scrollTop","scrollLeft","scrollTopChange","scrollLeftChange"]],template:function(t,e){1&t&&(In.Jb(0,"div",null,0),In.Lb(2,"gantt-scroll-thumb",1),In.Qb("scrollTopChange",(function(t){return e.onYScroll(t)}))("scrollLeftChange",(function(t){return e.onXScroll(t)})),In.Kb()),2&t&&(In.yb(2),In.Ub("totalHeight",e.ganttHeight)("totalWidth",e.ganttWidth)("viewHeight",e.currentHeight)("viewWidth",e.currentWidth)("scrollTrack",In.Vb(7,Xa))("scrollTop",e.scrollTop)("scrollLeft",e.scrollLeft))},directives:[Ba],styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%;position:relative;overflow:hidden}"],changeDetection:0}),t})(),Ka=(()=>{class t{constructor(){this.currentYear=(new Date).getFullYear(),this.gantConfig={scaleUnit:n.GanttScaleUnit.day,beginMoment:new Date(this.currentYear,0,1),endMoment:new Date(this.currentYear,11,31),data:[]}}ngOnInit(){this.gantConfig.data=Mo}changeScale(t){this.gantConfig.scaleUnit=[n.GanttScaleUnit.day,n.GanttScaleUnit.week,n.GanttScaleUnit.month][t]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=In.Cb({type:t,selectors:[["app-gantt-demo"]],decls:8,vars:4,consts:[[1,"tool-bar"],[3,"click"],[3,"endDate","beginDate","scaleUnit","taskList"]],template:function(t,e){1&t&&(In.Lb(0,"div",0),In.Lb(1,"a",1),In.Qb("click",(function(){return e.changeScale(0)})),In.bc(2,"\u65e5"),In.Kb(),In.Lb(3,"a",1),In.Qb("click",(function(){return e.changeScale(1)})),In.bc(4,"\u5468"),In.Kb(),In.Lb(5,"a",1),In.Qb("click",(function(){return e.changeScale(2)})),In.bc(6,"\u6708"),In.Kb(),In.Kb(),In.Jb(7,"ng-gantt-chart",2)),2&t&&(In.yb(7),In.Ub("endDate",e.gantConfig.endMoment)("beginDate",e.gantConfig.beginMoment)("scaleUnit",e.gantConfig.scaleUnit)("taskList",e.gantConfig.data))},directives:[Va],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%;width:100%;overflow:hidden}[_nghost-%COMP%]   .tool-bar[_ngcontent-%COMP%]{height:50px;display:flex}[_nghost-%COMP%]   .tool-bar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;width:44px;height:20px;border-radius:4px;color:#9e9e9e;text-align:center;line-height:20px;box-shadow:0 0 6px hsla(0,0%,62%,.2784313725490196);margin:12px;cursor:pointer;text-decoration:none}[_nghost-%COMP%]   .tool-bar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{color:#333}[_nghost-%COMP%]   ng-gantt-chart[_ngcontent-%COMP%]{flex-grow:1}"]}),t})();var Za=i("tyNb");let Qa=(()=>{class t{}return t.\u0275mod=In.Gb({type:t}),t.\u0275inj=In.Fb({factory:function(e){return new(e||t)},imports:[[r.b,Eo,Za.a.forChild([{path:"",component:Ka}])]]}),t})()}}]);